<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 139 Minutes 2025-10-21</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 139 Minutes 2025-10-21</h1>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/0]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[9/11]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a></li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[/]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#blocked">1.6.1. Blocked</a></li>
<li><a href="#merge-without-discussion">1.6.2. Merge without discussion</a></li>
<li><a href="#close-without-action">1.6.3. Close without action</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical agenda</a>
<ul>
<li><a href="#pr-2249">2.1. PR #2249: 2221 fn:unparsed-text: Encoding, BOM handling</a></li>
<li><a href="#pr-2248">2.2. PR #2248: 2148b XDM Recognize that Base URI property may be invalid</a></li>
<li><a href="#pr-2223">2.3. PR #2223: 2193 fn:parse-xml, fn:doc: Drop security options</a></li>
<li><a href="#pr-2205">2.4. PR #2205: 2190 Drop binary input for parse-csv and parse-json</a></li>
<li><a href="#pr-2251">2.5. PR #2251: 323 Add select attribute to xsl:text</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
</ul>
</div>
</div>
<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Minutes</h2>
<div class="outline-text-2" id="text-minutes">
<p>
Approved <a href="../2025/10-28.html">at meeting 140</a> on 28 October 2025.
</p>
</div>
</div>
<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/0]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<p>
None.
</p>
</div>
</div>
<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>
<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[9/11]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<ul class="org-ul">
<li class="on"><code>[X]</code> David J Birnbaum (DB)</li>
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK)</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JWL)</li>
<li class="on"><code>[X]</code> Wendell Piez (WP)</li>
<li class="off"><code>[&#xa0;]</code> Ed Porter (EP)</li>
<li class="off"><code>[&#xa0;]</code> Bethan Tovey-Walsh (BTW)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW) <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>
<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2025/10-21.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2025/10-14.html">the minutes of the previous meeting</a>. 
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting is planned for 28 October 2025.
</p>

<p>
Heads up: daylight saving time ends in the UK and Europe on 26 October 2025. It
ends in the United States on 2 November 2025. Our meetings are scheduled on
European civil time, consequently, our meeting of 28 October 2025 will occur one
hour <b>later</b> in the United States at 12:00EDT.
</p>

<p>
JK gives regrets.
</p>
</div>
</div>
<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[/]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<p>
None
</p>
</div>
</div>
<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
<p>
This section summarizes all of the issues and pull requests that need to be
resolved before we can finish. See <a href="#technical-agenda">Technical Agenda</a> below for the focus of this
meeting.
</p>
</div>
<div id="outline-container-blocked" class="outline-4">
<h4 id="blocked"><span class="section-number-4">1.6.1.</span> Blocked</h4>
<div class="outline-text-4" id="text-blocked">
<p>
The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2256">#2256</a>: 2216 All atomic types become ordered</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2222">#2222</a>: 2217 bin:decode-string: Input encoding</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2208">#2208</a>: 675 (part) Update XSLT streamability rules</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2160">#2160</a>: 2073 data model changes for JNodes and Sequences</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2124">#2124</a>: 573 Functions to Construct Trees</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2120">#2120</a>: 2007 Revised design for xsl:array</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2071">#2071</a>: 77c deep update</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2019">#2019</a>: 1776: XSLT template rules for maps and array</li>
</ul>
</div>
</div>
<div id="outline-container-merge-without-discussion" class="outline-4">
<h4 id="merge-without-discussion"><span class="section-number-4">1.6.2.</span> Merge without discussion</h4>
<div class="outline-text-4" id="text-merge-without-discussion">
<p>
The following PRs are editorial, small, or otherwise appeared to be
uncontroversial when the agenda was prepared. The chairs propose that
these can be merged without discussion. If you think discussion is
necessary, please say so.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2255">#2255</a>: 2254 Fix spelling of nevertheless</li>
</ul>

<p>
Proposed: accept without discussion
</p>

<p>
Accepted
</p>
</div>
</div>
<div id="outline-container-close-without-action" class="outline-4">
<h4 id="close-without-action"><span class="section-number-4">1.6.3.</span> Close without action</h4>
<div class="outline-text-4" id="text-close-without-action">
<p>
It has been proposed that the following issues be closed without action.
If you think discussion is necessary, please say so.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1885">#1885</a>: Use the spcification grammar markup to define the regular expression grammar in F&amp;O</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1111">#1111</a>: xsl:pipeline</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/760">#760</a>: Serialize functions: consistency</li>
</ul>

<p>
Proposed: close without further action
</p>

<p>
Accepted
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>
<div id="outline-container-pr-2249" class="outline-3">
<h3 id="pr-2249"><span class="section-number-3">2.1.</span> PR #2249: 2221 fn:unparsed-text: Encoding, BOM handling</h3>
<div class="outline-text-3" id="text-pr-2249">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2249">#2249</a>
</p>

<p>
CG introduces the PR.
</p>

<ul class="org-ul">
<li>CG: There are some clarifications.
<ul class="org-ul">
<li>… I added a discussion of how to determine the encoding.</li>
<li>… The old rules weren’t complete.</li>
</ul></li>

<li>JLO: It sounds reasonable. Is it incompatible with the current version?</li>
<li>CG: It’s compatible.</li>
<li>NW: I’m surprised that the encoding specified isn’t unconditionally accepted</li>
<li>CG: You do. The first four rules only apply if the encoding is absent.</li>
<li>NW: <b>blush</b></li>
</ul>

<p>
Some discussion of server encodings.
</p>

<ul class="org-ul">
<li>WP: Are the different very often?</li>
<li>NW: I don’t think so, most of the world is using Unicode now.</li>

<li>RD: According to the WHATWG encoding spec, all the old encodings (Big5,
ShiftJIS, etc) are marked as legacy. They’ve pretty much standardized on UTF-8
but also supporting UTF-16. That’s typically supported by all the major web
browsers. See <a href="https://encoding.spec.whatwg.org">https://encoding.spec.whatwg.org</a></li>

<li>MK: Does the new text make it clear whether the BOM is dropped or included.</li>
<li>CG: It says “can be consumed”.</li>
<li>MK: That says “can”, I don’t think that’s clear. There was a final sentence
that said the BOM was discarded.</li>
<li>CG: That’s because the BOM is only discarded in the first three cases.</li>
<li>NW: I think an explicit statement that if a UTF encoding is determined and a
BOM is detected, it is discard.</li>
</ul>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>

<p>
NW will merge it after CG adds the clarification requested.
</p>
</div>
</div>
<div id="outline-container-pr-2248" class="outline-3">
<h3 id="pr-2248"><span class="section-number-3">2.2.</span> PR #2248: 2148b XDM Recognize that Base URI property may be invalid</h3>
<div class="outline-text-3" id="text-pr-2248">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2248">#2248</a>
</p>

<p>
MK introduces the changes proposed for the Data Model.
</p>

<ul class="org-ul">
<li>MK: It adds 7.3 Base URI that explains that the base URI can change, can be
absent, and that in practice you can’t rely on the value conforming to XML Base.
<ul class="org-ul">
<li>… You may accept a DOM or some other tree model that was constructed with a
value that wasn’t validated.</li>
<li>… Pragmatically, we acknowledge a third state: present but invalid.</li>
</ul></li>
<li>MK: That sets the ground work for saying that anything that relies on the base
URI may raise a dynamic error in this case.</li>
<li>CG: Thanks. I wondered what would happen if fn:base-uri is called or if you
have a direct constructor?</li>
<li>MK: If you’ve got an invalid base URI, it’s best to say that all bets are off.</li>
<li>CG: So it’s implementation dependent in practice.</li>
</ul>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-pr-2223" class="outline-3">
<h3 id="pr-2223"><span class="section-number-3">2.3.</span> PR #2223: 2193 fn:parse-xml, fn:doc: Drop security options</h3>
<div class="outline-text-3" id="text-pr-2223">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2223">#2223</a>
</p>

<ul class="org-ul">
<li>CG: I asked to have these options added, but on further exploration, there are
a lot of other limits in the JDK. So we would need lots of additional options.
<ul class="org-ul">
<li>… We also discussed the possibility of specifying different trust levels,
but we dropped that because it was limited to doc and parse-xml. It should
be more global.</li>
</ul></li>
<li>CG: So if we’re going to do that, it makes sense to drop these options.</li>
<li>RD: So are we thinking about something more like the number-format options?
<ul class="org-ul">
<li>… In XQuery you can use declare-decimal-format and declare a name.</li>
<li>… We could have a declare-security-options …</li>
</ul></li>
<li>MK: That’s a leap.</li>
<li>CG: That could be one way. Some use cases I have in mind are that users can
write their own query and we need to decide before that step that we need to
know what the user should be able to do. Those could be prefixes to the query.
<ul class="org-ul">
<li>… There are use cases where option declarations would make sense.</li>
</ul></li>
<li>JLO: We both have global options; they are not in the spec, but we don’t need
to have them in the spec unless you want to override them.</li>
<li>CG: One difficult question is which options will be sensible at all? It
depends a lot on the implementation: Java, JavaScript, C, etc. What can the
implementor actually do?</li>
<li>MK: I’ve got mixed views because I agree these options are inadequate. I’m
slightly reluctant to get rid of the only thing we’ve got. The area is
important to people and we do get questions about them. My instinct is to
accept this proposal but recognize that we have to do something.</li>
<li>JWL: If we think about this notion of doing a declaration, recall that the
changes you can make at that level can only be more strict than the security
policy above the query.</li>
<li>WP: I think MK put his finger on the problem. As I see it, it’s a question of
how the control interface can be exposed to the user in a useful way. But if
it raises more questions than it answers, then it might be better to have
something simple that’s easier to test.</li>
<li>RD: There are different levels. With Java, there are various flags you can
pass to the parser. In Python, there are various libraries and things with
different options and things like parser hardening. It’s difficult to get a
set of options that are platform/language agnostic.
<ul class="org-ul">
<li>… Then there’s the point about where do you pass them. If you want to be
really secure, you’d pass them as command line options.</li>
<li>… Do we want to have the ability to report different exceptions have failed
to parse entities.</li>
</ul></li>
<li>NW: I think there’s another dimension: does the user writing the query or
stylesheet trust the user? Sometimes I want to impose the constraints at the
point of the parse.</li>
<li>JLO: There are different levels, like NW said, I might want to run a parser or
something with limited options.</li>
<li>CG: Look at #2034 that we eventually decided to close.</li>
<li>JWL: There’s another PR talking about these levels; putting the possibility of
individually restricting on calls. A very good example might be that I’ve got
an XSLT stylesheet that uses xsl:evaluate; I need to do that, but I might want
to limit specific calls to xsl:evaluate to limit file access, for example.</li>
<li>MK: Is it worth looking at the #2213.</li>
</ul>

<p>
CG displays PR #2213.
</p>

<ul class="org-ul">
<li>MK: This attempts to provide a summary of the ways that you can access
external resources.
<ul class="org-ul">
<li>… Then it adds a trust level to the context. How much do you trust a
particular piece of code?</li>
<li>… You don’t really want to say allow external entities on one document and
not another, what you want to say is that I trust the person requesting
these documents.</li>
<li>… The main level where you want to change the trust level is when you invoke
new code: the environment, fn:transform, xsl:evaluate, etc.</li>
<li>… I’ve tried to limit it to three levels.</li>
</ul></li>
<li>JLO: I think this goes in a good direction. The level names are somewhat
arbitrary, I’d prefer things like, “no external access”, or other labels that
tell me more about the limitations.</li>
<li>CG: What I can add is that I like the idea to have a global way to decide what
to do. The challenge is to line this up with implementations. In BaseX, we
have lots of levels of access to databases, admin permissions, etc. But it’s
all BaseX specific. It’s not going to be possible to make this relevant for
Saxon, for example. And how would we bring these levels together with our own
security management.</li>
<li>JK: I think from this conversation, what I’m getting is that we need this not
just statically but also at runtime. What I want as a user is to make that
interface pretty much the same in both case.</li>
</ul>

<p>
Proposal: accept #2223.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-pr-2205" class="outline-3">
<h3 id="pr-2205"><span class="section-number-3">2.4.</span> PR #2205: 2190 Drop binary input for parse-csv and parse-json</h3>
<div class="outline-text-3" id="text-pr-2205">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2205">#2205</a>
</p>

<ul class="org-ul">
<li>CG: When we discussed this PR last time, we thought it might be best to wait
until we’ve revised decode-string.</li>
<li>NW: Fair point, let’s wait until we’ve done that.</li>
</ul>
</div>
</div>
<div id="outline-container-pr-2251" class="outline-3">
<h3 id="pr-2251"><span class="section-number-3">2.5.</span> PR #2251: 323 Add select attribute to xsl:text</h3>
<div class="outline-text-3" id="text-pr-2251">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2251">#2251</a>
</p>

<ul class="org-ul">
<li>MK: I resisted for a while, but I’ve been persuaded.</li>
<li>MK: What I’ve tried to do is make xsl:text and xsl:value-of as similar as
possible.
<ul class="org-ul">
<li>… There are a fair few incidental mentions that are no longer relevant.</li>
<li>… A new section, Creating Text Nodes, introduces both xsl:text and xsl:value-of</li>
<li>… The only real difference is that whitespace text nodes are preserved in xsl:text</li>
<li>… (There’s also a difference in 1.0 backwards compatibility mode)</li>
<li>… Most of the rest of the text is from xsl:value-of</li>
</ul></li>
<li>JWL: Is there any merit in trying to make xsl:attribute similar as well?</li>
<li>MK: Where they come together is in creating simple content.</li>
<li>JK: I really like this. The biggest take away is that xsl:value-of is essentially deprecated.</li>
<li>MK: We haven’t explicitly deprecated it, but I agree I wouldn’t recommend it anymore.</li>
<li>WP: I also like the proposal. The one thing I’d throw in there is that in the
first example we wouldn’t use three instructions like that in a row.</li>
</ul>

<p>
Some discussion of the distinctions with respect to whitespace.
</p>

<ul class="org-ul">
<li>JLO: Does it make sense to have a separator on comments?</li>
<li>MK: I don’t see a strong need to change comments just in the interest of
orthogonality.</li>
</ul>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>
<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<p>
None heard.
</p>
</div>
</div>
</div>
</body>
</html>
