:PROPERTIES:
:ID:       21755DE0-3A0C-41CB-95F0-279A9B85F58C
:end:
#+title: QT4 CG Meeting 115 Minutes 2025-03-26
#+author: Norm Tovey-Walsh
#+filetags: :qt4cg:
#+options: html-style:nil h:6 toc:nil
#+html_head: <link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
#+html_head: <link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
#+html_head: <link rel="shortcut icon" href="/img/QT4-64.png" />
#+html_head: <link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
#+html_head: <link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
#+html_head: <link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
#+html_head: <link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
#+options: author:nil email:nil creator:nil timestamp:nil
#+startup: showall

[[../][Meeting index]] / [[https://qt4cg.org][QT4CG.org]] / [[https://qt4cg.org/dashboard][Dashboard]] / [[https://github.com/qt4cg/qtspecs/issues][GH Issues]] / [[https://github.com/qt4cg/qtspecs/pulls][GH Pull Requests]]

#+TOC: headlines 6

* Draft Minutes
:PROPERTIES:
:unnumbered: t
:CUSTOM_ID: minutes
:END:

* Summary of new and continuing actions [0/4]
:PROPERTIES:
:unnumbered: t
:CUSTOM_ID: new-actions
:END:

+ [ ] QT4CG-082-02: DN to work with NW to come to agreement on the fn:ranks proposal
+ [ ] QT4CG-107-05: JLO and DN to consider a proposal for system defined records.
+ [ ] QT4CG-112-01: JLO to propose a concrete example that uses “.” in a ~%method~s.
+ [ ] QT4CG-113-02: NW to investigate a way to show extra attributes in the syntax summary.
+ [ ] QT4CG-115-01: MK to give an example of params passed automatically through next-match using a 3.0 version control
+ [ ] QT4CG-115-02: JWL to write a few tests for xsl:record

* Administrivia
:PROPERTIES:
:CUSTOM_ID: administrivia
:END:

** Roll call [11/13]
:PROPERTIES:
:CUSTOM_ID: roll-call
:END:

Regrets: NW, BTW.

+ [X] David J Birnbaum (DB)
+ [X] Reece Dunn (RD)
+ [X] Sasha Firsov (SF)
+ [X] Christian Grün (CG)
+ [X] Joel Kalvesmaki (JK)
+ [X] Michael Kay (MK)
+ [X] Juri Leino (JLO)
+ [X] John Lumley (JWL) /Scribe/.
+ [X] Dimitre Novatchev (DN)
+ [X] Wendell Piez (WP)
+ [X] Ed Porter (EP)
+ [ ] Bethan Tovey-Walsh (BTW)
+ [ ] Norm Tovey-Walsh (NW).

NW edited the minutes taken by JWL. (Thank you, JWL!)

** Accept the agenda
:PROPERTIES:
:CUSTOM_ID: agenda
:END:

Proposal: Accept [[../../agenda/2025/03-25.html][the agenda]].

+ MHK suggests fn:compose/chain() item should be held until another chair. 
+ Drop discussion of PR #1888: 366 xsl:package-location, not ready yet
+ Late addition of PR #1766 Drop array bound checking

Accepted with those ammendments.

** Approve minutes of the previous meeting
:PROPERTIES:
:CUSTOM_ID: approve-minutes
:END:

Proposal: Accept [[../../minutes/2025/03-18.html][the minutes of the previous meeting]].

Accepted.

** Next meeting
:PROPERTIES:
:CUSTOM_ID: next-meeting
:END:

The next meeting is scheduled for 1 April 2025.

Note: The QT4CG meeting is scheduled on UK/European civil time. The
United States switched to daylight saving time on 9 March 2025 and the
UK/Europe switches on 30 March 2025. Consequently, the 1 April meeting
will be back to the “usual” time in North America (no fooling!).

No regrets heard.

** Review of open action items [1/5]
:PROPERTIES:
:CUSTOM_ID: open-actions
:END:

(Items marked [X] are believed to have been closed via email before
this agenda was posted.)

+ [ ] QT4CG-082-02: DN to work with NW to come to agreement on the fn:ranks proposal
+ [ ] QT4CG-107-05: JLO and DN to consider a proposal for system defined records.
+ [X] QT4CG-110-04: JK to consider a PR for #366, xsl:use-package with xsl:package-location
+ [ ] QT4CG-112-01: JLO to propose a concrete example that uses “.” in a ~%method~s.
+ [ ] QT4CG-113-02: NW to investigate a way to show extra attributes in the syntax summary.

** Review of open pull requests and issues
:PROPERTIES:
:CUSTOM_ID: open-pull-requests
:END:

This section summarizes all of the issues and pull requests that need to be
resolved before we can finish. See [[#technical-agenda][Technical Agenda]] below for the focus of this
meeting.

*** Blocked
:PROPERTIES:
:CUSTOM_ID: blocked
:END:

The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.

+ PR [[https://qt4cg.org/dashboard/#pr-1283][#1283]]: 77b Update expressions
+ PR [[https://qt4cg.org/dashboard/#pr-1062][#1062]]: 150bis revised proposal for fn:ranks

* Technical agenda
:PROPERTIES:
:CUSTOM_ID: technical-agenda
:END:

** Review of pull requests
:PROPERTIES:
:CUSTOM_ID: technical-prs
:END:

*** PR #1875: 1861 Params passed automatically through next-match
:PROPERTIES:
:CUSTOM_ID: pr-1875
:END:
See PR [[https://qt4cg.org/dashboard/#pr-1875][#1875]]

An external issue but the backwards compatibility issue is manageable.

+ JWL: is there any way around this? Can we use a version="3.0"?
+ MK:  Possibly live with the incompatibility - it should be controllable by a version attribute.

ACTION QT4CG-115-01: MK to give an example of params passed automatically through next-match using a 3.0 version control

Proposal: Accept this PR.

Accepted, subject to the above amendment.

*** PR #1874: 1862 Coercing to a record type changes map order
:PROPERTIES:
:CUSTOM_ID: pr-1874
:END:
See PR [[https://qt4cg.org/dashboard/#pr-1874][#1874]]

+ CG: Have you thought of changing the instance-of check to make it order-sensitive?
+ MK: Unsure - order of a map is just cosmetic.
+ JLO: The order is not so important - no need to change instance-of. 
  + … Why do we need to change the order?
+ MK: Perhaps for internal coherence with implementation data structures.
+ CG: Use constant offsets into the storage structures.
+ MK: the record type encourages implementation efficiency.
+ DN: Will users consider ordering to be costly. We should not spend more time
  on this. (Making too much of this.)

Proposal: Accept this PR.

Accepted.

*** PR #1887: 1870 rename $zero keyword of fold functions
:PROPERTIES:
:CUSTOM_ID: pr-1887
:END:
See PR [[https://qt4cg.org/dashboard/#pr-1887][#1887]]

+ MK: There is a problem with the PR, which incorporates commits from fn:path(). 

Return to this after acceptance of #1886 (which was accepted).

+ MK: ~$accum~ rather than ~$zero~ - really it's the initial value of something
  that alters as the computation progresses.
+ DN: Mathematics might suggest ~$natural-element~, or perhaps ~$initial-result~
+ MK: That's a bit long.
+ JK: ~$init~ is a possible. 
+ JLO: ~$init~ would be fine.

Proposal: Accept this PR, amended to use ~$init~

Accepted.

*** PR #1858: Initial xsl:record
:PROPERTIES:
:CUSTOM_ID: pr-1858
:END:
See PR [[https://qt4cg.org/dashboard/#pr-1858][#1858]]

+ Proposal: Accept this PR.

Accepted subject to removal of a command and adding /Must Not/ on shadow
attributes.

ACTION QT4CG-115-02: JWL to write a few tests for xsl:record

*** PR #1886: 1660 Additional options for fn:path
:PROPERTIES:
:CUSTOM_ID: pr-1886
:END:
See PR [[https://qt4cg.org/dashboard/#pr-1886][#1886]]

+ MK: two option changes - a relative (~$origin~) node for the path and Lexical
  names for node match.

Proposal: Accept this PR.

Accepted.

*** PR #1766: Drop array bound checking
:PROPERTIES:
:CUSTOM_ID: pr-1766
:END:
See PR [[https://qt4cg.org/dashboard/#pr-1766][#1766]]

+ MK: Most important for deep look-up in nested array structures.
   + … Added a function array:get-if-present() which retains the error behaviour
   + … ~array:get()~ drops the fallback option. 
   + … ~array:remove()~ and ~array:put()~ retain the error.
+ DN: This is extremely wrong and makes logical errors very difficult to debug.
+ JLO: The complete opposite - makes arrays behave much more consitently with
  maps and XPath steps. Do we need ~array:remove()~ the throw an error.
+ CG: Encourage for consistency with other lookup mechanisms - e.g.
  ~$sequence[N]~.
+ DN: Very unhappy about this.
+ MK: We now know what the tenor of opinions are…

* Any other business
:PROPERTIES:
:CUSTOM_ID: any-other-business
:END:

None heard.

* Adjourned
:PROPERTIES:
:CUSTOM_ID: adjourned
:END:
