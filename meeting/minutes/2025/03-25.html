<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 115 Minutes 2025-03-26</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 115 Minutes 2025-03-26</h1>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Draft Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/4]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[11/13]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a></li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[1/5]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#blocked">1.6.1. Blocked</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical agenda</a>
<ul>
<li><a href="#technical-prs">2.1. Review of pull requests</a>
<ul>
<li><a href="#pr-1875">2.1.1. PR #1875: 1861 Params passed automatically through next-match</a></li>
<li><a href="#pr-1874">2.1.2. PR #1874: 1862 Coercing to a record type changes map order</a></li>
<li><a href="#pr-1887">2.1.3. PR #1887: 1870 rename $zero keyword of fold functions</a></li>
<li><a href="#pr-1858">2.1.4. PR #1858: Initial xsl:record</a></li>
<li><a href="#pr-1886">2.1.5. PR #1886: 1660 Additional options for fn:path</a></li>
<li><a href="#pr-1766">2.1.6. PR #1766: Drop array bound checking</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
<li><a href="#adjourned">4. Adjourned</a></li>
</ul>
</div>
</div>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Draft Minutes</h2>
<div class="outline-text-2" id="text-minutes">
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/4]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-082-02: DN to work with NW to come to agreement on the fn:ranks proposal</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-107-05: JLO and DN to consider a proposal for system defined records.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-112-01: JLO to propose a concrete example that uses “.” in a ~%method~s.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-113-02: NW to investigate a way to show extra attributes in the syntax summary.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-115-01: MK to give an example of params passed automatically through next-match using a 3.0 version control</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-115-02: JWL to write a few tests for xsl:record</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[11/13]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets: NW, BTW.
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> David J Birnbaum (DB)</li>
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Sasha Firsov (SF)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK)</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JWL) <i>Scribe</i>.</li>
<li class="on"><code>[X]</code> Dimitre Novatchev (DN)</li>
<li class="on"><code>[X]</code> Wendell Piez (WP)</li>
<li class="on"><code>[X]</code> Ed Porter (EP)</li>
<li class="off"><code>[&#xa0;]</code> Bethan Tovey-Walsh (BTW)</li>
<li class="off"><code>[&#xa0;]</code> Norm Tovey-Walsh (NW).</li>
</ul>

<p>
NW edited the minutes taken by JWL. (Thank you, JWL!)
</p>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2025/03-25.html">the agenda</a>.
</p>

<ul class="org-ul">
<li>MHK suggests fn:compose/chain() item should be held until another chair.</li>
<li>Drop discussion of PR #1888: 366 xsl:package-location, not ready yet</li>
<li>Late addition of PR #1766 Drop array bound checking</li>
</ul>

<p>
Accepted with those ammendments.
</p>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2025/03-18.html">the minutes of the previous meeting</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting is scheduled for 1 April 2025.
</p>

<p>
Note: The QT4CG meeting is scheduled on UK/European civil time. The
United States switched to daylight saving time on 9 March 2025 and the
UK/Europe switches on 30 March 2025. Consequently, the 1 April meeting
will be back to the “usual” time in North America (no fooling!).
</p>

<p>
No regrets heard.
</p>
</div>
</div>

<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[1/5]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<p>
(Items marked [X] are believed to have been closed via email before
this agenda was posted.)
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-082-02: DN to work with NW to come to agreement on the fn:ranks proposal</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-107-05: JLO and DN to consider a proposal for system defined records.</li>
<li class="on"><code>[X]</code> QT4CG-110-04: JK to consider a PR for #366, xsl:use-package with xsl:package-location</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-112-01: JLO to propose a concrete example that uses “.” in a ~%method~s.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-113-02: NW to investigate a way to show extra attributes in the syntax summary.</li>
</ul>
</div>
</div>

<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
<p>
This section summarizes all of the issues and pull requests that need to be
resolved before we can finish. See <a href="#technical-agenda">Technical Agenda</a> below for the focus of this
meeting.
</p>
</div>

<div id="outline-container-blocked" class="outline-4">
<h4 id="blocked"><span class="section-number-4">1.6.1.</span> Blocked</h4>
<div class="outline-text-4" id="text-blocked">
<p>
The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1283">#1283</a>: 77b Update expressions</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1062">#1062</a>: 150bis revised proposal for fn:ranks</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>

<div id="outline-container-technical-prs" class="outline-3">
<h3 id="technical-prs"><span class="section-number-3">2.1.</span> Review of pull requests</h3>
<div class="outline-text-3" id="text-technical-prs">
</div>

<div id="outline-container-pr-1875" class="outline-4">
<h4 id="pr-1875"><span class="section-number-4">2.1.1.</span> PR #1875: 1861 Params passed automatically through next-match</h4>
<div class="outline-text-4" id="text-pr-1875">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1875">#1875</a>
</p>

<p>
An external issue but the backwards compatibility issue is manageable.
</p>

<ul class="org-ul">
<li>JWL: is there any way around this? Can we use a version="3.0"?</li>
<li>MK:  Possibly live with the incompatibility - it should be controllable by a version attribute.</li>
</ul>

<p>
ACTION QT4CG-115-01: MK to give an example of params passed automatically through next-match using a 3.0 version control
</p>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted, subject to the above amendment.
</p>
</div>
</div>

<div id="outline-container-pr-1874" class="outline-4">
<h4 id="pr-1874"><span class="section-number-4">2.1.2.</span> PR #1874: 1862 Coercing to a record type changes map order</h4>
<div class="outline-text-4" id="text-pr-1874">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1874">#1874</a>
</p>

<ul class="org-ul">
<li>CG: Have you thought of changing the instance-of check to make it order-sensitive?</li>
<li>MK: Unsure - order of a map is just cosmetic.</li>
<li>JLO: The order is not so important - no need to change instance-of. 
<ul class="org-ul">
<li>… Why do we need to change the order?</li>
</ul></li>
<li>MK: Perhaps for internal coherence with implementation data structures.</li>
<li>CG: Use constant offsets into the storage structures.</li>
<li>MK: the record type encourages implementation efficiency.</li>
<li>DN: Will users consider ordering to be costly. We should not spend more time
on this. (Making too much of this.)</li>
</ul>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-pr-1887" class="outline-4">
<h4 id="pr-1887"><span class="section-number-4">2.1.3.</span> PR #1887: 1870 rename $zero keyword of fold functions</h4>
<div class="outline-text-4" id="text-pr-1887">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1887">#1887</a>
</p>

<ul class="org-ul">
<li>MK: There is a problem with the PR, which incorporates commits from fn:path().</li>
</ul>

<p>
Return to this after acceptance of #1886 (which was accepted).
</p>

<ul class="org-ul">
<li>MK: <code>$accum</code> rather than <code>$zero</code> - really it's the initial value of something
that alters as the computation progresses.</li>
<li>DN: Mathematics might suggest <code>$natural-element</code>, or perhaps <code>$initial-result</code></li>
<li>MK: That's a bit long.</li>
<li>JK: <code>$init</code> is a possible.</li>
<li>JLO: <code>$init</code> would be fine.</li>
</ul>

<p>
Proposal: Accept this PR, amended to use <code>$init</code>
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-pr-1858" class="outline-4">
<h4 id="pr-1858"><span class="section-number-4">2.1.4.</span> PR #1858: Initial xsl:record</h4>
<div class="outline-text-4" id="text-pr-1858">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1858">#1858</a>
</p>

<ul class="org-ul">
<li>Proposal: Accept this PR.</li>
</ul>

<p>
Accepted subject to removal of a command and adding <i>Must Not</i> on shadow
attributes.
</p>

<p>
ACTION QT4CG-115-02: JWL to write a few tests for xsl:record
</p>
</div>
</div>

<div id="outline-container-pr-1886" class="outline-4">
<h4 id="pr-1886"><span class="section-number-4">2.1.5.</span> PR #1886: 1660 Additional options for fn:path</h4>
<div class="outline-text-4" id="text-pr-1886">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1886">#1886</a>
</p>

<ul class="org-ul">
<li>MK: two option changes - a relative (<code>$origin</code>) node for the path and Lexical
names for node match.</li>
</ul>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-pr-1766" class="outline-4">
<h4 id="pr-1766"><span class="section-number-4">2.1.6.</span> PR #1766: Drop array bound checking</h4>
<div class="outline-text-4" id="text-pr-1766">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1766">#1766</a>
</p>

<ul class="org-ul">
<li>MK: Most important for deep look-up in nested array structures.
<ul class="org-ul">
<li>… Added a function array:get-if-present() which retains the error behaviour</li>
<li>… <code>array:get()</code> drops the fallback option.</li>
<li>… <code>array:remove()</code> and <code>array:put()</code> retain the error.</li>
</ul></li>
<li>DN: This is extremely wrong and makes logical errors very difficult to debug.</li>
<li>JLO: The complete opposite - makes arrays behave much more consitently with
maps and XPath steps. Do we need <code>array:remove()</code> the throw an error.</li>
<li>CG: Encourage for consistency with other lookup mechanisms - e.g.
<code>$sequence[N]</code>.</li>
<li>DN: Very unhappy about this.</li>
<li>MK: We now know what the tenor of opinions are…</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<p>
None heard.
</p>
</div>
</div>

<div id="outline-container-adjourned" class="outline-2">
<h2 id="adjourned"><span class="section-number-2">4.</span> Adjourned</h2>
<div class="outline-text-2" id="text-adjourned">
</div>
</div>
</div>
</body>
</html>
