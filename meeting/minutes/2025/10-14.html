<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 138 Minutes 2025-10-14</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 138 Minutes 2025-10-14</h1>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Draft Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/0]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[7/11]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a></li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[6/9]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#blocked">1.6.1. Blocked</a></li>
<li><a href="#merge-without-discussion">1.6.2. Merge without discussion</a></li>
<li><a href="#close-without-action">1.6.3. Close without action</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical agenda</a>
<ul>
<li><a href="#pr-2239">2.1. PR #2239: First cut at diagrams for JNodes (completes QT4CG-127-01)</a></li>
<li><a href="#pr-2232">2.2. PR #2232: 1935 Errors from doc-available</a></li>
<li><a href="#pr-2228">2.3. PR #2228: 2012 Define array:sort-with, revise fn:sort-with</a></li>
<li><a href="#pr-2227">2.4. PR #2227: 2079 Allow optional prefix in EQName syntax</a></li>
<li><a href="#pr-2226">2.5. PR #2226: 2186 Change adaptive serialization of JNodes</a></li>
<li><a href="#pr-2225">2.6. PR #2225: 1718 Ordered Maps: positions in callback functions</a></li>
<li><a href="#pr-2240">2.7. PR #2240: 2237 XSLT impact of multiple schemas</a></li>
<li><a href="#pr-2236">2.8. PR #2236: 2235 Tweak the rules for default function namespace</a></li>
<li><a href="#h-EA605FF8-78BF-4E0E-981D-7FF7358857E0">2.9. PR #2208: 675 (part) Update XSLT streamability rules</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
</ul>
</div>
</div>
<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Draft Minutes</h2>
<div class="outline-text-2" id="text-minutes">
</div>
</div>
<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/0]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<p>
None
</p>
</div>
</div>
<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>
<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[7/11]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets: DB, JWL.
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> David J Birnbaum (DB)</li>
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK)</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="off"><code>[&#xa0;]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JWL) [:39-]</li>
<li class="on"><code>[X]</code> Wendell Piez (WP)</li>
<li class="off"><code>[&#xa0;]</code> Ed Porter (EP)</li>
<li class="off"><code>[&#xa0;]</code> Bethan Tovey-Walsh (BTW)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW) <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>
<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2025/10-14.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2025/10-07.html">the minutes of the previous meeting</a>. 
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting is planned for 21 October 2025.
</p>

<p>
No regrets heard.
</p>
</div>
</div>
<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[6/9]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<p>
(Items marked [X] are believed to have been closed via email before
this agenda was posted.)
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> QT4CG-116-01: Add a specific error code for unsupported options on doc and doc-available
<ul class="org-ul">
<li>Overtaken by <a href="https://github.com/qt4cg/qtspecs/issues/2245">#2245</a>.</li>
</ul></li>
<li class="on"><code>[X]</code> QT4CG-127-01: NW to diagram the JTree representing arbitrary XDM content.</li>
<li class="on"><code>[X]</code> QT4CG-128-03: NW to compare the file: module against the equivalent XProc 3.1 steps</li>
<li class="on"><code>[X]</code> QT4CG-137-01: NW to make a concrete proposal for tagged drafts</li>
<li class="on"><code>[X]</code> QT4CG-137-02: NW to try to review the spec vis-a-vis #2148</li>
</ul>
</div>
</div>
<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
<p>
This section summarizes all of the issues and pull requests that need to be
resolved before we can finish. See <a href="#technical-agenda">Technical Agenda</a> below for the focus of this
meeting.
</p>
</div>
<div id="outline-container-blocked" class="outline-4">
<h4 id="blocked"><span class="section-number-4">1.6.1.</span> Blocked</h4>
<div class="outline-text-4" id="text-blocked">
<p>
The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2224">#2224</a>: 2148 fn:base-uri: Raise error</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2222">#2222</a>: 2217 bin:decode-string: Input encoding</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2124">#2124</a>: 573 Functions to Construct Trees</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2120">#2120</a>: 2007 Revised design for xsl:array</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2071">#2071</a>: 77c deep update</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2019">#2019</a>: 1776: XSLT template rules for maps and array</li>
</ul>
</div>
</div>
<div id="outline-container-merge-without-discussion" class="outline-4">
<h4 id="merge-without-discussion"><span class="section-number-4">1.6.2.</span> Merge without discussion</h4>
<div class="outline-text-4" id="text-merge-without-discussion">
<p>
The following PRs are editorial, small, or otherwise appeared to be
uncontroversial when the agenda was prepared. The chairs propose that
these can be merged without discussion. If you think discussion is
necessary, please say so.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2244">#2244</a>: Fix bibliographic reference</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2231">#2231</a>: Updated status section for all documents</li>
</ul>

<p>
Proposal: merge without discussion.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-close-without-action" class="outline-4">
<h4 id="close-without-action"><span class="section-number-4">1.6.3.</span> Close without action</h4>
<div class="outline-text-4" id="text-close-without-action">
<p>
It has been proposed that the following issues be closed without action.
If you think discussion is necessary, please say so.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1537">#1537</a>: XSLT: local functions within an enclosing xsl:mode</li>
</ul>

<p>
Proposal: close without further action.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
<p>
This agenda attempts to front-load PRs that appear to be straightforward and
likely to meet with quick approval. Proposals for reordering are always in
order, no pun intended.
</p>
</div>
<div id="outline-container-pr-2239" class="outline-3">
<h3 id="pr-2239"><span class="section-number-3">2.1.</span> PR #2239: First cut at diagrams for JNodes (completes QT4CG-127-01)</h3>
<div class="outline-text-3" id="text-pr-2239">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2239">#2239</a>.
</p>

<p>
Proposal: accept the PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-pr-2232" class="outline-3">
<h3 id="pr-2232"><span class="section-number-3">2.2.</span> PR #2232: 1935 Errors from doc-available</h3>
<div class="outline-text-3" id="text-pr-2232">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2232">#2232</a>.
</p>

<ul class="org-ul">
<li>MK: I think this is mostly editorial. There’s clarification here about when an
error might be raised.
<ul class="org-ul">
<li>… It’s a bit arbitrary, but I thought a consistent response was better than
lots of error conditions.</li>
</ul></li>
</ul>

<p>
Proposal: accept the PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-pr-2228" class="outline-3">
<h3 id="pr-2228"><span class="section-number-3">2.3.</span> PR #2228: 2012 Define array:sort-with, revise fn:sort-with</h3>
<div class="outline-text-3" id="text-pr-2228">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2228">#2228</a>.
</p>

<ul class="org-ul">
<li>MK: The <code>array:sort-with</code> function has been longstanding and in review, I
decided that editorial improvements to <code>fn:sort-with</code> were needed.
<ul class="org-ul">
<li>… The only technical change is that at least one comparitor is required.</li>
<li>… The description is narrative so that it looks less like an implementation.</li>
<li>… If a comparitor raises an error, that’s raised by the sort function.</li>
</ul></li>
<li>MK: The <code>array:sort-with</code> reuses the same text, adjusted accordingly.</li>
</ul>

<p>
Proposal: accept the PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-pr-2227" class="outline-3">
<h3 id="pr-2227"><span class="section-number-3">2.4.</span> PR #2227: 2079 Allow optional prefix in EQName syntax</h3>
<div class="outline-text-3" id="text-pr-2227">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2227">#2227</a>.
</p>

<ul class="org-ul">
<li>MK: This one came from a Saxon user request. There are various APIs where you
can supply EQNames and the user observed that there was no way to provide a
prefix for the QName. That meant it had no prefix in error messages.
<ul class="org-ul">
<li>… Expanding the API to allow a prefix fixes this problem.</li>
</ul></li>
<li>MK: It also effects the <code>fn:parse-EQName</code> function.</li>
</ul>

<p>
MK reviews the impact in XPath.
</p>

<ul class="org-ul">
<li>MK: It’s the prefix followed by the colon that’s optional.</li>
<li>RD: There are two ways of specifying a qualified name, by way of an in-scope
prefix, or to use the qualified name and specify the namespace URI. This would
only apply in the case where the namespace isn’t in the predefined namespaces?</li>
</ul>

<p>
Some discussion of the problems of passing namespace contexts through APIs.
</p>

<ul class="org-ul">
<li>MK: Internally, the only way to define an error code in some contexts is with
an AVT, so you need to pass in the name as a string.</li>
</ul>

<p>
Some discussion of what constitutes a QName. It’s a triple, a namespace URI, a
local part, and a prefix.
</p>

<ul class="org-ul">
<li>RD: One issue I forsee is that if you have xs: or xsd: as the schema prefix,
and you specify the namespace and a different prefix, which one takes
priority? Is it an error?</li>
<li>MK: You’re just creating a QName here, you’re not putting it in any context.
<ul class="org-ul">
<li>… This doesn’t refer to any in-scope bindings; it’s just creating a triple.</li>
</ul></li>
</ul>

<p>
Further discussion of possible confusion.
</p>

<ul class="org-ul">
<li>RD: In Dublin Core there are two namespaces, one for the elements and one for
the terms. You could define the terms as “dc:” in the prolog. In your code you
could bind “dc:” to the elements namespace.</li>
</ul>

<p>
Some discussion of namespace fixup in serialization.
</p>

<ul class="org-ul">
<li>MK: It’s already possible to use <code>fn:QName</code> to make arbitrary triples. This
doesn’t change that, it just gives you another way to do it.</li>
<li>WP: RD is identifying the original sin of namespaces…</li>
<li>RD: With <code>fn:QName</code> you can’t do static lookup of a function, but if we had
the extended EQName syntax, then you could try calling ~fn:count~…</li>
<li>MK: The spec for function lookup says that it ignores the prefix component.</li>
<li>NW: MK is right, there’s nothing new here.</li>
<li>RD: In this case, the namespace still takes priority.</li>
<li>MK: In nearly all context, the prefix is ignored. It only matters when you
turn it into a string.</li>
</ul>

<p>
Some discussion of when and how the prefix is used to lookup a namespace
binding.
</p>

<p>
CG provides an XQuery example in which a prefix is defined more than once
(already possible):
</p>

<div class="org-src-container">
<pre class="src src-nil">element {
  QName('uri', 'prefix:local')
} {
  namespace prefix { 'uri2' }
}
</pre>
</div>

<p>
Possible result (dependent on implementation):
</p>

<div class="org-src-container">
<pre class="src src-nil">&lt;prefix:local xmlns:prefix="uri" xmlns:prefix_1="uri2"/&gt;
</pre>
</div>

<ul class="org-ul">
<li>CG: There’s a typo in the PR.</li>
</ul>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-pr-2226" class="outline-3">
<h3 id="pr-2226"><span class="section-number-3">2.5.</span> PR #2226: 2186 Change adaptive serialization of JNodes</h3>
<div class="outline-text-3" id="text-pr-2226">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2226">#2226</a>.
</p>

<p>
MK introduces the PR.
</p>

<ul class="org-ul">
<li>MK: This is from my own experience where you get back a JNode when you were
expecting the data.</li>
</ul>

<p>
MK reviews the changes proposed in the PR:
</p>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-pr-2225" class="outline-3">
<h3 id="pr-2225"><span class="section-number-3">2.6.</span> PR #2225: 1718 Ordered Maps: positions in callback functions</h3>
<div class="outline-text-3" id="text-pr-2225">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2225">#2225</a>.
</p>

<p>
CG introduces the PR.
</p>

<ul class="org-ul">
<li>CG: Now that maps are ordered, there are many opportunities to use maps
instead of sequences when you have key/value pairs.
<ul class="org-ul">
<li>… This PR allows you to use the position.</li>
</ul></li>
<li>MK: It took me a while to get myself reconciled to this idea, but now that
ordering is fully entrenched for maps, I think it makes sense.</li>
</ul>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-pr-2240" class="outline-3">
<h3 id="pr-2240"><span class="section-number-3">2.7.</span> PR #2240: 2237 XSLT impact of multiple schemas</h3>
<div class="outline-text-3" id="text-pr-2240">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2240">#2240</a>.
</p>

<ul class="org-ul">
<li>MK: This is essentially editorial; we accepted the proposal to allow multiple
schemas to be imported.
<ul class="org-ul">
<li>… This PR adds text to clarify what that means in places that didn’t admit
that possibility.</li>
</ul></li>
</ul>

<p>
MK reviews the changes.
</p>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-pr-2236" class="outline-3">
<h3 id="pr-2236"><span class="section-number-3">2.8.</span> PR #2236: 2235 Tweak the rules for default function namespace</h3>
<div class="outline-text-3" id="text-pr-2236">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2236">#2236</a>.
</p>

<ul class="org-ul">
<li>MK: We made it possible to have functions without a prefix and those should be
used in preference to the default function namespace.
<ul class="org-ul">
<li>… This PR fixes a few gaps.</li>
<li>… If you specify a default function namespace, that’s the only one that’s searched.</li>
<li>… In XSLT, you can’t define a default function namespace, but you’re only
allowed to omit the prefix on a private function. That means it doesn’t
complicate the rules for functions across packages.</li>
</ul></li>
<li>JWL: Are we losing something in terms of guarding against accidental spelling
errors and things like that.
<ul class="org-ul">
<li>… Something about this doesn’t feel quite right…</li>
</ul></li>
<li>MK: We do regard having ambiguous references with a bit of horror; but most
programming languages allow function names to mean different things in
different places. There’s always some sort of implicit qualification.</li>
<li>JWL: Could I do something like next match, or xsl:original in packages? Can I
make my own subsequence that calls the fn: one?</li>
<li>MK: Yes, by using the namespace prefix explicitly.</li>
<li>WP: The main question for me is, should we be saying anything about the use
case of overriding?</li>
<li>MK: Yes, a little bit of usage guidance might be good.</li>
</ul>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-h-EA605FF8-78BF-4E0E-981D-7FF7358857E0" class="outline-3">
<h3 id="h-EA605FF8-78BF-4E0E-981D-7FF7358857E0"><span class="section-number-3">2.9.</span> PR #2208: 675 (part) Update XSLT streamability rules</h3>
<div class="outline-text-3" id="text-h-EA605FF8-78BF-4E0E-981D-7FF7358857E0">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2208">#2208</a>.
</p>

<ul class="org-ul">
<li>MK reviews the proposal.</li>
<li>MK: You can’t put streamed nodes in a map or array
<ul class="org-ul">
<li>… The first argument of <code>array:slice</code> can’t be a streamed node, so T doesn’t
make sense.</li>
<li>… I fixed a few others along the same lines.</li>
</ul></li>
<li>MK: There was a section on maps and streaming; I’ve added a parallel section
on arrays and streaming.</li>
</ul>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>
<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<p>
None heard.
</p>
</div>
</div>
</div>
</body>
</html>
