<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 131 Minutes 2025-07-29</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 131 Minutes 2025-07-29</h1>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/5]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[8/12]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a></li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[0/5]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#blocked">1.6.1. Blocked</a></li>
<li><a href="#merge-without-discussion">1.6.2. Merge without discussion</a></li>
<li><a href="#close-without-action">1.6.3. Close without action</a></li>
<li><a href="#substantive">1.6.4. Substantive PRs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical agenda</a>
<ul>
<li><a href="#pr-2116">2.1. PR #2116: 2112 Refine/revise the rules for get() in node tests</a></li>
<li><a href="#pr-2119">2.2. PR #2119: 2080 allow let $($head, $tail)</a></li>
<li><a href="#pr-2120">2.3. PR #2120: 2007 Revised design for xsl:array</a></li>
<li><a href="#pr-2130">2.4. PR #2130: Proposed new operator keywords: precedes, follows</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
<li><a href="#adjourned">4. Adjourned</a></li>
</ul>
</div>
</div>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Minutes</h2>
<div class="outline-text-2" id="text-minutes">
<p>
Approved <a href="../2025/08-12.html">at meeting 132</a> on 12  August 2025.
</p>
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/5]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-082-02: DN to work with NW to come to agreement on the fn:ranks proposal</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-116-01: Add a specific error code for unsupported options on doc and doc-available</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-118-01: MK to make an incorrect type raise an error in #1906</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-127-01: NW to diagram the JTree representing arbitrary XDM content.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-128-03: NW to compare the file: module against the equivalent XProc 3.1 steps</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-131-01: MK to add a non-schema aware result.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-131-02: MK to expand on the <code>$E := &lt;e A="p q r"…</code> example</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-131-03: MK to change “invert” to “transpose” in the matrix example.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-131-04: JK to double check the use of <code>&amp;lt;&amp;lt;</code> in the grammar where <code>&amp;gt;&amp;gt;</code> might have been intended</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[8/12]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets: DB, BTW.
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> David J Birnbaum (DB)</li>
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK) [:07-]</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JWL)</li>
<li class="off"><code>[&#xa0;]</code> Dimitre Novatchev (DN)</li>
<li class="on"><code>[X]</code> Wendell Piez (WP)</li>
<li class="off"><code>[&#xa0;]</code> Ed Porter (EP)</li>
<li class="off"><code>[&#xa0;]</code> Bethan Tovey-Walsh (BTW)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW) <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2025/07-29.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2025/07-22.html">the minutes of the previous meeting</a>. 
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
(Apologies for the errors in the agenda.)
</p>

<p>
The CG <i>will not</i> meet on 5 August. The following meeting is scheduled for
12 August 2025.
</p>

<p>
WP gives regrets for 12 August.
</p>

<p>
(The CG will take a short recess in late August. We will <b>not</b> meet on 26 August,
2 September, or 9 September.)
</p>
</div>
</div>

<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[0/5]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<p>
(Items marked [X] are believed to have been closed via email before
this agenda was posted.)
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-082-02: DN to work with NW to come to agreement on the fn:ranks proposal</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-116-01: Add a specific error code for unsupported options on doc and doc-available</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-118-01: MK to make an incorrect type raise an error in #1906</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-127-01: NW to diagram the JTree representing arbitrary XDM content.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-128-03: NW to compare the file: module against the equivalent XProc 3.1 steps</li>
</ul>
</div>
</div>

<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
<p>
This section summarizes all of the issues and pull requests that need to be
resolved before we can finish. See <a href="#technical-agenda">Technical Agenda</a> below for the focus of this
meeting.
</p>
</div>

<div id="outline-container-blocked" class="outline-4">
<h4 id="blocked"><span class="section-number-4">1.6.1.</span> Blocked</h4>
<div class="outline-text-4" id="text-blocked">
<p>
The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2124">#2124</a>: 573 Functions to Construct Trees</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2063">#2063</a>: 1996 Lookups, KeySpecifier: Literal, ContextValueRef</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2019">#2019</a>: 1776: XSLT template rules for maps and array</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1062">#1062</a>: 150bis revised proposal for fn:ranks</li>
</ul>
</div>
</div>

<div id="outline-container-merge-without-discussion" class="outline-4">
<h4 id="merge-without-discussion"><span class="section-number-4">1.6.2.</span> Merge without discussion</h4>
<div class="outline-text-4" id="text-merge-without-discussion">
<p>
The following PRs are editorial, small, or otherwise appeared to be
uncontroversial when the agenda was prepared. The chairs propose that
these can be merged without discussion. If you think discussion is
necessary, please say so.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2129">#2129</a>: 2099 Rename fn:jnode and jnode-type</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2117">#2117</a>: 2082 parse-html options</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2115">#2115</a>: 2084 - document order of axis steps when context value is a sequence</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2114">#2114</a>: 2087 Change adaptive serialization of JNodes
<ul class="org-ul">
<li>MK notes that he changed the adaptive serializer to use jnode(), but we
changed the function to jtree(). But at the moment, leave it.</li>
</ul></li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2113">#2113</a>: 2102 Make type labels in diagram consistent</li>
</ul>

<p>
Proposed: merge without discussion.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-close-without-action" class="outline-4">
<h4 id="close-without-action"><span class="section-number-4">1.6.3.</span> Close without action</h4>
<div class="outline-text-4" id="text-close-without-action">
<p>
It has been proposed that the following issues be closed without action.
If you think discussion is necessary, please say so.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/2086">#2086</a>: Can the ¶value property of a JNode be (or contain) a JNode?</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1978">#1978</a>: Function `map:build` does not allow expressing the dependency of a value on its key. Some simple types of maps cannot be built.</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1946">#1946</a>: We need examples of a record with an entry that is a %method and invoking this method with the result it must produce</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1514">#1514</a>: Editorial: optional position argument in function signature for for-each and other HOF</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1175">#1175</a>: XPath: Optional parameters in the definition of an inline function</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/150">#150</a>: fn:ranks: Produce all ranks in applying a function on the items of a sequence</li>
</ul>

<p>
Proposed: close without further action.
</p>

<p>
NW: I suggest we leave #150 open and I’ll see if I can get in touch with DN.
</p>
</div>
</div>

<div id="outline-container-substantive" class="outline-4">
<h4 id="substantive"><span class="section-number-4">1.6.4.</span> Substantive PRs</h4>
<div class="outline-text-4" id="text-substantive">
<p>
The following substantive PRs were open when this agenda was prepared.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2116">#2116</a>: 2112 Refine/revise the rules for get() in node tests</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2119">#2119</a>: 2080 allow let $($head, $tail)</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2120">#2120</a>: 2007 Revised design for xsl:array</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2130">#2130</a>: Proposed new operator keywords: precedes, follows</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2123">#2123</a>: 2051: XSLT group by cluster</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2019">#2019</a>: 1776: XSLT template rules for maps and array</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2071">#2071</a>: 77c deep update</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>

<div id="outline-container-pr-2116" class="outline-3">
<h3 id="pr-2116"><span class="section-number-3">2.1.</span> PR #2116: 2112 Refine/revise the rules for get() in node tests</h3>
<div class="outline-text-3" id="text-pr-2116">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2116">#2116</a>
</p>

<p>
We have a diff for this one…
</p>

<p>
MK reviews the XPath specification.
</p>

<ul class="org-ul">
<li>MK: I’ve defined get() to use an absent focus. The original choice of making
the focus be the same as the parent expression might be counter intuitive. It
appears on the right of a slash and that might lead people to think it was
evaluated against each item.
<ul class="org-ul">
<li>… There’s no error if you select things that don’t exist.</li>
</ul></li>
<li>MK: There was a fair bit of comment on the PR.</li>
<li>JWL: The example with two hashes, <code>child:get(#body, #x:body)</code> made me think it
was a function.
<ul class="org-ul">
<li>… You’ve got something that looks like a function but it doesn’t parse the arguments like a function.</li>
<li>… We have something similar for elements and schemas, this is a place where a comma inside
a bracket thing that looks like a function call isn’t an argument separator.
<ul class="org-ul">
<li>… I understand what it is, but …</li>
</ul></li>
</ul></li>
<li>MK: Would it be better to make it an ExprSingle?</li>
<li>JWL: I think so.</li>
<li>CG: I already asked some questions in the PR. I’m still a challenge for me to
understand all the details. You just said you didn’t want the expression
evaluated for each item on the left hand side, but that’s what you said the
semantics were on my last comment.</li>
</ul>

<p>
Some discussion of <a href="https://github.com/qt4cg/qtspecs/pull/2116#issuecomment-3128611165">the comment</a>:
</p>

<blockquote>
<p>
The expression in get() is an operand/subexpression of the AxisStep expression
and follows the standard semantics of subexpressions - it is evaluated as part
of the evaluation of the parent expression. The only qualification is that it is
evaluated with a absent focus.
</p>

<p>
In a path expression E1/E2, the semantics say that E2 is evaluated once for each
item in the result of E1, and that applies also to a get() expression within E2.
Expressions with side-effects are of course a pain, but they're a pain
everywhere, not just here.
</p>
</blockquote>

<ul class="org-ul">
<li>MK: If E1 is a map, there’s only one item on the left hand side.
<ul class="org-ul">
<li>… If it returned a sequence of maps, you’d evaluate it once for each map.</li>
<li>… You <b>don’t</b> do what you’d do for a predicate which is evaluate it once for each item in a loop.</li>
</ul></li>
<li>CG: You could use <code>position()</code> then.</li>
<li>MK: Yes.</li>
</ul>

<pre class="example">
(: &lt;a1/&gt; :)
&lt;xml&gt;&lt;a1/&gt;&lt;a2/&gt;&lt;/xml&gt; / child::get(node-name(doc('https://server/inc.xml', { 'stable': false() })/*))

(: &lt;a1/&gt;, &lt;a2/&gt; :)
(&lt;a1/&gt;, &lt;a2/&gt;) / self::get(node-name(doc('https://server/inc.xml', { 'stable': false() })/*))
</pre>

<ul class="org-ul">
<li>MK: I think the expression is evaluated once for each expression in E1.</li>
<li>CG: So we’d get <code>&lt;a1/&gt;</code> for the first case.
<ul class="org-ul">
<li>… In the second example, you’d get two results.</li>
</ul></li>
<li>CG: I still think it would be helpful to have an equivalent expression.
<ul class="org-ul">
<li>You could put it in a function to make the context absent and put it outside the predicate.</li>
</ul></li>
<li>MK: I’ll try to add an equivalent expression.</li>
</ul>

<p>
We’ll review again after that change.
</p>

<ul class="org-ul">
<li>CG: I think it’s even more sophisticated when we use union steps, for example 
<a href="https://github.com/qt4cg/qtspecs/issues/2112#issuecomment-3104952686">the expression</a> I added to the issue.</li>
</ul>

<pre class="example">
$gnodes/descendant::(text() | get(EXPR))

$gnodes/(
  let $S := fn() { data(EXPR) }()
  return descendant::item()[
    . instance of text() or
    some($S, atomic-equal(?, if(. instance of node()) then node-name() else jnode-selector()))  
  ]
)
</pre>

<p>
Some discussion of what this means/is it allowed.
</p>

<ul class="org-ul">
<li>MK: Ok, that also ought to just work, but … it ought to be possible just to
promote the union. One would like to think so…</li>

<li>JLO: Regarding this example and the optimization proposed, if I make the union
in a different place, isn’t then the order different?</li>
<li>MK: In both cases, the result should be document order. That’s what <code>/</code> does.
<ul class="org-ul">
<li>… Whatever you do to that expression, you should get a result in document order.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-pr-2119" class="outline-3">
<h3 id="pr-2119"><span class="section-number-3">2.2.</span> PR #2119: 2080 allow let $($head, $tail)</h3>
<div class="outline-text-3" id="text-pr-2119">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2119">#2119</a>
</p>

<ul class="org-ul">
<li>MK: This implements CG’s suggestion that rather than introduce “…”
functionality, we make it the default for sequences.</li>
<li>MK: This is separate text for XPath and XQuery, even though this particular
prose is the same. It’s a bit of a nightmare editorially.</li>
</ul>

<p>
MK reviews the XPath version.
</p>

<ul class="org-ul">
<li>MK: It’s a dynamic error to go off the end of an array.</li>

<li>JWL: If the attribute <b>isn’t</b> validated against a schema, then the value is two strings.</li>
<li>MK: Right.</li>
</ul>

<p>
ACTION QT4CG-131-01: MK to add a non-schema aware result.
</p>

<ul class="org-ul">
<li>RD: Where you have a schema aware thing like this, if you had the binding
sequence, <code>$p, $q, $r, $x, $y, $z</code> then that expression would bind each of the
values?</li>
<li>MK: Yes. It is determined by when atomization occurs. So you’d have to do
explicit atomization on the right to get the six values.</li>
<li>RD: Or add <code>as xs:string*</code>.</li>
<li>MK: Yes.</li>
<li>JLO: In my head, it felt like there was some connection between <code>$a</code> and <code>A</code>.</li>
<li>MK: It was similar but not the same, it was designed to create an association.</li>
</ul>

<p>
ACTION QT4CG-131-02: MK to expand on the <code>$E := &lt;e A="p q r"…</code> example
</p>

<p>
Proposal: Merge this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-pr-2120" class="outline-3">
<h3 id="pr-2120"><span class="section-number-3">2.3.</span> PR #2120: 2007 Revised design for xsl:array</h3>
<div class="outline-text-3" id="text-pr-2120">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2120">#2120</a>
</p>

<p>
MK explains that this arose from the case study I did rewriting the transpiler
to use JSON rather than XML.
</p>

<ul class="org-ul">
<li>MK: I made a number of usability observations during the course of that study.
One was that the use of xsl:map and xsl:array got very verbose.
<ul class="org-ul">
<li>… I discovered that xsl:array was almost always followed by an xsl:for-each.</li>
<li>… So you had to do xsl:array, xsl:for-each, and then xsl:array-member.</li>
<li>… A design pattern that works better is the one from xsl:merge where you
have two expressions at the top level, one to process the input sequence
where each item gives you a member and another to compute the member.</li>
</ul></li>
</ul>

<p>
MK reviews the updated XSLT specification.
</p>

<ul class="org-ul">
<li>MK: We now have a <code>for-each</code> attribute and a <code>select</code> attribute.
<ul class="org-ul">
<li>… If <code>for-each</code> is absent, then it behaves the same as it does today.</li>
<li>… When <code>for-each</code> is present, you evaluate it to give you a sequence, then
you get one array member for each item. You get the value of that member by
evaluating the select attribute.</li>
</ul></li>
</ul>

<p>
MK reviews the examples.
</p>

<ul class="org-ul">
<li>MK: There are some things that are better done in other ways, that’s okay.</li>
<li>MK: Nested arrays work much better than they did before.</li>
<li>JWL: So array members disappear. Can you make a static array without doing it in XPath?
<ul class="org-ul">
<li>… Suppose you wanted an XML structure in a static array?</li>
</ul></li>
<li>MK: If it’s a completely arbitrary static array, then I think you have to do it in XPath.
<ul class="org-ul">
<li>… The contents of an array is a sequence constructor not an array constructor, that’s the problem.</li>
<li>… I considered an alternative where the contents isn’t a sequence
constructor, but that gets too complicated if there are other XSL
instructions in there.</li>
</ul></li>
<li>JWL: Is there any cause for something like this on xsl:map?</li>
<li>MK: I looked at that; xsl:map already exists in 3.0 so it would have to be compatible.
<ul class="org-ul">
<li>… But it didn’t seem to have the same problems when I looked at it.</li>
</ul></li>
<li>JWL: Just keeping them similar would be nice.</li>
<li>MK: I found it didn’t add value.</li>
<li>RD: The nested array example is actually a matrix transpose; it’s not an array inversion.</li>
<li>MK: Does invert mean something different?</li>
</ul>

<p>
ACTION QT4CG-131-03: MK to change “invert” to “transpose” in the matrix example.
</p>

<ul class="org-ul">
<li>JWL: It certainly does for a matrix.</li>
<li>JK: I’m still unhappy with the design. I understand that there a lot of
singleton values in JSON structures. In XSLT, I’m often dealing with sequences
of sequences. I put those in XML structures, but for better performance, I put
them in maps today. But I really want to get them into arrays where the arrays
can express sequences of sequences. I want to build up XML like structures
within my arrays. I’m not so much interested in singleton members.
<ul class="org-ul">
<li>… For example, in the sequence constructor, I want to do a for-each-group
and group them into single arrays. There’s a workaround, but it highlights a
lack of parity between xsl:map and xsl:array.</li>
<li>… We have constructors for three of the four JSON data structures.</li>
<li>… Can we make a clear break between what’s inside an array and the
attributes?</li>
<li>… Whenever you have an xsl:for-each, there’s probably a way to do it with
templates. I always want to use templates instead. I’d like there to be some
kind of parity between what we’re doing with maps and what we’re doing with
arrays.</li>
</ul></li>
<li>MK: I think that suggests keeping an xsl:array-member instruction but making
it needed so often.</li>
<li>JK: An implementation ought to be able to work around some of this in the
background.</li>
<li>MK: It’s not an implementation problem, it’s a usability problem.
<ul class="org-ul">
<li>… I think what I need to do is take another look at it. I need to work
through JK’s examples and see if we can satisfy a wider range of use cases.</li>
</ul></li>
</ul>

<p>
We’ll come back to this again.
</p>
</div>
</div>

<div id="outline-container-pr-2130" class="outline-3">
<h3 id="pr-2130"><span class="section-number-3">2.4.</span> PR #2130: Proposed new operator keywords: precedes, follows</h3>
<div class="outline-text-3" id="text-pr-2130">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2130">#2130</a>
</p>

<p>
JK introduces the PR.
</p>

<ul class="org-ul">
<li>JK: The observation I make is that <code>&gt;&gt;</code> and <code>&lt;&lt;</code> aren’t well known and you
have to escape them in XSLT. It seems pretty easy to let us use an alias.
<ul class="org-ul">
<li>… I’m proposing <code>precedes</code> and <code>follows</code>.</li>
<li>… MK proposed introducing <code>is-not</code> at the same time.</li>
</ul></li>
</ul>

<p>
JK reviews the grammar changes.
</p>

<p>
ACTION QT4CG-131-04: JK to double check the use of <code>&amp;lt;&amp;lt;</code> in the grammar where <code>&amp;gt;&amp;gt;</code> might have been intended.
</p>

<ul class="org-ul">
<li>JK: The <code>is-not</code> is defined the same way as <code>is</code> with true/false the other way around.</li>
<li>JK: I changed one use of <code>&lt;&lt;</code> into <code>precedes</code>.</li>
<li>MK: That example is using tilde syntax which is obsolete.</li>
<li>JWL: There are no complications with spaces?</li>
<li>MK: The only one is the one that we already have with a leading <code>/</code>.</li>
<li>JWL: The requirement for whitespace separation aren’t a problem.</li>
<li>MK: There are no new issues there.</li>
</ul>

<p>
Proposal: Merge this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>

<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<p>
None heard.
</p>
</div>
</div>

<div id="outline-container-adjourned" class="outline-2">
<h2 id="adjourned"><span class="section-number-2">4.</span> Adjourned</h2>
<div class="outline-text-2" id="text-adjourned">
</div>
</div>
</div>
</body>
</html>
