<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 134 Minutes 2025-09-16</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 134 Minutes 2025-09-16</h1>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/9]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[8/11]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a></li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[0/8]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#blocked">1.6.1. Blocked</a></li>
<li><a href="#merge-without-discussion">1.6.2. Merge without discussion</a></li>
<li><a href="#close-without-action">1.6.3. Close without action</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical agenda</a>
<ul>
<li><a href="#pr-2171">2.1. PR #2171: 2163 Change ?&gt; symbol to =?&gt;</a></li>
<li><a href="#pr-2191">2.2. PR #2191: 2075 Editorial Omnibus</a></li>
<li><a href="#pr-2189">2.3. PR #2189: 2180 Clarify paths mixing XNodes and JNodes</a></li>
<li><a href="#pr-2188">2.4. PR #2188: 2187 Add coercion rule for enumeration types</a></li>
<li><a href="#pr-2182">2.5. PR #2182: 2178 Define predeclared namespaces for XQuery</a></li>
<li><a href="#pr-2181">2.6. PR #2181: 2179 Add namespace declarations to XPath grammar</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
<li><a href="#adjourned">4. Adjourned</a></li>
</ul>
</div>
</div>
<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Minutes</h2>
<div class="outline-text-2" id="text-minutes">
<p>
Approved <a href="../2025/09-23.html">at meeting 135</a> on 23 September 2025.
</p>
</div>
</div>
<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/9]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-116-01: Add a specific error code for unsupported options on doc and doc-available</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-118-01: MK to make an incorrect type raise an error in #1906</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-127-01: NW to diagram the JTree representing arbitrary XDM content.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-128-03: NW to compare the file: module against the equivalent XProc 3.1 steps</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-131-01: MK to add a non-schema aware result.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-131-02: MK to expand on the <code>$E := &lt;e A="p q r"…</code> example</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-131-03: MK to change “invert” to “transpose” in the matrix example.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-133-01: MK to correct the use of “Expr” in examples for get()</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-134-01: MK to open an issue about the error code for <code>=?&gt;</code></li>
</ul>
</div>
</div>
<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>
<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[8/11]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<ul class="org-ul">
<li class="on"><code>[X]</code> David J Birnbaum (DB)</li>
<li class="off"><code>[&#xa0;]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK)</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JWL)</li>
<li class="on"><code>[X]</code> Wendell Piez (WP)</li>
<li class="off"><code>[&#xa0;]</code> Ed Porter (EP)</li>
<li class="off"><code>[&#xa0;]</code> Bethan Tovey-Walsh (BTW)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW) <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>
<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2025/09-16.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2025/08-19.html">the minutes of the previous meeting</a>. 
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting is planned for 23 September 2025.
</p>

<p>
JLO gives regrets.
</p>
</div>
</div>
<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[0/8]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<p>
(Items marked [X] are believed to have been closed via email before
this agenda was posted.)
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-116-01: Add a specific error code for unsupported options on doc and doc-available</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-118-01: MK to make an incorrect type raise an error in #1906</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-127-01: NW to diagram the JTree representing arbitrary XDM content.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-128-03: NW to compare the file: module against the equivalent XProc 3.1 steps</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-131-01: MK to add a non-schema aware result.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-131-02: MK to expand on the <code>$E := &lt;e A="p q r"…</code> example</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-131-03: MK to change “invert” to “transpose” in the matrix example.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-133-01: MK to correct the use of “Expr” in examples for get()</li>
</ul>
</div>
</div>
<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
<p>
This section summarizes all of the issues and pull requests that need to be
resolved before we can finish. See <a href="#technical-agenda">Technical Agenda</a> below for the focus of this
meeting.
</p>
</div>
<div id="outline-container-blocked" class="outline-4">
<h4 id="blocked"><span class="section-number-4">1.6.1.</span> Blocked</h4>
<div class="outline-text-4" id="text-blocked">
<p>
The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2124">#2124</a>: 573 Functions to Construct Trees</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2120">#2120</a>: 2007 Revised design for xsl:array</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2019">#2019</a>: 1776: XSLT template rules for maps and array</li>
</ul>
</div>
</div>
<div id="outline-container-merge-without-discussion" class="outline-4">
<h4 id="merge-without-discussion"><span class="section-number-4">1.6.2.</span> Merge without discussion</h4>
<div class="outline-text-4" id="text-merge-without-discussion">
<p>
The following PRs are editorial, small, or otherwise appeared to be
uncontroversial when the agenda was prepared. The chairs propose that
these can be merged without discussion. If you think discussion is
necessary, please say so.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2174">#2174</a>: 2173 Drop method annotations from XPath grammar</li>
</ul>

<p>
Proposal: merge without discussion.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-close-without-action" class="outline-4">
<h4 id="close-without-action"><span class="section-number-4">1.6.3.</span> Close without action</h4>
<div class="outline-text-4" id="text-close-without-action">
<p>
It has been proposed that the following issues be closed without action.
If you think discussion is necessary, please say so.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/2161">#2161</a>: Drop other non-ASCII operators (×, ÷)
<ul class="org-ul">
<li>We’ll keep these.</li>
</ul></li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/2034">#2034</a>: fn:parse-xml, fn:doc: `safe` option</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1912">#1912</a>: Error handling: `fn:throw`</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1868">#1868</a>: array:members() to include index position</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/670">#670</a>: The trouble with XPath’s fn:fold-right. A fix and Proposal for fn:fold-lazy</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/576">#576</a>: JSON serialization: INF/NaN, function items</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/158">#158</a>: Support optional parameters on dynamic functions</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/105">#105</a>: Maps with Infinite Number of Keys: Total Maps and Decorated maps</li>
</ul>

<p>
Proposal: close without further action.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>
<div id="outline-container-pr-2171" class="outline-3">
<h3 id="pr-2171"><span class="section-number-3">2.1.</span> PR #2171: 2163 Change ?&gt; symbol to =?&gt;</h3>
<div class="outline-text-3" id="text-pr-2171">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2171">#2171</a>
</p>

<ul class="org-ul">
<li>MK: I thought we had consensus going in this direction, but there’s been a lot
of discussion.</li>
<li>JLO: Can we look at the comments?</li>
</ul>

<p>
MK reviews the issue and comments on it…
</p>

<ul class="org-ul">
<li>NW: I think there are two seperable questions…</li>
<li>JK: I’m just exploring ways to approach it differently; especially since we’ve
changed how the step operator works.
<ul class="org-ul">
<li>I think something like “/” would be more familiar to users.</li>
<li>Could you design your record so that your methods are qualified names, then
you wouldn’t have any problems, is that right?</li>
</ul></li>
<li>JLO: That’s an interesting point. If methods would all be in the method
namespace, then maybe that would be a possibility.</li>
</ul>

<p>
Some discussion of using “.”, but that’s a name character.
</p>

<ul class="org-ul">
<li>JLO: I’m fine with <code>=?&gt;</code>.</li>
<li>NW: I fear that if we wanted to use QNames, we’d quickly have questions about
how to use EQNames and default prefixes and we’d be back where we started.</li>
</ul>

<p>
Proposal: change the spelling <code>?&gt;</code> symbol to <code>=?&gt;</code>
</p>

<p>
Accepted.
</p>

<ul class="org-ul">
<li>WP: I think that <code>==&gt;</code> is maybe better. But if everyone else is happier…</li>
<li>CG: There was one more comment from MK in #2163 that XPDY may not be the best
error code. Should we open a new issue for that.</li>
</ul>

<p>
ACTION: QT4CG-134-01: MK to open an issue about the error code for <code>=?&gt;</code>
</p>
</div>
</div>
<div id="outline-container-pr-2191" class="outline-3">
<h3 id="pr-2191"><span class="section-number-3">2.2.</span> PR #2191: 2075 Editorial Omnibus</h3>
<div class="outline-text-3" id="text-pr-2191">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2191">#2191</a>
</p>

<ul class="org-ul">
<li>MK: I think this is all pretty well editorial. There are one or two issues
that I didn’t address because I thought the issues were more than editorial.
<ul class="org-ul">
<li>… The changes in the PR are all uncontroversial.</li>
</ul></li>
</ul>

<p>
Some discussion of the questions not answered.
</p>

<ul class="org-ul">
<li>CG: There are some invalid links and the summary of changes includes some
notes about characters that aren’t used anymore.</li>
<li>MK: I think a new editorial issue is the way to go.</li>
<li>JWL: Can you look at A.4 in the XPath spec?
<ul class="org-ul">
<li>… The changes remarks says that <code>record</code>, <code>item</code>, and <code>enum</code> have <b>not</b> been
added, but they have.</li>
</ul></li>
<li>MK: I think that should be <b>have been</b> added.</li>
<li>JLO: Thank you for this work.</li>
</ul>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>

<p>
MK to make the small fix outlined above and then merge the PR.
</p>
</div>
</div>
<div id="outline-container-pr-2189" class="outline-3">
<h3 id="pr-2189"><span class="section-number-3">2.3.</span> PR #2189: 2180 Clarify paths mixing XNodes and JNodes</h3>
<div class="outline-text-3" id="text-pr-2189">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2189">#2189</a>
</p>

<p>
MK reviews the changes in XPath…
</p>

<ul class="org-ul">
<li>MK: It’s adding a note about the subtle difference between <code>$N/T</code> and <code>$N/type(T)</code>.
<ul class="org-ul">
<li>… If you say <code>type(T)</code> then you’re selecting on the child axis. Where using
<code>attribute()</code> has an effect on the default axis selected. But it does make
sense for JNodes.</li>
<li>… It goes further to discuss some things you can’t do.</li>
</ul></li>
<li>NW: That’s going to be confusing.</li>
<li>MK: It would be nice if the path-like operators composed better, but they have
different precedences</li>
<li>JLO: It seems to me that this will be so common that we might want to
introduce an operator to do it. Then with the new operator, perhaps we could
balance things better.</li>
</ul>

<p>
Some discussion of what could follow the expression.
</p>

<ul class="org-ul">
<li>MK: I’m tending to use <code>!</code> where deduplication and document order aren’t relevant.
<ul class="org-ul">
<li>… What you can’t do in this example is use an arrow because @id isn’t a function.</li>
</ul></li>
<li>JWL: I think we have to recognize that once folks start doing this with mixed
content, there are going to be lots of problems of comprehension.
<ul class="org-ul">
<li>… But it’s going to be fairly skilled to use this correctly.</li>
</ul></li>
<li>JLO: It might be easier to not use the <code>=!&gt;</code> here. Maybe <code>! jnode-content(.)</code>
would be easier to read.</li>
<li>CG: I agree.</li>
<li>JWL: Then putting <code>/</code> in front of <code>@id</code> might make that part clearer.</li>
<li>MK: I think the <code>.</code> is unnecessary in <code>jnode-content()</code>.
<ul class="org-ul">
<li>… In fact, you could use <code>/</code> all the way down if you inject the <code>jnode-content()</code> step.</li>
</ul></li>
<li>JLO: Then that’s much better!</li>
</ul>

<div class="org-src-container">
<pre class="src src-nil">$array/type(element(p)) / jnode-content() / @id
</pre>
</div>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>

<p>
MK to make the proposed change to the example and then merge the PR.
</p>
</div>
</div>
<div id="outline-container-pr-2188" class="outline-3">
<h3 id="pr-2188"><span class="section-number-3">2.4.</span> PR #2188: 2187 Add coercion rule for enumeration types</h3>
<div class="outline-text-3" id="text-pr-2188">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2188">#2188</a>
</p>

<ul class="org-ul">
<li>MK: This is a bug fix in response to a test added by Gunther Rademacher.
<ul class="org-ul">
<li>… He created a test that showed you couldn’t use atomic values where an
enumeration type is expected. But clearly that should be possible!</li>
</ul></li>
<li>MK: This PR updates the coercion rules to make that work.</li>
</ul>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-pr-2182" class="outline-3">
<h3 id="pr-2182"><span class="section-number-3">2.5.</span> PR #2182: 2178 Define predeclared namespaces for XQuery</h3>
<div class="outline-text-3" id="text-pr-2182">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2182">#2182</a>
</p>

<ul class="org-ul">
<li>MK: I think this was an accidental ommision. We thought we’d agreed to it, but
when I looked at the spec, we’d added to the list of known namespaces, but the
spec didn’t actually say that they were predeclared.
<ul class="org-ul">
<li>… I’ve fixed that and made it clear that they’re predeclared.</li>
</ul></li>
<li>DB: Are these namespaces predeclared only in XQuery?</li>
</ul>

<p>
Some discussion of predeclaring them in XPath or XSLT.
</p>

<ul class="org-ul">
<li>DB: For what it’s worth, I find it confusing and leads to user error that the
rules for XQuery and XSLT are different. And I’ve found it inconvenient when
writing a one-off XPath exploration.</li>
<li>MK: The XPath rules say that it’s host language defined. So someone defining a
free-standing XPath processor could say that they’re predefined. What we’re
not saying is that they always are. It doesn’t make sense in XPath embedded in
XSLT.</li>
</ul>

<p>
Some additional discussion of XSLT-being-XML having an influence on the declared
namespaces.
</p>

<ul class="org-ul">
<li>JLO: I do like that this is clearly defined; but what about a processor that
doesn’t have all of them implemented?</li>
<li>MK: This says you have to implement the <code>xsi</code> namespace even if you don’t have
schema aware processing.</li>
<li>JLO: Then we should say something about them not being implemented.</li>
<li>MK: Well, they’re implemented in the namespace bindings.</li>
<li>JWL: To answer DB’s query, I’ve been using the namespace default binding
attribute on the stylesheet. That’s a lot simpler and better.</li>
</ul>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-pr-2181" class="outline-3">
<h3 id="pr-2181"><span class="section-number-3">2.6.</span> PR #2181: 2179 Add namespace declarations to XPath grammar</h3>
<div class="outline-text-3" id="text-pr-2181">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2181">#2181</a>
</p>

<ul class="org-ul">
<li>NW: Can we get through this in ten minutes?</li>
<li>MK: I feel comfortable with it, but I don’t know of other folks do.</li>
<li>MK: This PR allows you to add namespace declarations in the XPath grammar.
<ul class="org-ul">
<li>… The trigger that lead to this was assertions in the test suite.</li>
<li>… They’re supposed to be XPath expressions, but there was no way of
declaring namespaces for them.</li>
</ul></li>
<li>JWL: This at least makes parsing easier. If it was deeper, I’m not sure if
we’d get some nasty ambiguities.</li>
<li>MK: You’d have to use a different syntax.</li>
<li>NW: What happens if you declare the default namespace twice?</li>
<li>MK: You get an error.</li>
<li>JK: I really appreciate this.</li>
</ul>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>
<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<ul class="org-ul">
<li>JWL: Can we thank Bethan for the logo.</li>
<li>NW: We certainly can.</li>
</ul>
</div>
</div>
<div id="outline-container-adjourned" class="outline-2">
<h2 id="adjourned"><span class="section-number-2">4.</span> Adjourned</h2>
<div class="outline-text-2" id="text-adjourned">
</div>
</div>
</div>
</body>
</html>
