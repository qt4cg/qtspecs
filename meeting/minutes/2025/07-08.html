<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 128 Minutes 2025-07-08</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 128 Minutes 2025-07-08</h1>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Draft Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/9]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[8/12]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a></li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[1/6]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#blocked">1.6.1. Blocked</a></li>
<li><a href="#merge-without-discussion">1.6.2. Merge without discussion</a></li>
<li><a href="#substantive">1.6.3. Substantive PRs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical agenda</a>
<ul>
<li><a href="#pr-2083">2.1. PR #2083: 2054 Generalized Path Expressions</a></li>
<li><a href="#pr-2016">2.2. PR #2077 File Module: Incorporate changes</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
<li><a href="#adjourned">4. Adjourned</a></li>
</ul>
</div>
</div>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Draft Minutes</h2>
<div class="outline-text-2" id="text-minutes">
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/9]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-082-02: DN to work with NW to come to agreement on the fn:ranks proposal</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-112-01: JLO to propose a concrete example that uses “.” in a ~%method~s.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-116-01: Add a specific error code for unsupported options on doc and doc-available</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-118-01: MK to make an incorrect type raise an error in #1906</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-123-01: MK to do the set example in XQuery.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-127-01: NW to diagram the JTree representing arbitrary XDM content.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-128-01 CG to consider using “standard” or some other term instead of “regular” in the file: module.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-128-02 CG to investigate what to say about permissions.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-128-03 NW to compare the file: module against the equivalent XProc 3.1 steps</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[8/12]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets: DB, JWL, BTW
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> David J Birnbaum (DB)</li>
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK)</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> Juri Leino (JLO)</li>
<li class="off"><code>[&#xa0;]</code> John Lumley (JWL)</li>
<li class="off"><code>[&#xa0;]</code> Dimitre Novatchev (DN)</li>
<li class="on"><code>[X]</code> Wendell Piez (WP)</li>
<li class="on"><code>[X]</code> Ed Porter (EP)</li>
<li class="off"><code>[&#xa0;]</code> Bethan Tovey-Walsh (BTW)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW) <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2025/07-08.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2025/07-01.html">the minutes of the previous meeting</a>. 
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting is scheduled for 15 July 2025.
</p>

<p>
No regrets heard.
</p>
</div>
</div>

<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[1/6]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<p>
(Items marked [X] are believed to have been closed via email before
this agenda was posted.)
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-082-02: DN to work with NW to come to agreement on the fn:ranks proposal</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-112-01: JLO to propose a concrete example that uses “.” in a ~%method~s.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-116-01: Add a specific error code for unsupported options on doc and doc-available</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-118-01: MK to make an incorrect type raise an error in #1906</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-123-01: MK to do the set example in XQuery.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-127-01: NW to diagram the JTree representing arbitrary XDM content.</li>
</ul>
</div>
</div>

<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
<p>
This section summarizes all of the issues and pull requests that need to be
resolved before we can finish. See <a href="#technical-agenda">Technical Agenda</a> below for the focus of this
meeting.
</p>
</div>

<div id="outline-container-blocked" class="outline-4">
<h4 id="blocked"><span class="section-number-4">1.6.1.</span> Blocked</h4>
<div class="outline-text-4" id="text-blocked">
<p>
The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2063">#2063</a>: 1996 Lookups, KeySpecifier: Literal, ContextValueRef</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2019">#2019</a>: 1776: XSLT template rules for maps and array</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1062">#1062</a>: 150bis revised proposal for fn:ranks</li>
</ul>
</div>
</div>

<div id="outline-container-merge-without-discussion" class="outline-4">
<h4 id="merge-without-discussion"><span class="section-number-4">1.6.2.</span> Merge without discussion</h4>
<div class="outline-text-4" id="text-merge-without-discussion">
<p>
The following PRs are editorial, small, or otherwise appeared to be
uncontroversial when the agenda was prepared. The chairs propose that
these can be merged without discussion. If you think discussion is
necessary, please say so.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2070">#2070</a>: Map build patch</li>
</ul>

<p>
Proposed: merge without discussion.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-substantive" class="outline-4">
<h4 id="substantive"><span class="section-number-4">1.6.3.</span> Substantive PRs</h4>
<div class="outline-text-4" id="text-substantive">
<p>
The following substantive PRs were open when this agenda was prepared.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2083">#2083</a>: 2054 Generalized Path Expressions</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2031">#2031</a>: 2025 JNodes</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2077">#2077</a>: 2016 File Module: Incorporate changes</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2071">#2071</a>: 77c deep update</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2043">#2043</a>: 2038 Tweak the rules for fn:apply-templates references to modes</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2037">#2037</a>: 2036 Add rule for streamability of xsl:map</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2019">#2019</a>: 1776: XSLT template rules for maps and array</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2014">#2014</a>: QT4CG-122-01 Add notes, examples, and rationale for xsl:select</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2011">#2011</a>: 675(part): Add XSLT static typing rules for new kinds of XPath expression</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
<p>
This week, let’s continue our review of the JNodes proposal, starting with the
proposal for generalized path expressions.
</p>
</div>

<div id="outline-container-pr-2083" class="outline-3">
<h3 id="pr-2083"><span class="section-number-3">2.1.</span> PR #2083: 2054 Generalized Path Expressions</h3>
<div class="outline-text-3" id="text-pr-2083">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2083">#2083</a>
</p>

<p>
MK introduces the PR: it’s a branch on top of the JNodes branch. 
</p>

<ul class="org-ul">
<li>MK: It’s inspired by a remark from CG about not overloading the “?” operator.
I went back and considered if we could use “/” now that there’s more symmetry
in the axes.
<ul class="org-ul">
<li>All of the substantive changes are in path expressions.</li>
</ul></li>
</ul>

<p>
MK walks through the revised prose.
</p>

<ul class="org-ul">
<li>MK: I changed the structure of the grammar, but not the semantics. Forward and
reverse steps are no longer a syntactic distinction.</li>
<li>MK: There’s more change in the section on node tests.</li>
</ul>

<p>
Looking at the syntax first.
</p>

<ul class="org-ul">
<li>MK: A SimpleNodeTest is now either a TypeTest or a Selector (KindTest has been
generalized to TypeTest and NameTest has been generalized to Selector).</li>
</ul>

<p>
MK walks through the details of the grammar.
</p>

<ul class="org-ul">
<li>MK: We split into selectors on XNodes and selectors on JNodes.
<ul class="org-ul">
<li>… There’s a new capability where as selector can take <code>get(expr)</code>. You can
dynamically compute the element names you want to select.</li>
</ul></li>

<li>MK: The complimentary text for JNodes is the same syntax but different
semantics.
<ul class="org-ul">
<li>… The semantics of <code>NCName</code> now depend on the kind of expression you’re
evaluating.</li>
<li>… Indexing into arrays is <code>child::*[3]</code> (or <code>child::get(3)</code>).</li>
</ul></li>
</ul>

<p>
Moving on to type tests.
</p>

<ul class="org-ul">
<li>MK: With sufficient contrivance, I think you can probably wrap a JNode in
JNode. So it’s possible in theory that you’d want <code>JNode()</code>.</li>

<li>MK: In the abbreviated syntax, <code>@</code> is retained but doesn’t apply to JNodes.</li>

<li>MK: The other area of change is Lookup Expressions which I’ve trimmed back to
basically what we had in 3.1. We don’t need to have two solutions to the same
problem.</li>

<li>JLO: I’m very pleased. I have some questions…what happens if I’m doing a path
expression like <code>child::code</code> on a mixed sequence?</li>
<li>MK: At the moment, there’s no rule that says the left hand side has to be
homogeneous.</li>
<li>JLO: So what will this return?</li>
</ul>

<pre class="example">
  (&lt;code/&gt;, map{“code”: 1})//child:code
</pre>

<ul class="org-ul">
<li>MK: That will select from both of them.</li>

<li>JK: Satisfying and gratifying. In the JNode selector section, the examples
assume that the JNodes are arrays or maps. What happens if they are entries?</li>
<li>MK: There probably should be more examples of that. I think the rules cover it
because they’re defined in terms of the children accessor.</li>
<li>JK: It’s really going to throw people if it returns unexpected results.</li>
<li>MK: In a sense, I want to focus on the core cases first.</li>
<li>RD: I agree this all looks very good. The item type “instance of” expression
for GNodes and JNodes should be lower case.</li>
<li>MK: There’s a precedent in QName where we use upper-case.</li>
<li>NW: I was going to make a similar comment.</li>
<li>JLO: More generally, we have GNodes, XNodes, and JNodes and we have XTrees and
JTrees, but do we have GTrees?</li>
<li>MK: A tree either consists entirely of JNodes or entirely of XNodes. A GNode
is an abstract concept; it’s always one or the other.</li>
<li>JLO: We have document node in the absolute path section. Is it useful for us
to have the concept of a JRoot or JDocument?</li>
<li>MK: I didn’t feel it was useful to have different kinds of JNode in the type system.
<ul class="org-ul">
<li>… A JNode is either a root or a non-root, but I didn’t add it to the type system.</li>
<li>… I don’t see any operations that are different between those cases.</li>
<li>… But I suppose the same is true of subtypes of XML nodes.</li>
<li>… That could be added, but I didn’t see any value.</li>
</ul></li>
<li>JLO: If you select with an absolute path, you always get a JNode that is a root.</li>
<li>MK: Slash itself will always select a parentless node.</li>
<li>JLO: Oh, right, so what I said was wrong.</li>
<li>WP: What would a schema language for JSON look like? Very cool.</li>
</ul>

<p>
Some discussion of the practical next steps.
</p>

<ul class="org-ul">
<li>MK: What I propose doing is to come back with an editorially complete version
except for the XSLT side. That will require technical work.
<ul class="org-ul">
<li>… Hopefully we can review it briefly next week and accept it.</li>
</ul></li>
</ul>

<p>
The CG agrees to move on to some other open PRs.
</p>
</div>
</div>

<div id="outline-container-pr-2016" class="outline-3">
<h3 id="pr-2016"><span class="section-number-3">2.2.</span> PR #2077 File Module: Incorporate changes</h3>
<div class="outline-text-3" id="text-pr-2016">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2077">#2077</a>
</p>

<ul class="org-ul">
<li>CG: I’ve tried to unify things and bring it into alignment with other specifications.</li>
</ul>

<p>
CG summarizes the changes, generally.
</p>

<ul class="org-ul">
<li>NW: I’m not sure that all operating systems define a last modified time for a directory. 
<ul class="org-ul">
<li>… Maybe last-modified should return <code>xs:dateTime?</code>.</li>
</ul></li>

<li>CG: I’ll investigate.</li>
</ul>

<p>
CG continues a survey of the functions in the spec.
</p>

<ul class="org-ul">
<li>NW: What about “/” and “\”?</li>
<li>CG: I think that the user should use <code>path-to-uri</code>.</li>
<li>JLO: I don’t know how often permissions are handled in this specification?
<ul class="org-ul">
<li>… Since we have a function to list all roots, that will likely raise permissions issues?</li>
</ul></li>
<li>CG: Permissions are fairly tricky.
<ul class="org-ul">
<li>… It’s very OS dependent.</li>
</ul></li>
<li>NW: It’s messy, even in Java.</li>
<li>JLO: Do we raise issues if the OS raises them, or do we swallow them.</li>
<li>CG: Unclear. I can think about error handling for those cases.</li>
<li>JLO: From the very non-conformant eXist implementation, you can’t list roots
unless you’re an administrator.</li>
<li>CG: Some of the file module may be inaccessible if you don’t have administrator privileges.</li>
<li>JK: This looks really good. Could we avoid “regular” because it makes me think
of regular expressions.
<ul class="org-ul">
<li>… But perhaps we should define what it means.</li>
</ul></li>
<li>RD: Can we reference the POSIX spec?</li>
<li>CG: Yes.</li>
</ul>

<p>
ACTION: QT4CG-128-01 CG to consider using “standard” or some other term instead of “regular” in the file: module.
ACTION: QT4CG-128-02 CG to investigate what to say about permissions.
</p>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>

<p>
ACTION: QT4CG-128-03 NW to compare the file: module against the equivalent XProc 3.1 steps
</p>
</div>
</div>
</div>

<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<p>
None heard.
</p>
</div>
</div>

<div id="outline-container-adjourned" class="outline-2">
<h2 id="adjourned"><span class="section-number-2">4.</span> Adjourned</h2>
<div class="outline-text-2" id="text-adjourned">
</div>
</div>
</div>
</body>
</html>
