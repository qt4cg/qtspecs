<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 143 Minutes 2025-11-25</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 143 Minutes 2025-11-25</h1>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/3]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[8/10]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a></li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[4/4]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#blocked">1.6.1. Blocked</a></li>
<li><a href="#merge-without-discussion">1.6.2. Merge without discussion</a></li>
<li><a href="#close-without-action">1.6.3. Close without action</a></li>
<li><a href="#substantive">1.6.4. Substantive PRs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical agenda</a>
<ul>
<li><a href="#pr-2282">2.1. PR #2282: 2278 Add function bin:infer-encoding; simplify bin:decode-string</a></li>
<li><a href="#pr-2289">2.2. PR #2289: 2195 (partial) Editorial notes (incremental)</a></li>
<li><a href="#pr-2259">2.3. PR #2259: 938 Canonical serialization</a></li>
<li><a href="#pr-2213">2.4. PR #2213: 2047 External resources and security</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
</ul>
</div>
</div>
<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Minutes</h2>
<div class="outline-text-2" id="text-minutes">
<p>
Approved <a href="../2025/12-02.html">at meeting 144</a> on 2 December 2025.
</p>
</div>
</div>
<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/3]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-143-01: CG to make another attempt at binary functions.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-143-02: MK to try to recover the ability to extract formal equivalences into tests</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-143-03: JK to look for C14N test suites.</li>
</ul>
</div>
</div>
<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>
<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[8/10]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets: EP.
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> David J Birnbaum (DB)</li>
<li class="off"><code>[&#xa0;]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK)</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JWL)</li>
<li class="on"><code>[X]</code> Wendell Piez (WP)</li>
<li class="off"><code>[&#xa0;]</code> Ed Porter (EP)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW) <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>
<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2025/11-25.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2025/11-25.html">the minutes of the previous meeting</a>. 
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting is planned for 2 December 2025.
</p>

<p>
Regrets: DB.
</p>

<p>
Looking forward, the chair proposes that we meet on 2, 9, and 16 December, then
recess for the end-of-year holidays, with the following meeting on
6 January 2026.
</p>

<p>
Agreed.
</p>
</div>
</div>
<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[4/4]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<ul class="org-ul">
<li class="on"><code>[X]</code> QT4CG-140-02: MK to add a note about dealing with binary in parse-csv and parse-json</li>
<li class="on"><code>[X]</code> QT4CG-141-01: MK to follow up on a comment by JWL on #2269</li>
<li class="on"><code>[X]</code> QT4CG-142-01: MK to review the “Captured Groups within Lookahead” example.</li>
<li class="on"><code>[X]</code> QT4CG-142-02: MK to add explanatory note about the difference between typed an untyped values in string-length</li>
</ul>
</div>
</div>
<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
<p>
This section summarizes all of the issues and pull requests that need to be
resolved before we can finish. See <a href="#technical-agenda">Technical Agenda</a> below for the focus of this
meeting.
</p>
</div>
<div id="outline-container-blocked" class="outline-4">
<h4 id="blocked"><span class="section-number-4">1.6.1.</span> Blocked</h4>
<div class="outline-text-4" id="text-blocked">
<p>
The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2309">#2309</a>: Allow SimpleMapExpr after ArrowExpr</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2266">#2266</a>: 540 system-property equivalent for XQuery</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2256">#2256</a>: 2216 All atomic types become ordered</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2247">#2247</a>: Deferred Evaluation in XPath - the f:generator record</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2160">#2160</a>: 2073 data model changes for JNodes and Sequences</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2124">#2124</a>: 573 Functions to Construct Trees</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2071">#2071</a>: 77c deep update</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2019">#2019</a>: 1776: XSLT template rules for maps and array</li>
</ul>
</div>
</div>
<div id="outline-container-merge-without-discussion" class="outline-4">
<h4 id="merge-without-discussion"><span class="section-number-4">1.6.2.</span> Merge without discussion</h4>
<div class="outline-text-4" id="text-merge-without-discussion">
<p>
The following PRs are editorial, small, or otherwise appeared to be
uncontroversial when the agenda was prepared. The chairs propose that
these can be merged without discussion. If you think discussion is
necessary, please say so.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2308">#2308</a>: QT4CG-140-02 Add note about binary input to parse-csv and parse-json</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2306">#2306</a>: QT4CG-141-01 Fix formal equivalent of array:for-each</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2304">#2304</a>: QT4CG-142-02: Add notes on gotchas for string-length and normalize-space</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2303">#2303</a>: 2195 Fix some more simple editorial errors</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2296">#2296</a>: 2288 XSLT implicit document nodes</li>
</ul>

<p>
Proposal: merge without discussion.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-close-without-action" class="outline-4">
<h4 id="close-without-action"><span class="section-number-4">1.6.3.</span> Close without action</h4>
<div class="outline-text-4" id="text-close-without-action">
<p>
It has been proposed that the following issues be closed without action.
If you think discussion is necessary, please say so.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/2291">#2291</a>: load-xquery-module: formalizing (loading-)parameters</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/2287">#2287</a>: Ordered maps break JSON interoperability</li>
</ul>

<p>
Proposal: merge without discussion.
</p>

<ul class="org-ul">
<li>MK: These are external comments, we should try to give a little bit of rationale.</li>
<li>WP: I think #2287 has been adequately answered.</li>
<li>MK: I think we can also observe that the CG spent a lot of time talking about
the consequences of the change.</li>
</ul>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-substantive" class="outline-4">
<h4 id="substantive"><span class="section-number-4">1.6.4.</span> Substantive PRs</h4>
<div class="outline-text-4" id="text-substantive">
<p>
The following substantive PRs were open when this agenda was prepared.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2301">#2301</a>: 2198 Add cdata attribute to xsl:text and xsl:value-of</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2296">#2296</a>: 2288 XSLT implicit document nodes</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2289">#2289</a>: 2195 (partial) Editorial notes (incremental)</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2283">#2283</a>: 2276 Relax XSLT rules on Extension Attributes</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2282">#2282</a>: 2278 Add function bin:infer-encoding; simplify bin:decode-string</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2281">#2281</a>: 2280 Usability of xsl:array-member</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2274">#2274</a>: 407 Function items capturing XSLT context components</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2259">#2259</a>: 938 Canonical serialization</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2213">#2213</a>: 2047 External resources and security</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2019">#2019</a>: 1776: XSLT template rules for maps and array</li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>
<div id="outline-container-pr-2282" class="outline-3">
<h3 id="pr-2282"><span class="section-number-3">2.1.</span> PR #2282: 2278 Add function bin:infer-encoding; simplify bin:decode-string</h3>
<div class="outline-text-3" id="text-pr-2282">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2282">#2282</a>
</p>

<p>
Discussion continues from last week, please see also <a href="https://qt4cg.org/meeting/minutes/2025/11-18.html#pr-2282">that discussion</a>.
</p>

<ul class="org-ul">
<li>MK opens again with a quick review of the PR.</li>
<li>CG: I like the idea of making the offset completely optional, but I just
wonder what would happen if we did it with the current solution.
<ul class="org-ul">
<li>… We’re introducing new logic here and I think it would be nice if the
solutions worked the same way.</li>
</ul></li>
<li>MK: The main difference with unparsed text is that it can take information
from http headers.</li>
<li>CG: But it also has semantic details that aren’t considered in decode-string here.</li>
</ul>

<p>
Some discussion of how to simulate the old behavior.
</p>

<ul class="org-ul">
<li>CG: We spent time defining the current rules, it would make sense to preserve
them and only change the offset idea.</li>
<li>MK: I think it’s useful to have the additional function to infer the encoding.
<ul class="org-ul">
<li>… But I guess you can make it have the same semantic effect.</li>
<li>… Do you want to make another attempt at this?</li>
</ul></li>
<li>CG: I think it would make sense to use the infer-encoding feature only if the
offset is zero.</li>
<li>JLO: I like the changes; I think I would also agree with CG that it would be
nice to have a little extra magic if UTF-16 is provided, it tries to figure
out if it’s BE or LE if it can.
<ul class="org-ul">
<li>… I also think it would be nice if the logic could be the same in different
parts of the spec.</li>
</ul></li>
</ul>

<p>
ACTION: QT4CG-143-01: CG to make another attempt at binary functions.
</p>
</div>
</div>
<div id="outline-container-pr-2289" class="outline-3">
<h3 id="pr-2289"><span class="section-number-3">2.2.</span> PR #2289: 2195 (partial) Editorial notes (incremental)</h3>
<div class="outline-text-3" id="text-pr-2289">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2289">#2289</a>
</p>

<p>
CG displays the PR.
</p>

<ul class="org-ul">
<li>CG: I looked at the various arrows and decided that there was too much variation.
<ul class="org-ul">
<li>… I switched to text.</li>
</ul></li>
<li>CG: I also updated the pseudocode for <code>bin:shift</code></li>
<li>MK: I had a stylesheet that extracted the formal equivalence into a test set.</li>
</ul>

<p>
ACTION: QT4CG-143-02: MK to try to recover the ability to extract formal equivalences into tests
</p>

<ul class="org-ul">
<li>JLO: I’m all for text.
<ul class="org-ul">
<li>… We could think of having arrows next to it.</li>
</ul></li>
<li>NW: It’s also more accessible.</li>
</ul>

<p>
Proposal: accept this PR
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-pr-2259" class="outline-3">
<h3 id="pr-2259"><span class="section-number-3">2.3.</span> PR #2259: 938 Canonical serialization</h3>
<div class="outline-text-3" id="text-pr-2259">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2259">#2259</a>
</p>

<ul class="org-ul">
<li>JK: Canonical serialization makes it possible to do things like take hashes of
serialization to assure that they’re the same.</li>
<li>JK: And canonical serialization is also possible for JSON.</li>
</ul>

<p>
JK reviews the PR.
</p>

<ul class="org-ul">
<li>JK: For XML, I’m assuming that dropping comments during canonicalization is
always false.</li>
<li>JK: In JSON, there are slight changes to the output method accounting for canonicalization.
<ul class="org-ul">
<li>… There’s a carve out for dealing with XNodes in JNodes.</li>
<li>There are changes in some of the other specs to expand the serialization parameters.</li>
</ul></li>
<li>MK: Do we know if there are test suites for C14N?</li>
<li>JK: I don’t.</li>
</ul>

<p>
ACTION: QT4CG-143-03: JK to look for C14N test suites.
</p>

<ul class="org-ul">
<li>NW: Should there be errors in XSLT and XQuery for attempts to set
canonicalization <b>and</b> output properties that are ignored when C14N is enabled.</li>
<li>JK: I considered it, but I opted to keep it silent.</li>
<li>MK: Generally, if you ask for URI escaping with the JSON output method, for
example, it’s going to be ignored. That’s the precedent.</li>
<li>JWL: Why do we choose to work on the octet stream instead of the XDM model.</li>
<li>JK: It’s a node set that’s required, but all we can require is a sequence. I
tried to do that, but MK pointed out that there’s an incompatibility there.</li>
<li>MK: The C14N spec has enormous problems supporting an arbitrary node set. We
can avoid all those problems by notionally serializing to an octet stream and
the canonicalizing.</li>
</ul>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-pr-2213" class="outline-3">
<h3 id="pr-2213"><span class="section-number-3">2.4.</span> PR #2213: 2047 External resources and security</h3>
<div class="outline-text-3" id="text-pr-2213">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2213">#2213</a>
</p>

<ul class="org-ul">
<li>MK: I looked at it again and don’t have any direction to change it. I think
it’s pretty good.</li>
</ul>

<p>
MK reviews the new “external resources and security” section.
</p>

<ul class="org-ul">
<li>JK: This looks good to me, my question is, do we have good feedback from the
folks to whom this might matter?</li>
<li>WP: I think it’s an awsome question. Who are those people?</li>
<li>MK: We get push back from customers on security, varying for people who know
what they’re talking about to folks who just look at the output from scanners.
<ul class="org-ul">
<li>… It’s a wide range of input.</li>
<li>… This seems like enough to address security concerns from the outside.</li>
</ul></li>
<li>CG: Security is definitely a big issue for users. We get a lot of feedback.
We’ve incorporated that into our products. I like the ‘trust’ value, but maybe
it could be a string so that it’s easier to extend with vendor-specific
features. So everyone has to support ‘true’ and ‘false’, but it could be
extended to things like databases.
<ul class="org-ul">
<li>… But if we have different features, standard and non-standard, then things
can get even more complicated.</li>
</ul></li>
<li>MK: These are going into options parameters that are already extensible, so I
think it mixes quite well. But it’s obviously up to vendor to say what that
interaction is.</li>
<li>WP: From my perspective, the security experts are often unsure, but customers
are a great place to start. In view of that, I like this very much. I don’t
think perfect is possible. Just having a stake in the ground is important.</li>
<li>JLO: I still think a boolean is good. We could make them strings; but it’s an
enum and if you want it to change it would be a different enum. I think it’s
better to have two sets: trusted and untrusted, and then vendor extensions.
<ul class="org-ul">
<li>… I like the very simple boolean first.</li>
<li>… If there are specific examples where it’s very complicated, I’d like to see them.</li>
</ul></li>
<li>CG: One thing I have in mind is the general challenge of the size of
resources. Some users can only open small files, etc. But we don’t have a
concept for that. We mostly work on database concepts: read/write access to
specific databases, or groups of databses, admin features, etc.
<ul class="org-ul">
<li>… It’s most interesting for extension modules, like the http or file module.</li>
<li>… The easiest solution would be only to allow it for trusted users.</li>
<li>… I have many ideas in mind but I haven’t reflected on how it might work.</li>
<li>… But I agree that having a boolean is simple.</li>
</ul></li>
<li>JLO: If we do this now, and we know that someone has to build on this in the
future, could this backfire in some way?</li>
<li>MK: I think the fact that it’s going in options parameters makes it pretty extensible.</li>
</ul>

<p>
MK reviews the detail on one of the functions.
</p>

<ul class="org-ul">
<li>MK: In F&amp;O, we get detail on the functions.
<ul class="org-ul">
<li>… There’s a mention in collations because they can be external resources.</li>
<li>… <code>fn:doc</code> gets a <code>trusted</code> parameter.</li>
<li>… <code>fn:collection</code> gets a similar option</li>
</ul></li>
<li>CG: With regards to external resources, does that also apply to database resources?</li>
<li>MK: Well, we have this let out that says trusted=no says you can only get
access to things that are explicitly made available. In a database context,
that would include the parts of the database that you have explicit permission to access.</li>
<li>CG: That makes sense.</li>
<li>MK: You don’t need an extra parameter to control external entities for <code>fn:unparsed-text</code>.</li>
</ul>

<p>
MK continues the review.
</p>

<ul class="org-ul">
<li>MK: <code>load-xquery-module</code> has a <code>trusted</code> option.
<ul class="org-ul">
<li>… That turns out to be a little tricky to implement. But I think it’s the right answer.</li>
</ul></li>
<li>JWL: In terms of things like <code>fn:doc</code>, the default would be that if I’m
trusted, the doc is also trusted.
<ul class="org-ul">
<li>… We aren’t going to get backwards compatiblity problems.</li>
</ul></li>
<li>MK: I think we could have backwards compatibility problems; the advice is to
make things secure by default.</li>
</ul>

<p>
Proposal: merge this PR?
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>
<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<p>
None heard.
</p>
</div>
</div>
</div>
</body>
</html>
