<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 147 Minutes 2026-01-06</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 147 Minutes 2026-01-06</h1>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Draft Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/5]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[7/13]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a></li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[1/4]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#close-without-action">1.6.1. Close without action</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical agenda</a>
<ul>
<li><a href="#pr-2336">2.1. PR #2336: 2334 Revise XSLT pattern syntax and semantics</a></li>
<li><a href="#pr-2348">2.2. PR #2348: 1011 fn transform improvements</a></li>
<li><a href="#pr-2266">2.3. PR #2266: 540 system-property equivalent for XQuery</a></li>
<li><a href="#pr-2274">2.4. PR #2274: 407 Function items capturing XSLT context components</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
</ul>
</div>
</div>
<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Draft Minutes</h2>
<div class="outline-text-2" id="text-minutes">
</div>
</div>
<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/5]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-143-02: MK to try to recover the ability to extract formal equivalences into tests</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-143-03: JK to look for C14N test suites.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-144-01: MK to consider if any now lost value comparisons should be added as examples.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-147-01: MK to fix the change markup entry for fn:curent-merge-group; it refers to the wrong function name.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-147-02: NW to chase up DN and LQ about follow-up to the generator discussion</li>
</ul>
</div>
</div>
<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>
<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[7/13]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets: CG.
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> David J Birnbaum (DB)</li>
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="off"><code>[&#xa0;]</code> Sasha Frisov (SF)</li>
<li class="off"><code>[&#xa0;]</code> Christian Grün (CG)</li>
<li class="off"><code>[&#xa0;]</code> Joel Kalvesmaki (JK)</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="off"><code>[&#xa0;]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JWL)</li>
<li class="on"><code>[X]</code> Alan Painter (AP</li>
<li class="on"><code>[X]</code> Wendell Piez (WP)</li>
<li class="off"><code>[&#xa0;]</code> Ruvim Pinka (RP)</li>
<li class="off"><code>[&#xa0;]</code> Ed Porter (EP)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW) <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>
<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2026/01-06.html">the agenda</a>.
</p>

<p>
MK observes that #2336 should have been at the top of the agenda.
</p>

<p>
Accepted with that change.
</p>
</div>
</div>
<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2025/12-16.html">the minutes of the previous meeting</a>. 
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting is planned for 13 January 2026.
</p>

<p>
No regrets heard.
</p>

<p>
JWL gives regrets for 20, 27 January.
</p>
</div>
</div>
<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[1/4]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-143-02: MK to try to recover the ability to extract formal equivalences into tests</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-143-03: JK to look for C14N test suites.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-144-01: MK to consider if any now lost value comparisons should be added as examples.</li>
<li class="on"><code>[X]</code> QT4CG-146-01: NW to attempt to provide a markup solution for argument defaults</li>
</ul>
</div>
</div>
<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
<p>
This section summarizes all of the issues and pull requests that need to be
resolved before we can finish. See <a href="#technical-agenda">Technical Agenda</a> below for the focus of this
meeting.
</p>
</div>
<div id="outline-container-close-without-action" class="outline-4">
<h4 id="close-without-action"><span class="section-number-4">1.6.1.</span> Close without action</h4>
<div class="outline-text-4" id="text-close-without-action">
<p>
It has been proposed that the following issues be closed without action.
If you think discussion is necessary, please say so.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/2048">#2048</a>: Untrusted execution, and security more generally</li>
</ul>

<p>
Proposal: close this issue without further action.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>
<div id="outline-container-pr-2336" class="outline-3">
<h3 id="pr-2336"><span class="section-number-3">2.1.</span> PR #2336: 2334 Revise XSLT pattern syntax and semantics</h3>
<div class="outline-text-3" id="text-pr-2336">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2336">#2336</a>.
</p>

<p>
MK introduces the PR.
</p>

<ul class="org-ul">
<li>MK: Primarily about XSLT, but there are one or two knock-on effects on the
XPath grammar.
<ul class="org-ul">
<li>… One is completely trivial; the pattern syntax now reuses the fragment for
constants so it’s been rearranged a bit.
<ul class="org-ul">
<li>… 2.6.6 Constants has been drawn out into a section of their own.</li>
</ul></li>
<li>… The other is not so trivial; in the interest of alignment, I’ve changed
the syntax for JNode types to work like patterns. You can specify first the
selector, then the type. That brings pattersn and types into alignment for
JNodes. Let’s look at that first.</li>
</ul></li>

<li>MK: The <code>JNodeType</code> production is changed; it now has two parts, a selector
property followed by a content type. That aligns with JNode patterns and element tests.
<ul class="org-ul">
<li>… The selector has to be a constant, that again aligns with elements.</li>
<li>… If you want to use the selector with a type, that implies that it’s
statically known.</li>
</ul></li>

<li>MK: The other changes are to XSLT.
<ul class="org-ul">
<li>… The way patterns work has been restructured a bit.</li>
<li>… Predicate patterns aren’t new, but we’ve changed the way the semantics are described.</li>
<li>… I’ve changed the syntax for type patterns, it was getting too messy.</li>
<li>… I gave up trying to write some types in <code>type()</code> and some outside. They’re
now all uniformly a tilde followed by an item type.</li>
</ul></li>

<li>MK: Type patterns are now simple conceptually; you can’t combine them with
union and intersect.</li>

<li>MK: The third kind of pattern are ~GNodePattern~s. You can now use paths for
both JTrees and XTrees and the semantics are defined in the same way.
<ul class="org-ul">
<li>… This removes the ambiguity of parenthesis in JNode patterns.</li>
</ul></li>

<li>MK: The meaning of GNode pattern has been generalized to handle JNodes.</li>

<li>MK: Changing the intersect and excepts back to the way it was also removes the
backwards incompatibility that we introduced. But also reintroduces the
problem that <code>except</code> doesn’t always mean what you might think it means.</li>

<li>MK: There are no longer special rules for intersect and except in priorities.</li>
</ul>

<p>
MK reviews the priorities outlined in the spec.
</p>

<ul class="org-ul">
<li>JWL: In 6.3.2.2, the fifth example in type patterns, the <code>jnode(address…</code>
example is missing a closing <code>)</code>.
<ul class="org-ul">
<li>… I’ve run some tests on the grammar and I don’t see any ambiguities.</li>
</ul></li>
<li>JWL: We don’t use tilde anywhere else, right?</li>
<li>MK: I think that’s right. At one stage we had a separate syntax for JTrees but
we abandoned that.</li>
<li>JWL: The <code>*</code> in the selectors and content things, is there an argument for
saying that that is a wildcard production? Or is that too complex?
<ul class="org-ul">
<li>… When I’m doing the grammar conversions, there isn’t a production for the
<code>*</code>, it’s just text.</li>
<li>… If we made it a specific production, then it would be clearer in the grammar.</li>
</ul></li>
<li>MK: There’s a related problem when you just have a name there; you have to
remember that it was a bare name because you don’t know until runtime if it’s
being used as an element name or not. (Is it a QName in the default namespace
or a plain name?)
<ul class="org-ul">
<li>… The semantics get a little bit complex in that case.</li>
</ul></li>
<li>JWL: It’s just a suggestion.</li>
<li>RD: We do something similar for element and attribute tests, because they were
missing the <code>*:name</code> production.</li>
<li>JWL: That might be what I’m thinking <code>wildcard</code> is set to. I’ll review and
send some mail.</li>
</ul>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>

<ul class="org-ul">
<li>JWL: In the example that has a record with a <code>*</code> at the end is a production
for an extensibility key. I think we’ve got reasonable stuff about trying to
make things grammar productions.</li>
<li>RD: See also:
<ul class="org-ul">
<li><a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#doc-xpath40-ItemType-NameTest">https://qt4cg.org/specifications/xquery-40/xpath-40.html#doc-xpath40-ItemType-NameTest</a></li>
<li><a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#prod-xpath40-Wildcard">https://qt4cg.org/specifications/xquery-40/xpath-40.html#prod-xpath40-Wildcard</a></li>
</ul></li>

<li>JWL: You need to know that a star was present which is unlike tilde.</li>
</ul>
</div>
</div>
<div id="outline-container-pr-2348" class="outline-3">
<h3 id="pr-2348"><span class="section-number-3">2.2.</span> PR #2348: 1011 fn transform improvements</h3>
<div class="outline-text-3" id="text-pr-2348">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2348">#2348</a>.
</p>

<ul class="org-ul">
<li>MK: I think the issue here describes a wider range of things; I just picked
some low-hanging fruit.</li>
<li>MK: The first thing is adding a <code>source-location</code> option.
<ul class="org-ul">
<li>… We needed this in Saxon to allow <code>fn:transform</code> to do streaming.</li>
</ul></li>
<li>MK: … We add the option to write outputs to persistent storage (the filesystem)
<ul class="org-ul">
<li>… We resisted this previously because it’s a side effect; let’s just bite
the bullet.</li>
</ul></li>
</ul>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-pr-2266" class="outline-3">
<h3 id="pr-2266"><span class="section-number-3">2.3.</span> PR #2266: 540 system-property equivalent for XQuery</h3>
<div class="outline-text-3" id="text-pr-2266">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2266">#2266</a>.
</p>

<p>
Some discussion of whether or not this is awaiting further work…
</p>
</div>
</div>
<div id="outline-container-pr-2274" class="outline-3">
<h3 id="pr-2274"><span class="section-number-3">2.4.</span> PR #2274: 407 Function items capturing XSLT context components</h3>
<div class="outline-text-3" id="text-pr-2274">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2274">#2274</a>.
</p>

<p>
MK introduces the PR. Essentially, it handles the XSLT bits of the context the
same way we handle the XPath bits. When you bind a function item to something
like regex groups, then it explicitly captures the regex groups as part of the
bound context in that function item rather than throwing some sort of error.
It’s just an alignment thing with the XPath context functions.
</p>

<ul class="org-ul">
<li>MK: The detail mainly involves removing rules.</li>
</ul>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>

<p>
ACTION QT4CG-147-01: MK to fix the change markup entry for fn:curent-merge-group; it refers to the wrong function name.
</p>

<ul class="org-ul">
<li>JWL: Inside a function that captures the regex group, is it available for the whole function?</li>
</ul>

<p>
Some discussion of a complex case with a partial function bound to an XSLT
function with the capturing group.
</p>

<ul class="org-ul">
<li>MK: None of this is especially useful, it just follows the general rule and removes some special cases.</li>
</ul>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>
<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<ul class="org-ul">
<li>NW: Are we ready to create a checkpointed version?</li>
</ul>

<p>
General agreement that we are.
</p>

<ul class="org-ul">
<li>MK: Are we going to try to keep track of changes.</li>
</ul>

<p>
Some discussion. We’ll try to be diligent about putting dates in the change
summaries.
</p>

<ul class="org-ul">
<li>JWL: Should we check with CG and or JLO first?</li>

<li>NW: I can.</li>

<li>MK: In terms of program of work, how do we tackle generators?</li>
</ul>

<p>
ACTION QT4CG-147-02: NW to chase up DN and LQ about follow-up to the generator discussion
</p>

<p>
Some further discussion.
</p>

<ul class="org-ul">
<li>RD: DN’s approach is more of an external library approach. But the proposal I
made is in effect providing a single function that allows you to create
programmatic sequences from a generator style or iterator style.</li>

<li>MK: That’s basically the proposal I took and ran with.</li>

<li>NW to put MK’s proposal on the agenda for next week to see if we can get a
better understanding of it.</li>
</ul>
</div>
</div>
</div>
</body>
</html>
