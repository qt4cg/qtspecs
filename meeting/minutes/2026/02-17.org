:PROPERTIES:
:ID:       3a52720e-6582-4e7e-bee0-5fba60c68941
:END:
#+title: QT4 CG Meeting 153 Minutes 2026-02-17
#+author: Norm Tovey-Walsh
#+filetags: :qt4cg:
#+options: html-style:nil h:6 toc:nil
#+html_head: <link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
#+html_head: <link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
#+html_head: <link rel="shortcut icon" href="/img/QT4-64.png" />
#+html_head: <link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
#+html_head: <link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
#+html_head: <link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
#+html_head: <link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
#+options: author:nil email:nil creator:nil timestamp:nil
#+startup: showall

[[../][Meeting index]] / [[https://qt4cg.org][QT4CG.org]] / [[https://qt4cg.org/dashboard][Dashboard]] / [[https://github.com/qt4cg/qtspecs/issues][GH Issues]] / [[https://github.com/qt4cg/qtspecs/pulls][GH Pull Requests]]

#+TOC: headlines 6

* Summary of new and continuing actions [0/5]
:PROPERTIES:
:unnumbered: t
:CUSTOM_ID: new-actions
:END:

+ [ ] QT4CG-143-02: MK to try to recover the ability to extract formal equivalences into tests
+ [ ] QT4CG-143-03: JK to look for C14N test suites.
+ [ ] QT4CG-144-01: MK to consider if any now lost value comparisons should be added as examples.
+ [ ] QT4CG-149-01: CG to draft a new PR with the common rule note.
+ [ ] QT4CG-150-01: NW to ask Jirka for a room at XML Prague for Tuesday/Wednesday
+ [ ] QT4CG-150-04: NW to see about a status update on PR #2345; possibly schedule discussion
+ [ ] QT4CG-151-01: MK to fix the typo in the build-dateTime function.
+ [ ] QT4CG-151-03: NW to investigate why records are formatted incorrectly in XSLT
+ [ ] QT4CG-152-01: MK to add a note about the new and old syntax for names in PR #2446
+ [ ] QT4CG-153-01: MK to investigate the indentation problem.
+ [ ] QT4CG-153-02: MK to turn my suggestions on #1949 into a PR.

* Draft Minutes
:PROPERTIES:
:unnumbered: t
:CUSTOM_ID: minutes
:END:

* Administrivia
:PROPERTIES:
:CUSTOM_ID: administrivia
:END:

** Roll call [9/10]
:PROPERTIES:
:CUSTOM_ID: roll-call
:END:

Regrets: DB.

+ [ ] David J Birnbaum (DB)
+ [X] Reece Dunn (RD)
+ [X] Christian Grün (CG)
+ [X] Joel Kalvesmaki (JK)
+ [X] Michael Kay (MK)
+ [X] Juri Leino (JLO)
+ [X] John Lumley (JWL)
+ [X] Alan Painter (AP
+ [X] Wendell Piez (WP)
+ [X] Norm Tovey-Walsh (NW) /Scribe/. /Chair/.

** Accept the agenda
:PROPERTIES:
:CUSTOM_ID: agenda
:END:

Proposal: Accept [[../../agenda/2026/02-17.html][the agenda]].

Accepted.

** Approve minutes of the previous meeting
:PROPERTIES:
:CUSTOM_ID: approve-minutes
:END:

Proposal: Accept [[../../minutes/2026/02-10.html][the minutes of the previous meeting]].

Accepted.

** Next meeting
:PROPERTIES:
:CUSTOM_ID: next-meeting
:END:

The next meeting is planned for 3 March 2026.

We /will not/ meet on 24 February.

** Review of open action items [1/10]
:PROPERTIES:
:CUSTOM_ID: open-actions
:END:

+ [ ] QT4CG-143-02: MK to try to recover the ability to extract formal equivalences into tests
+ [ ] QT4CG-143-03: JK to look for C14N test suites.
+ [ ] QT4CG-144-01: MK to consider if any now lost value comparisons should be added as examples.
+ [ ] QT4CG-149-01: CG to draft a new PR with the common rule note.
+ [ ] QT4CG-150-01: NW to ask Jirka for a room at XML Prague for Tuesday/Wednesday
+ [X] QT4CG-150-03: NW to setup an agenda item to review open issues
+ [ ] QT4CG-150-04: NW to see about a status update on PR #2345; possibly schedule discussion
+ [ ] QT4CG-151-01: MK to fix the typo in the build-dateTime function.
+ [ ] QT4CG-151-03: NW to investigate why records are formatted incorrectly in XSLT
+ [ ] QT4CG-152-01: MK to add a note about the new and old syntax for names in PR #2446

** Review of open pull requests and issues
:PROPERTIES:
:CUSTOM_ID: open-pull-requests
:END:

This section summarizes all of the issues and pull requests that need to be
resolved before we can finish. See [[#technical-agenda][Technical Agenda]] below for the focus of this
meeting.

*** Blocked
:PROPERTIES:
:CUSTOM_ID: blocked
:END:

The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.

+ PR [[https://qt4cg.org/dashboard/#pr-2350][#2350]]: 708 An alternative proposal for generators
+ PR [[https://qt4cg.org/dashboard/#pr-2345][#2345]]: 2299 Expand pipeline to allow arrow expression in path expression
+ PR [[https://qt4cg.org/dashboard/#pr-2313][#2313]]: 2298 XQFO rules: definition of default values
+ PR [[https://qt4cg.org/dashboard/#pr-2266][#2266]]: 540 system-property equivalent for XQuery
+ PR [[https://qt4cg.org/dashboard/#pr-2247][#2247]]: 716 Deferred Evaluation in XPath - the f:generator record
+ PR [[https://qt4cg.org/dashboard/#pr-2160][#2160]]: 2073 data model changes for JNodes and Sequences
+ PR [[https://qt4cg.org/dashboard/#pr-2071][#2071]]: 77c deep update
+ PR [[https://qt4cg.org/dashboard/#pr-2019][#2019]]: 1776: XSLT template rules for maps and array

*** Merge without discussion
:PROPERTIES:
:CUSTOM_ID: merge-without-discussion
:END:

The following PRs are editorial, small, or otherwise appeared to be
uncontroversial when the agenda was prepared. The chairs propose that
these can be merged without discussion. If you think discussion is
necessary, please say so.

+ PR [[https://qt4cg.org/dashboard/#pr-2446][#2446]]: 2427 Add computed node constructors to XPath

Proposal: merge without discussion.

Accepted.

*** Close without action
:PROPERTIES:
:CUSTOM_ID: close-without-action
:END:

It has been proposed that the following issues be closed without action.
If you think discussion is necessary, please say so.

+ Issue [[https://github.com/qt4cg/qtspecs/issues/2234][#2234]]: Replace `a/get(XX)` with `a/?(XX)`

Proposal: close with no further action.

Accepted.

*** Substantive PRs
:PROPERTIES:
:CUSTOM_ID: substantive
:END:

The following substantive PRs were open when this agenda was prepared.

+ PR [[https://qt4cg.org/dashboard/#pr-2457][#2457]]: Improved use of fos:result
+ PR [[https://qt4cg.org/dashboard/#pr-2456][#2456]]: Stylesheet handling of fos:result/@narrative

* Technical agenda
:PROPERTIES:
:CUSTOM_ID: technical-agenda
:END:

** Improvements to FOS
:PROPERTIES:
:CUSTOM_ID: h-F7DE29C3-E195-4196-9A09-81D2E5F578E1
:END:

See PR [[https://qt4cg.org/dashboard/#pr-2457][#2457]] Improved use of fos:result, and
PR [[https://qt4cg.org/dashboard/#pr-2456][#2456]]: Stylesheet handling of fos:result/@narrative

MK introduces the infrastructure changes.

+ MK: We made a schema change to allow results in the function catalog to be
  annotated as narrative. A narrative result isn’t testable. The stylesheets
  handle that attribute; formatting without the code font. And when QT tests are
  generated from that example, we generate a “passing” test as long as it is
  syntactically valid.
  + … And #2457 makes use of that markup in the F&O function catalog.
  + … The next stage will be to apply it there as well.
+ JLO: We have now some narrative results, could we have both?
+ MK: For different examples of the same function. For a single result, you’d
  have to use the old mechanism.
+ CG: I like the change; editorially, the text may need to be adjusted with
  respect to indentation.

ACTION QT4CG-153-01: MK to investigate the indentation problem.

Proposal: accept this PR.

Approved.

** Issue #2460: file:read-text and invalid XML characters
:PROPERTIES:
:CUSTOM_ID: h-D51FB09C-1C0E-4C5A-8D3E-15DF1BD60FA7
:END:

See issue [[https://github.com/qt4cg/qtspecs/issues/2460][#2460]]: file:read-text and invalid XML characters

Perhaps we can decide what needs to be done here.

+ MK: Sounds like it’s going the right way.
+ JLO: Looks nice; but should we have a single character type?
+ RD: We have a character, but it isn’t used in an XSD type.

Some discussion of codepoint vs. string vs. character.

+ CG: How do you represent a non-permitted character?

Ok, we do need to make it a code point!

+ CG: The return type should be untyped atomic. It gives you more flexibility.
+ NW: Okay.
+ JLO: Can we also replace it with nothing?
+ NW: I thought that was the empty string, but it’ll have to be ~xs:untypedAtomic?~

** Other issue triage
:PROPERTIES:
:CUSTOM_ID: h-CAC3A474-CC59-4E99-9508-DED1B7DC26C7
:END:

NW proposes a three broad categories: close it; nice to have; leave it as is, we
have to do it. This is a coarse triage only.

+ JK: One small suggestion is to sort chronologically.
+ NW: Ok, then we start with #77.

*** #77 Allow manipulation of maps and arrays
:PROPERTIES:
:CUSTOM_ID: issue-77
:END:

See [[https://github.com/qt4cg/qtspecs/issues/77][#77]]

+ MK: There’s been a lot of work in this area, and more is needed, but it’s
  not clear if this is the right issue.

*** #272 Setting parameter values in xsl:use-package
:PROPERTIES:
:CUSTOM_ID: issue-272
:END:

See [[https://github.com/qt4cg/qtspecs/issues/272][#272]]

+ MK: It’s still nice to have.

*** #285 Stability of collections
:PROPERTIES:
:CUSTOM_ID: issue-285
:END:

See [[https://github.com/qt4cg/qtspecs/issues/285][#285]]

+ MK: As CG says, this is a minefield.
+ NW: Are we going to ship without it?
+ MK: Implementations have been pragmatic in the past and will probably continue to do so.
+ NW: Nice to have?

*** #540 Add fn:system-property() to XQuery
:PROPERTIES:
:CUSTOM_ID: issue-540
:END:

See [[https://github.com/qt4cg/qtspecs/issues/540][#540]]

+ MK: I tried to address this; but it didn’t go very well.
  + … We could extend the system function to sort out the difference between
    compile time and runtime propertiers.

*** #641 Serialization fallback
:PROPERTIES:
:CUSTOM_ID: issue-641
:END:

See [[https://github.com/qt4cg/qtspecs/issues/641][#641]]

+ NW: We’ve done some work on this.
+ MK: I think I’m going to propose dropping this one.

Marked close with out further action.

*** #675 XSLT streaming rules for new constructs
:PROPERTIES:
:CUSTOM_ID: issue-675
:END:

See [[https://github.com/qt4cg/qtspecs/issues/675][#675]]

This one has to be done.

*** #1045 Functions to manage namespace usage
:PROPERTIES:
:CUSTOM_ID: issue-1045
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1045][#1045]]

+ MK: The problem of this one is the open-endedness of it. Do you do a very
  general thing or something more targeted?

Marked close with out further action.

*** #1225 Generalization of Deep Updates
:PROPERTIES:
:CUSTOM_ID: issue-1225
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1225][#1225]]

+ MK: We have the problem about the status of the XQuery Update spec; if we’re
  doing anything on that specification, we need to do housekeeping to bring it
  in line with the specs. XQuery Update 3.0 was abandoned.

Marked close with out further action.

*** #1234 Seralization Parameters: Indentation, Whitespace, Newlines
:PROPERTIES:
:CUSTOM_ID: issue-1234
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1234][#1234]]

+ CG: I’ll try to write a PR for this one. Many implementations have ways of
  doing this.

*** 1251 Allow sequence constructor in extension instructions that are implemented with named templates
:PROPERTIES:
:CUSTOM_ID: issue-1251
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1251][#1251]]

Marked close with out further action.

*** 1310 add fn:match-groups() function
:PROPERTIES:
:CUSTOM_ID: issue-1310
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1310][#1310]]

+ MK: The ~fn:analyze-string~ function was an intent to do this; but it relies
  on an XML representation of the results.
  + … The aim here would be a single function that gives you all the data in the
    form of maps of arrays.
+ JWL: Can this be written entirely in XPath?
+ MK: You might have to apply the regex more than once; and there are things
  that aren’t easily available like “how many groups are there?”

*** 1459 Function properties and arities
:PROPERTIES:
:CUSTOM_ID: issue-1459
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1459][#1459]]

+ CG: The properties don’t reflect what’s currently available.

*** 1479 Default element namespace in XQuery: interaction of 'fixed' and '##any'
:PROPERTIES:
:CUSTOM_ID: issue-1479
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1479][#1479]]

+ MK: I think there’s a potential bug here; we should come back to it.

*** 1506 Type declarations: Constructor functions?
:PROPERTIES:
:CUSTOM_ID: issue-1506
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1506][#1506]]

+ CG: For record declarations, we have implicit constructor functions. Do we
  want to have something similar for things like enums?
+ MK: I think that creates a false impression that enums are more strongly typed
  than they are.

Marked close with out further action.

*** 1528 Computed node constructors: observations
:PROPERTIES:
:CUSTOM_ID: issue-1528
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1528][#1528]]

+ CG: Mostly this is about shortening the list of excluded keywords.
+ MK: That’s certainly a much nicer list.
+ NW: Can we test this?
+ MK: Verifying that this is a complete maximal and minimal list is much harder to check.

Leave it the way it is.

*** 1584 Review the XML Schema and RELAX NG schemas for XSLT 4.0 for compatibility
:PROPERTIES:
:CUSTOM_ID: issue-1584
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1584][#1584]]

+ NW: Before we’re done, we’ll have to check this with care.

*** 1697 Add documentary names to callback function signatures
:PROPERTIES:
:CUSTOM_ID: issue-1679
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1679][#1679]]

+ MK: This is an editorial suggestion.

Leave it the way it is. (It’s marked nice to have.)

+ JWL: We have to be very careful that we don’t give users the impression that
  they can use them as keyword arguments.
+ NW: That suggests a different rendering of some sort.

*** 1702 Node Updates: Functions
:PROPERTIES:
:CUSTOM_ID: issue-1702
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1702][#1702]]

Marked close with out further action.

*** 1777 Shallow copy in XSLT with maps and arrays
:PROPERTIES:
:CUSTOM_ID: issue-1777
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1777][#1777]]

+ MK: We must do this.

*** 1920 Parse functions: determinism
:PROPERTIES:
:CUSTOM_ID: issue-1920
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1920][#1920]]

Consensus we should just do it.

*** 1948 fn:element-to-map:
:PROPERTIES:
:CUSTOM_ID: issue-1948
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1948][#1948]]

+ MK: We’ve made some progress on this, but I’m not sure of the status.

Leave it the way it is.

*** 1949 fn:element-to-map: Updated Feedback
:PROPERTIES:
:CUSTOM_ID: issue-1949
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1949][#1949]]

Leave it the way it is.

ACTION QT4CG-153-02: MK to turn my suggestions on #1949 into a PR.

*** 1979 Records: Type Safety
:PROPERTIES:
:CUSTOM_ID: issue-1979
:END:

See [[https://github.com/qt4cg/qtspecs/issues/1979][#1979]]

+ CG: Now that records aren’t extensible, we can close this?
+ MK: The main thing is updates; do you want to have a restriction that you
  can’t update the record?

Nice to have.

*** 2000 element-to-map() - type signature of plan
:PROPERTIES:
:CUSTOM_ID: issue-2000
:END:

See [[https://github.com/qt4cg/qtspecs/issues/2000][#2000]]

Nice to have.

*** 2018 Type-checking the result of xsl:apply-templates
:PROPERTIES:
:CUSTOM_ID: issue-2018
:END:

See [[https://github.com/qt4cg/qtspecs/issues/2018][#2018]]

+ MK: I’m going to do more work in this area. We can drop this as a separate issues.

*** 2039 Generalize context item to context value in XSLT
:PROPERTIES:
:CUSTOM_ID: issue-2039
:END:

See [[https://github.com/qt4cg/qtspecs/issues/2039][#2039]]

+ NW: How is this only a nice to have?
+ MK: We have restrictions in various places about the item type when you call a
  template.
  + … The spec is coherent, but it’s a bit odd that context values can be
    generalized in some places but not other.

*** 2052 fn:collation-available: $usage
:PROPERTIES:
:CUSTOM_ID: issue-2052
:END:

See [[https://github.com/qt4cg/qtspecs/issues/2052][#2052]]

+ CG: I have no idea how to implement this.
  + … I’ll raise a PR to drop it.

* Any other business
:PROPERTIES:
:CUSTOM_ID: any-other-business
:END:

None heard.
