<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 148 Minutes 2026-01-13</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 148 Minutes 2026-01-13</h1>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/5]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[12/14]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a></li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[2/5]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#blocked">1.6.1. Blocked</a></li>
<li><a href="#merge-without-discussion">1.6.2. Merge without discussion</a></li>
<li><a href="#close-without-action">1.6.3. Close without action</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical agenda</a>
<ul>
<li><a href="#pr-2350">2.1. PR #2350: 708 An alternative proposal for generators</a></li>
<li><a href="#h-1970AB40-7A13-4A8C-848A-12C820BA0501">2.2. Issue #2351: Current Drafts: …</a></li>
<li><a href="#pr-2313">2.3. PR #2313: 2298 XQFO rules: definition of default values</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
</ul>
</div>
</div>
<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Minutes</h2>
<div class="outline-text-2" id="text-minutes">
<p>
Approved <a href="../2026/01-20.html">at meeting 149</a> on 20 January 2026.
</p>
</div>
</div>
<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/5]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-143-02: MK to try to recover the ability to extract formal equivalences into tests</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-143-03: JK to look for C14N test suites.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-144-01: MK to consider if any now lost value comparisons should be added as examples.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-148-01: NW to draft a PR that marks #2351 items as “at risk” with appropriate definitions at the top of the document</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-148-02: NW to publish a dated drafter after QT4CG-148-01 is complete.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-148-03: NW to revise his attempt at #2313 by using the text “node” and a link to the appropriate text</li>
</ul>
</div>
</div>
<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>
<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[12/14]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets: EP.
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> David J Birnbaum (DB)</li>
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="off"><code>[&#xa0;]</code> Sasha Frisov (SF)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK)</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JWL)</li>
<li class="on"><code>[X]</code> Dimitre Novatchev</li>
<li class="on"><code>[X]</code> Alan Painter (AP</li>
<li class="on"><code>[X]</code> Wendell Piez (WP)</li>
<li class="off"><code>[&#xa0;]</code> Ruvim Pinka (RP)</li>
<li class="on"><code>[X]</code> Liam Quin (LQ)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW) <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>
<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2026/01-13.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2026/01-06.html">the minutes of the previous meeting</a>. 
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting is planned for 20 January 2026.
</p>

<p>
JWL gives regrets for 20, 27 January.
</p>
</div>
</div>
<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[2/5]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-143-02: MK to try to recover the ability to extract formal equivalences into tests</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-143-03: JK to look for C14N test suites.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-144-01: MK to consider if any now lost value comparisons should be added as examples.</li>
<li class="on"><code>[X]</code> QT4CG-147-01: MK to fix the change markup entry for fn:curent-merge-group; it refers to the wrong function name.</li>
<li class="on"><code>[X]</code> QT4CG-147-02: NW to chase up DN and LQ about follow-up to the generator discussion</li>
</ul>
</div>
</div>
<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
<p>
This section summarizes all of the issues and pull requests that need to be
resolved before we can finish. See <a href="#technical-agenda">Technical Agenda</a> below for the focus of this
meeting.
</p>
</div>
<div id="outline-container-blocked" class="outline-4">
<h4 id="blocked"><span class="section-number-4">1.6.1.</span> Blocked</h4>
<div class="outline-text-4" id="text-blocked">
<p>
The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2345">#2345</a>: 2299 Expand pipeline to allow arrow expression in path expression</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2266">#2266</a>: 540 system-property equivalent for XQuery</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2160">#2160</a>: 2073 data model changes for JNodes and Sequences</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2124">#2124</a>: 573 Functions to Construct Trees</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2071">#2071</a>: 77c deep update</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2019">#2019</a>: 1776: XSLT template rules for maps and array</li>
</ul>
</div>
</div>
<div id="outline-container-merge-without-discussion" class="outline-4">
<h4 id="merge-without-discussion"><span class="section-number-4">1.6.2.</span> Merge without discussion</h4>
<div class="outline-text-4" id="text-merge-without-discussion">
<p>
The following PRs are editorial, small, or otherwise appeared to be
uncontroversial when the agenda was prepared. The chairs propose that
these can be merged without discussion. If you think discussion is
necessary, please say so.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2377">#2377</a>: 2195 F+O Editorial Corrections</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2375">#2375</a>: 2195 Editorial Omnibus</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2371">#2371</a>: 2369 Add content for F&amp;O section 11 (Processing binary values)</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2368">#2368</a>: 2367 Misc XSLT editorial fixes</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-2358">#2358</a>: 2357 Standardize on element() rather than element(*)</li>
</ul>

<p>
Proposal: merge without discussion.
</p>

<p>
Accepted.
</p>
</div>
</div>
<div id="outline-container-close-without-action" class="outline-4">
<h4 id="close-without-action"><span class="section-number-4">1.6.3.</span> Close without action</h4>
<div class="outline-text-4" id="text-close-without-action">
<p>
It has been proposed that the following issues be closed without action.
If you think discussion is necessary, please say so.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1934">#1934</a>: Supporting RELAX NG validation</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1591">#1591</a>: Implausible filter expressions</li>
</ul>

<p>
Proposal: close with no further action.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>
<div id="outline-container-pr-2350" class="outline-3">
<h3 id="pr-2350"><span class="section-number-3">2.1.</span> PR #2350: 708 An alternative proposal for generators</h3>
<div class="outline-text-3" id="text-pr-2350">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2350">#2350</a>.
</p>

<p>
Thanks to DN and LQ for providing more use cases in email.
</p>

<p>
MK introduces his proposal.
</p>

<ul class="org-ul">
<li>MK: I’ve used the phrase “incremental evaluation” for this topic; I didn’t
want to use “lazy evaluation” because that’s a broader topic.
<ul class="org-ul">
<li>… This is about functions and expressions that operate on a sequence one
item at a time.</li>
</ul></li>
<li>MK: It should work on sequences and arrays; I haven’t done the work on arrays
yet.</li>
<li>MK: I divided functions into categories based on whether they can consume or
produce infinite sequences.</li>
<li>MK: We define a <code>fn:generate</code> function.</li>
</ul>

<p>
MK walks through the examples in the spec.
</p>

<ul class="org-ul">
<li>JLO: Very interesting. This looks very promising because it’s just one function.
<ul class="org-ul">
<li>… In the example with the random number generator, there’s a parenthesis missing in the funtion call.</li>
</ul></li>
<li>RD: When deciding whether functions can accept unbounded sequences, are we going to try to do that with a set of properties?</li>
<li>MK: Yes, I was thinking of doing it that way.</li>
<li>DN: Thank you for this proposal. It’s always good to have alternatives. Our
highest priority should be the user; more than who makes the proposal, and
more than what is convenient for the implementors.
<ul class="org-ul">
<li>… General impression is that this proposal is incomplete.</li>
<li>… Conceptually it’s fragmented and lacking a unifying extraction.</li>
<li>… Compared to original proposal, I think it’s difficult to understand</li>
<li>… Forces sequence-valued yields to be encoded indirectly.</li>
<li>… Lacks composibility</li>
<li>… Lacks construction based on external providers</li>
<li>… Too “implementation-defined”</li>
<li>… In brief: it violates the principle of making things as simple as possible, but no simpler.</li>
</ul></li>
</ul>

<p>
DN goes into more detail about these points…
</p>

<ul class="org-ul">
<li>DN: It doesn’t define a formal evaluation model, composition rules, external
data integration, or observable semantics.
<ul class="org-ul">
<li>… It’s incomplete for a language-level abstraction.</li>
</ul></li>
<li>DN: The proposal mixes terminology, categores, gaurantees, advice, core
semantics, and warnings.
<ul class="org-ul">
<li>… Hard to build a mental model, hard to reason compositionally, hard to teach</li>
</ul></li>
<li>DN: Very difficult to understand compared to original.
<ul class="org-ul">
<li>… The original proposal defines just one abstraction and defines it fully.
It shows you how everything builds on it.</li>
<li>… The MK proposal shifts complexity from the implementor to the user</li>
</ul></li>
<li>DN: Forces sequence-value yields to be encoded indirectly
<ul class="org-ul">
<li>… The <code>fn:generate()</code> returns <code>item()*</code></li>
<li>… An item cannot be a sequence.</li>
<li>… Theref ro eacy yield-value is only an item</li>
<li>… There are work arounds: arrays, maps, etc. But these are encodings not
first class semantics.</li>
</ul></li>
<li>DN: Lacks composibility
<ul class="org-ul">
<li>… In MK’s proposal, composability depends on which functions happen to be incrementally implemented</li>
<li>… Gaurantees are selective and asymmetric</li>
<li>… No type-level of semantic gurantee of streaming composition</li>
<li>… In the original proposal, every generator-consuming function composes.</li>
</ul></li>
<li>DN: Lacks construction based on external providers
<ul class="org-ul">
<li>… It’s purely functional, it assumes internal state progression, it cannot
safely represent sockets, cursors, feeds, backpressionr, etc.</li>
</ul></li>
<li>DN: Too implementation-defined / questionable portability
<ul class="org-ul">
<li>… The proposal relyes on “may or may not”, “implementation-dependent”, “not
mandated”, “outside the scope”…</li>
<li>… This is not acceptable for correctness, termination, and resource safety.</li>
</ul></li>
<li>DN: Make it as simple as possible, but not simpler
<ul class="org-ul">
<li>… That’s not rhetoric, it’s accurate.</li>
<li>… the MK proposal removes abstraction, pushes complexity onto users and
implementations, leaves behavior unspecified.</li>
</ul></li>
<li>DN: The alternative proposal is incomplete and conceptually fragmented
<ul class="org-ul">
<li>… It’s difficult to reason about. It lacks a unifying abstraction, doesn’t support
external data providers, and requires each yield-value to be a single XPath item.</li>
<li>… It shifts complexity into user code.</li>
</ul></li>
<li>LQ: I understood the proposal much better after today’s presentation.
<ul class="org-ul">
<li>… I don’t think it’s an either-or at this point; DN’s generators proposal is
slightly higher-level, but could still be built on this.</li>
<li>… I don’t think it’s true that you can’t have a function that does external
things. But you’d need room in the generator record to have more space to
hold things.</li>
<li>… Bringing it into the language instead of having a separate library is a
great step forward, but the higher level stuff needs a bit more work.</li>
</ul></li>
<li>JK: Thanks for the work everyone has put into this. For the PR on the table
now, it strikes me as falling into two parts: the conceptual model of
processing, that could be spun off profitably. The second half is the
generator itself, that struck me as a somewhat trivial example. As a user,
when I think about a generator, my first thought is about the random number
generator. I’ve got a set of expectations based up on that, that there’s a
next and stepping that I’m in control of. That’s missing from the
<code>fn:generator</code> function. I don’t find this proposal compelling.</li>
<li>RD: One of the key advantages of this is that the result is an XPath sequence,
so you can do things like filter expressions, etc. without any additional
machinery. If you’ve got a function that operates on a sequence, you can call
it irrespective of whether the sequence is a range or a generator.
<ul class="org-ul">
<li>… Currently, if you’re using the randon number generator and you want to
work out the average, you’d have to hand code that. But you could leverage
the existing function with <code>fn:generator</code>.</li>
<li>… Semantically, both of these proposals are in effect two different views of
the same concept. DN’s is explicit exposing an interator model whereas this
proposal is wrapping that machinery within the XPath semantics. I don’t see
the two as being incompatible.</li>
<li>… We could take DN’s functions and use those to infer which XPath functions
are processable with a generator.</li>
</ul></li>
<li>DN: I have two more observations.
<ul class="org-ul">
<li>… There’s no formal equivalent for the <code>fn:generate</code> function, but there are
for the original proposal.</li>
<li>… Saying you can’t use distinct values with an infinite sequence isn’t quite
right, you can ask for the first three distinct values, for example.</li>
<li>… I think the generator type is more expressive. The move-next function for
example is part of the state; it can specify a different move-next function
for the next generator.</li>
<li>… Users want to be in control.</li>
</ul></li>
<li>CG: I agree with LQ, I think both the <code>fn:generate</code> function and the generator
record could both be interesting for users. I noticed that <code>fn:generate</code> is
easy to implement if your implementation supports iterators. Our team found it
intuitive, but the generator record concept from before was much more
difficult to understand.
<ul class="org-ul">
<li>… Hakell has something called “unfold” that’s similar to the generator
function. I see many simple use cases where this function can be used, but
with more complex scenarios you might need generator records.</li>
<li>… We have concrete examples for the <code>fn:generate</code> function, but we still
don’t have concrete examples for the generator records.</li>
</ul></li>
<li>JLO: I like the simplicity of <code>fn:generate</code>. I like the control that a
generator record would give us. I fear we’ll end up in a swamp of deciding how
each function should behave.</li>

<li>NW: Let’s leave this for a week or two. We got some examples and use cases in
the last 24 hours or so. Let’s see if we can have some more discussion and
make progress.</li>

<li>DN: I provoded a few hundred tests, so I don’t think it’s more work. It’s all
there and already working. We have to think about users!</li>
</ul>
</div>
</div>
<div id="outline-container-h-1970AB40-7A13-4A8C-848A-12C820BA0501" class="outline-3">
<h3 id="h-1970AB40-7A13-4A8C-848A-12C820BA0501"><span class="section-number-3">2.2.</span> Issue #2351: Current Drafts: …</h3>
<div class="outline-text-3" id="text-h-1970AB40-7A13-4A8C-848A-12C820BA0501">
<p>
See issue <a href="https://github.com/qt4cg/qtspecs/issues/2351">#2351</a>.
</p>

<p>
Last week, we discussed creating a dated, checkpoint draft. CG suggests we
review this issue first. 
</p>

<ul class="org-ul">
<li>NW: Are we ready to cut a dated release?</li>
<li>CG: Are we going to cut some things? We should try to do that before the draft.
<ul class="org-ul">
<li>… The syntactic sugar for filtering maps and arrays</li>
<li>… Functions related to maps and arrays.</li>
</ul></li>
<li>MK: Working groups sometimes mark features as “at risk” because the WG expects
them to change. We could try that.</li>
<li>JWL: On the filtering, I thought the case for removing the syntactic sugar was
moderately strong. But it’s not a hill I’m going to die on.</li>
<li>JLO: I’d propose that we mark the things that are stable.</li>
<li>NW: I think that’s too hard.</li>
</ul>

<p>
Some discussion seems to lead to consensus for marking the syntactic sugar and
the array functions as “at risk”.
</p>

<ul class="org-ul">
<li>JWL: If you’re going to put at risk in, you’ll need to mention it right at the
top.</li>
</ul>

<p>
ACTION QT4CG-148-01: NW to draft a PR that marks #2351 items as “at risk” with appropriate definitions at the top of the document
</p>

<p>
Proposal: Take a dated draft at that point?
</p>

<p>
Accepted.
</p>

<p>
ACTION QT4CG-148-02: NW to publish a dated drafter after QT4CG-148-01 is complete.
</p>
</div>
</div>
<div id="outline-container-pr-2313" class="outline-3">
<h3 id="pr-2313"><span class="section-number-3">2.3.</span> PR #2313: 2298 XQFO rules: definition of default values</h3>
<div class="outline-text-3" id="text-pr-2313">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-2313">#2313</a>.
</p>

<ul class="org-ul">
<li>CG: I think it’s a good solution for the first case, I’m not sure about the second case.</li>
<li>RD: In the grammar we have things that we put in comments: whether it’s
whitespace signficant or not. Could we have a comment with a note that points
to the rule.
<ul class="org-ul">
<li>… Just make the comment “note” that points to the rule.</li>
</ul></li>
<li>JWL: It was the “=” I didn’t really like.</li>
</ul>

<p>
ACTION QT4CG-148-03: NW to revise his attempt at #2313 by using the text “node” and a link to the appropriate text
</p>
</div>
</div>
</div>
<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<p>
We’ve run out of time, we’ll get an update from JLO about teaching XSLT at
the AS Commiunications Congress next week.
</p>
</div>
</div>
</div>
</body>
</html>
