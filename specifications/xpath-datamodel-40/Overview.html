<!DOCTYPE HTML>
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>XQuery and XPath Data Model 4.0 </title>
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <link rel="stylesheet" type="text/css" href="css/w3c-base.css">
      <link rel="stylesheet" href="css/qtspecs.css">
      <link rel="stylesheet" href="css/xpath-datamodel-40.css">
      <link rel="TableOfContents" title="1  Introduction" href="#intro">
      <link rel="TableOfContents" title="2  Terminology and Notation" href="#terminology-and-notation">
      <link rel="TableOfContents" title="2.1  Terminology" href="#terminology">
      <link rel="TableOfContents" title="2.2  Notation" href="#notation">
      <link rel="TableOfContents" title="3  Concepts" href="#concepts">
      <link rel="TableOfContents" title="3.1  Basic Concepts" href="#basic-concepts">
      <link rel="TableOfContents" title="3.2  Sequences" href="#sequences">
      <link rel="TableOfContents" title="3.3  Labeled Items" href="#id-LabeledItems">
      <link rel="TableOfContents" title="4  Schemas and Types" href="#schemas-and-types">
      <link rel="TableOfContents" title="4.1  Schema Information" href="#types">
      <link rel="TableOfContents" title="4.2  Type System" href="#types-hierarchy">
      <link rel="TableOfContents" title="5  Atomic Items" href="#atomic-items">
      <link rel="TableOfContents" title="5.1  String Values" href="#StringValue">
      <link rel="TableOfContents" title="5.2  Negative Zero" href="#NegativeZero">
      <link rel="TableOfContents" title="5.3  Dates and Times" href="#dates-and-times">
      <link rel="TableOfContents" title="5.4  QNames and NOTATIONS" href="#qnames-and-notations">
      <link rel="TableOfContents" title="6  Documents and Nodes" href="#documents-and-nodes">
      <link rel="TableOfContents" title="6.1  Nodes" href="#nodes">
      <link rel="TableOfContents" title="6.2  Node Identity" href="#node-identity">
      <link rel="TableOfContents" title="6.3  Document Order" href="#document-order">
      <link rel="TableOfContents" title="6.4  Namespace Names" href="#namespace-names">
      <link rel="TableOfContents" title="6.5  Document Construction" href="#construction">
      <link rel="TableOfContents" title="6.6  Node Kinds" href="#node-kinds">
      <link rel="TableOfContents" title="6.7  Accessors" href="#accessors">
      <link rel="TableOfContents" title="7  Function Items, Maps, and Arrays" href="#functions-maps-arrays">
      <link rel="TableOfContents" title="7.1  Function Items" href="#function-items">
      <link rel="TableOfContents" title="7.2  Map Items" href="#map-items">
      <link rel="TableOfContents" title="7.3  Array Items" href="#array-items">
      <link rel="TableOfContents" title="8  Conformance" href="#conformance">
      <link rel="TableOfContents" title="A  XML Information Set Conformance" href="#infoset-conformance">
      <link rel="TableOfContents" title="B  References" href="#references">
      <link rel="TableOfContents" title="B.1  Normative References" href="#normative-references">
      <link rel="TableOfContents" title="B.2  Other References" href="#informative-references">
      <link rel="TableOfContents" title="C  Glossary" href="#glossary">
      <link rel="TableOfContents" title="D  Example" href="#example">
      <link rel="TableOfContents" title="E  Implementation-Defined and Implementation-Dependent Items" href="#impl-summary">
      <link rel="TableOfContents" title="E.1  Implementation-Defined Items" href="#implementation-defined">
      <link rel="TableOfContents" title="E.2  Implementation-Dependent Items" href="#implementation-dependent">
      <link rel="TableOfContents" title="F  Change Log" href="#ChangeLog">
      <link rel="TableOfContents" title="G  Accessor Summary" href="#id-accessor-summary">
      <link rel="TableOfContents" title="H  Infoset Construction Summary" href="#id-infoset-construction-summary">
      <link rel="TableOfContents" title="I  PSVI Construction Summary" href="#id-psvi-construction-summary">
      <link rel="TableOfContents" title="J  Infoset Mapping Summary" href="#id-infoset-mapping-summary">
   </head>
   <body>
      <div class="head">
         <p><a href="https://www.w3.org/"><img src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" alt="W3C" height="48" width="72"></a></p>
         
         <h1><a id="title"></a>XQuery and XPath Data Model 4.0 </h1>
         
         <h2><a id="w3c-doctype"></a>W3C Editor's Draft 24&nbsp;June&nbsp;2025</h2>
         <dl>
            <dt>This version:</dt>
            <dd>
               <a href="https://www.w3.org/TR/2000/REC-xpath-datamodel-40-20000101/">https://www.w3.org/TR/2000/REC-xpath-datamodel-40-20000101/</a>
               </dd>
            <dt>Latest version of XQuery and XPath Data Model 4.0:</dt>
            <dd>
               <a href="https://www.w3.org/TR/xpath-datamodel-40/">https://www.w3.org/TR/xpath-datamodel-40/</a>
               </dd>
            <dt>Previous versions of XQuery and XPath Data Model 4.0:</dt>
            <dd><a href="https://www.w3.org/TR/2017/PR-xpath-datamodel-31-20170117/">https://www.w3.org/TR/2017/PR-xpath-datamodel-31-20170117/</a><br><a href="https://www.w3.org/TR/2016/CR-xpath-datamodel-31-20161213/">https://www.w3.org/TR/2016/CR-xpath-datamodel-31-20161213/</a><br><a href="https://www.w3.org/TR/2014/CR-xpath-datamodel-31-20141218/">https://www.w3.org/TR/2014/CR-xpath-datamodel-31-20141218/</a></dd>
            <dt>Most recent version of XQuery and XPath Data Model 4:</dt>
            <dd>
               <a href="https://www.w3.org/TR/xpath-datamodel-4/">https://www.w3.org/TR/xpath-datamodel-4/</a>
               </dd>
            <dt>Most recent version of XQuery and XPath Data Model:</dt>
            <dd>
               <a href="https://www.w3.org/TR/xpath-datamodel/">https://www.w3.org/TR/xpath-datamodel/</a>
               </dd>
            <dt>Most recent Recommendation of XQuery and XPath Data Model:</dt>
            <dd>
               <a href="https://www.w3.org/TR/2014/REC-xpath-datamodel-30-20140408/">https://www.w3.org/TR/2014/REC-xpath-datamodel-30-20140408/</a>
               </dd>
            <dt>Editors:</dt>
            <dd>Norm Tovey-Walsh, Saxonica, Ltd <a href="mailto:norm@saxonica.com">&lt;norm@saxonica.com&gt;</a></dd>
            <dd><span><a href="http://john.snelson.org.uk">John Snelson</a> (XML Query WG)</span>, MarkLogic Corporation <a href="mailto:john.snelson@marklogic.com">&lt;john.snelson@marklogic.com&gt;</a></dd>
            <dd>Andrew Coleman (XML Query WG), IBM Hursley Laboratories <a href="mailto:andrew_coleman@uk.ibm.com">&lt;andrew_coleman@uk.ibm.com&gt;</a></dd>
         </dl>
         <p>Please check the <a href="https://www.w3.org/XML/2017/qt-errata/xpath-datamodel-31-errata.html"><strong>errata</strong></a> for any errors or issues reported since publication.</p>
         <p>See also <a href="https://www.w3.org/2003/03/Translations/byTechnology?technology=xpath-datamodel-31"><strong>translations</strong></a>.</p>
         <p>This document is also available in these non-normative formats: <a href="https://www.w3.org/TR/2000/REC-xpath-datamodel-40-20000101/xpath-datamodel-40.xml">XML</a>.</p>
         <p class="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>&nbsp;©&nbsp;2000&nbsp;<a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p>
         <hr>
      </div>
      <div>
         
         <h2><a id="abstract"></a>Abstract</h2>
         <p>This document defines the XQuery and XPath Data Model 4.0,
which is the data model of <a href="#xpath-40">[XML Path Language (XPath) 4.0]</a>,
<a href="#xslt-40">[XSL Transformations (XSLT) Version 4.0]</a>, and <a href="#xquery-40">[XQuery 4.0: An XML Query Language]</a>, and any other
specifications that reference it.
This document is the result of joint
work by the <a href="#XSLWG">[XSLT Working Group]</a> and the <a href="#XQWG">[XML Query Working Group]</a>.</p>
      </div>
      <div>
         
         <h2><a id="status"></a>Status of this Document</h2>
         <p><em>This section describes the status of this
         document at the time of its publication.
         Other documents may supersede this document.
         A list of current W3C publications and the latest
         revision of this technical report can be found in the
         <a href="https://www.w3.org/TR/">W3C technical reports index</a>
         at https://www.w3.org/TR/.</em></p>
         <p>This document is governed by the
         <a id="w3c_process_revision" href="https://www.w3.org/2017/Process-20170301/">1 March 2017 W3C Process Document</a>. </p>
         <p>This is a <a href="https://www.w3.org/2015/Process-20150901/#rec-publication">Recommendation</a> of the W3C. 
It was jointly developed by the W3C 
<a href="https://www.w3.org/XML/Query/">XML Query Working Group</a> and the W3C <a href="https://www.w3.org/Style/XSL/">XSLT Working Group</a>, each of which is part of the <a href="https://www.w3.org/XML/Activity">XML Activity</a>.</p>
         <p>This Editor's Draft specifies the XQuery and XPath Data Model (XDM)
                               version 4.0, a fully compatible extension of <a href="https://www.w3.org/TR/xpath-datamodel-30/">XDM version 3.1</a>. </p>
         <p>This specification is designed to be referenced normatively from
other specifications defining a host language for it; it is not
intended to be implemented outside a host language.  The
implementability of this specification has been tested in the context
of its normative inclusion in host languages defined by the
<a href="https://www.w3.org/TR/xquery-31/">XQuery 3.1</a>
and
<a href="https://www.w3.org/TR/xslt-30/">XSLT 3.0</a> specifications;
see the
<a href="https://dev.w3.org/2011/QT3-test-suite/ReportingResults31/report.html">XQuery 3.1 implementation report</a>
(and, in the future, the WGs expect that there will also be an
XSLT 3.0 implementation report) for details.</p>
         <p>No substantive changes have been made to this specification
since its publication as a Proposed Recommendation.</p>
         <p>Please report errors in this document using W3C's
         <a href="https://www.w3.org/Bugs/Public/">public Bugzilla system</a>
         (instructions can be found at
         <a href="https://www.w3.org/XML/2005/04/qt-bugzilla">https://www.w3.org/XML/2005/04/qt-bugzilla</a>).
         If access to that system is not feasible, you may send your comments
         to the W3C XSLT/XPath/XQuery public comments mailing list,
         <a href="mailto:public-qt-comments@w3.org">public-qt-comments@w3.org</a>.
         It will be very helpful if you include the string 
         “[XDM31]”
         in the subject line of your report, whether made in Bugzilla or in email.
         Please use multiple Bugzilla entries (or, if necessary, multiple email messages)
         if you have more than one comment to make.
         Archives of the comments and responses are available at
         <a href="https://lists.w3.org/Archives/Public/public-qt-comments/">https://lists.w3.org/Archives/Public/public-qt-comments/</a>. </p>
         <p>This document has been reviewed by W3C Members, by
software developers, and by other W3C groups and interested parties,
and is endorsed by the Director as a W3C Recommendation. 
It is a stable document and may be used as reference material or cited from
another document. 
W3C's role in making the Recommendation is to draw attention to
the specification and to promote its widespread deployment. 
This enhances the functionality and interoperability of
the Web.</p>
         <p>This document was produced by groups operating under the
   <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent Policy</a>.
   W3C maintains a <a href="https://www.w3.org/2004/01/pp-impl/18797/status#disclosures" rel="disclosure">public list of any 
   patent disclosures (W3C XML Query Working Group)</a> and a <a href="https://www.w3.org/2004/01/pp-impl/19552/status#disclosures" rel="disclosure">public list of any patent 
   disclosures (W3C XSLT Working Group)</a> made in connection with the deliverables of 
   each group; these pages also include instructions for disclosing a patent.
   An individual who has actual knowledge of a patent which the individual believes contains
   <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a>
   must disclose the information in accordance with
   <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the W3C Patent Policy</a>. </p>
         <div class="dedication" id="dedication">
            <h3>Dedication</h3>
            <p>The publications of this community group 
<a href="../xquery-40/xpath-40.html#dedication">are dedicated</a> to our co-chair,
Michael Sperberg-McQueen&nbsp;(1954–2024).</p>
         </div>
      </div>
      <nav id="toc">
         
         <h2><a id="contents"></a>Table of Contents<span class="expalltoc collapsed"> ▶</span></h2>
         <ol class="toc">
            <li>
               <details>
                  <summary><a href="#intro"><span class="secno">1 </span><span class="content toc-chg">Introduction</span></a></summary>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#terminology-and-notation"><span class="secno">2 </span><span class="content">Terminology and Notation</span></a><span class="exptoc collapsed"> ▶</span></summary>
                  <ol class="toc">
                     <li>
                        <details>
                           <summary><a href="#terminology"><span class="secno">2.1 </span><span class="content">Terminology</span></a></summary>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#notation"><span class="secno">2.2 </span><span class="content">Notation</span></a></summary>
                        </details>
                     </li>
                  </ol>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#concepts"><span class="secno">3 </span><span class="content">Concepts</span></a><span class="exptoc collapsed"> ▶</span></summary>
                  <ol class="toc">
                     <li>
                        <details>
                           <summary><a href="#basic-concepts"><span class="secno">3.1 </span><span class="content toc-chg">Basic Concepts</span></a></summary>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#sequences"><span class="secno">3.2 </span><span class="content">Sequences</span></a><span class="exptoc collapsed"> ▶</span></summary>
                           <ol class="toc">
                              <li>
                                 <details>
                                    <summary><a href="#dm-empty-sequence"><span class="secno">3.2.1 </span><span class="content">empty-sequence Constructor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-sequence-concat"><span class="secno">3.2.2 </span><span class="content">sequence-concat Constructor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-count"><span class="secno">3.2.3 </span><span class="content">count Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-iterate-sequence"><span class="secno">3.2.4 </span><span class="content">iterate-sequence Accessor</span></a></summary>
                                 </details>
                              </li>
                           </ol>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#id-LabeledItems"><span class="secno">3.3 </span><span class="content toc-chg">Labeled Items</span></a></summary>
                        </details>
                     </li>
                  </ol>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#schemas-and-types"><span class="secno">4 </span><span class="content">Schemas and Types</span></a><span class="exptoc collapsed"> ▶</span></summary>
                  <ol class="toc">
                     <li>
                        <details>
                           <summary><a href="#types"><span class="secno">4.1 </span><span class="content">Schema Information</span></a><span class="exptoc collapsed"> ▶</span></summary>
                           <ol class="toc">
                              <li>
                                 <details>
                                    <summary><a href="#xs-types"><span class="secno">4.1.1 </span><span class="content">Types adopted from XML Schema</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#schema-consistency"><span class="secno">4.1.2 </span><span class="content">Schema Consistency</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#types-representation"><span class="secno">4.1.3 </span><span class="content">Representation of Types</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#types-predefined"><span class="secno">4.1.4 </span><span class="content">Predefined Types</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#xml-and-xsd-versions"><span class="secno">4.1.5 </span><span class="content toc-chg">XML and XSD Versions</span></a></summary>
                                 </details>
                              </li>
                           </ol>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#types-hierarchy"><span class="secno">4.2 </span><span class="content">Type System</span></a></summary>
                        </details>
                     </li>
                  </ol>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#atomic-items"><span class="secno">5 </span><span class="content toc-chg">Atomic Items</span></a><span class="exptoc collapsed"> ▶</span></summary>
                  <ol class="toc">
                     <li>
                        <details>
                           <summary><a href="#StringValue"><span class="secno">5.1 </span><span class="content">String Values</span></a></summary>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#NegativeZero"><span class="secno">5.2 </span><span class="content">Negative Zero</span></a></summary>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#dates-and-times"><span class="secno">5.3 </span><span class="content">Dates and Times</span></a></summary>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#qnames-and-notations"><span class="secno">5.4 </span><span class="content">QNames and NOTATIONS</span></a></summary>
                        </details>
                     </li>
                  </ol>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#documents-and-nodes"><span class="secno">6 </span><span class="content">Documents and Nodes</span></a><span class="exptoc collapsed"> ▶</span></summary>
                  <ol class="toc">
                     <li>
                        <details>
                           <summary><a href="#nodes"><span class="secno">6.1 </span><span class="content">Nodes</span></a></summary>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#node-identity"><span class="secno">6.2 </span><span class="content">Node Identity</span></a></summary>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#document-order"><span class="secno">6.3 </span><span class="content">Document Order</span></a></summary>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#namespace-names"><span class="secno">6.4 </span><span class="content">Namespace Names</span></a></summary>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#construction"><span class="secno">6.5 </span><span class="content">Document Construction</span></a><span class="exptoc collapsed"> ▶</span></summary>
                           <ol class="toc">
                              <li>
                                 <details>
                                    <summary><a href="#const-other"><span class="secno">6.5.1 </span><span class="content">Direct Construction</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#const-infoset"><span class="secno">6.5.2 </span><span class="content">Construction from an Infoset</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#const-psvi"><span class="secno">6.5.3 </span><span class="content">Construction from a PSVI</span></a><span class="exptoc collapsed"> ▶</span></summary>
                                    <ol class="toc">
                                       <li>
                                          <details>
                                             <summary><a href="#PSVI2Types"><span class="secno">6.5.3.1 </span><span class="content">Mapping PSVI Additions to Node Properties</span></a><span class="exptoc collapsed"> ▶</span></summary>
                                             <ol class="toc">
                                                <li>
                                                   <details>
                                                      <summary><a href="#PSVI2NodeTypes"><span class="secno">6.5.3.1.1 </span><span class="content">Element and Attribute Node Types</span></a></summary>
                                                   </details>
                                                </li>
                                                <li>
                                                   <details>
                                                      <summary><a href="#TypedValueDetermination"><span class="secno">6.5.3.1.2 </span><span class="content">Typed Value Determination</span></a></summary>
                                                   </details>
                                                </li>
                                                <li>
                                                   <details>
                                                      <summary><a href="#typed-string-relationships"><span class="secno">6.5.3.1.3 </span><span class="content">Relationship Between Typed-Value and String-Value</span></a></summary>
                                                   </details>
                                                </li>
                                                <li>
                                                   <details>
                                                      <summary><a href="#pattern-facets"><span class="secno">6.5.3.1.4 </span><span class="content">Pattern Facets</span></a></summary>
                                                   </details>
                                                </li>
                                             </ol>
                                          </details>
                                       </li>
                                    </ol>
                                 </details>
                              </li>
                           </ol>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#node-kinds"><span class="secno">6.6 </span><span class="content">Node Kinds</span></a><span class="exptoc collapsed"> ▶</span></summary>
                           <ol class="toc">
                              <li>
                                 <details>
                                    <summary><a href="#DocumentNode"><span class="secno">6.6.1 </span><span class="content">Document nodes</span></a><span class="exptoc collapsed"> ▶</span></summary>
                                    <ol class="toc">
                                       <li>
                                          <details>
                                             <summary><a href="#DocumentNodeOverview"><span class="secno">6.6.1.1 </span><span class="content">Overview</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#DocumentNodeAccessors"><span class="secno">6.6.1.2 </span><span class="content">Accessors</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#const-infoset-document"><span class="secno">6.6.1.3 </span><span class="content">Construction from an Infoset</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#const-psvi-document"><span class="secno">6.6.1.4 </span><span class="content">Construction from a PSVI</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#infoset-mapping-document"><span class="secno">6.6.1.5 </span><span class="content">Infoset Mapping</span></a></summary>
                                          </details>
                                       </li>
                                    </ol>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#ElementNode"><span class="secno">6.6.2 </span><span class="content">Element nodes</span></a><span class="exptoc collapsed"> ▶</span></summary>
                                    <ol class="toc">
                                       <li>
                                          <details>
                                             <summary><a href="#ElementNodeOverview"><span class="secno">6.6.2.1 </span><span class="content">Overview</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#ElementNodeAccessors"><span class="secno">6.6.2.2 </span><span class="content">Accessors</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#const-infoset-element"><span class="secno">6.6.2.3 </span><span class="content">Construction from an Infoset</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#const-psvi-element"><span class="secno">6.6.2.4 </span><span class="content">Construction from a PSVI</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#infoset-mapping-element"><span class="secno">6.6.2.5 </span><span class="content">Infoset Mapping</span></a></summary>
                                          </details>
                                       </li>
                                    </ol>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#AttributeNode"><span class="secno">6.6.3 </span><span class="content">Attribute nodes</span></a><span class="exptoc collapsed"> ▶</span></summary>
                                    <ol class="toc">
                                       <li>
                                          <details>
                                             <summary><a href="#AttributeNodeOverview"><span class="secno">6.6.3.1 </span><span class="content">Overview</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#AttributeNodeAccessors"><span class="secno">6.6.3.2 </span><span class="content">Accessors</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#const-infoset-attribute"><span class="secno">6.6.3.3 </span><span class="content">Construction from an Infoset</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#const-psvi-attribute"><span class="secno">6.6.3.4 </span><span class="content">Construction from a PSVI</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#infoset-mapping-attribute"><span class="secno">6.6.3.5 </span><span class="content">Infoset Mapping</span></a></summary>
                                          </details>
                                       </li>
                                    </ol>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#NamespaceNode"><span class="secno">6.6.4 </span><span class="content">Namespace nodes</span></a><span class="exptoc collapsed"> ▶</span></summary>
                                    <ol class="toc">
                                       <li>
                                          <details>
                                             <summary><a href="#NamespaceNodeOverview"><span class="secno">6.6.4.1 </span><span class="content">Overview</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#NamespaceNodeAccessors"><span class="secno">6.6.4.2 </span><span class="content">Accessors</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#const-infoset-namespace"><span class="secno">6.6.4.3 </span><span class="content">Construction from an Infoset</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#const-psvi-namespace"><span class="secno">6.6.4.4 </span><span class="content">Construction from a PSVI</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#infoset-mapping-namespace"><span class="secno">6.6.4.5 </span><span class="content">Infoset Mapping</span></a></summary>
                                          </details>
                                       </li>
                                    </ol>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#ProcessingInstructionNode"><span class="secno">6.6.5 </span><span class="content">Processing instruction nodes</span></a><span class="exptoc collapsed"> ▶</span></summary>
                                    <ol class="toc">
                                       <li>
                                          <details>
                                             <summary><a href="#ProcessingInstructionNodeOverview"><span class="secno">6.6.5.1 </span><span class="content">Overview</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#ProcessingInstructionNodeAccessors"><span class="secno">6.6.5.2 </span><span class="content">Accessors</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#const-infoset-pi"><span class="secno">6.6.5.3 </span><span class="content">Construction from an Infoset</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#const-psvi-pi"><span class="secno">6.6.5.4 </span><span class="content">Construction from a PSVI</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#infoset-mapping-processing-instruction"><span class="secno">6.6.5.5 </span><span class="content">Infoset Mapping</span></a></summary>
                                          </details>
                                       </li>
                                    </ol>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#CommentNode"><span class="secno">6.6.6 </span><span class="content">Comment nodes</span></a><span class="exptoc collapsed"> ▶</span></summary>
                                    <ol class="toc">
                                       <li>
                                          <details>
                                             <summary><a href="#CommentNodeOverview"><span class="secno">6.6.6.1 </span><span class="content">Overview</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#CommentNodeAccessors"><span class="secno">6.6.6.2 </span><span class="content">Accessors</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#const-infoset-comment"><span class="secno">6.6.6.3 </span><span class="content">Construction from an Infoset</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#const-psvi-comment"><span class="secno">6.6.6.4 </span><span class="content">Construction from a PSVI</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#infoset-mapping-comment"><span class="secno">6.6.6.5 </span><span class="content">Infoset Mapping</span></a></summary>
                                          </details>
                                       </li>
                                    </ol>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#TextNode"><span class="secno">6.6.7 </span><span class="content">Text nodes</span></a><span class="exptoc collapsed"> ▶</span></summary>
                                    <ol class="toc">
                                       <li>
                                          <details>
                                             <summary><a href="#TextNodeOverview"><span class="secno">6.6.7.1 </span><span class="content">Overview</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#TextNodeAccessors"><span class="secno">6.6.7.2 </span><span class="content">Accessors</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#const-infoset-text"><span class="secno">6.6.7.3 </span><span class="content">Construction from an Infoset</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#const-psvi-text"><span class="secno">6.6.7.4 </span><span class="content">Construction from a PSVI</span></a></summary>
                                          </details>
                                       </li>
                                       <li>
                                          <details>
                                             <summary><a href="#infoset-mapping-text"><span class="secno">6.6.7.5 </span><span class="content">Infoset Mapping</span></a></summary>
                                          </details>
                                       </li>
                                    </ol>
                                 </details>
                              </li>
                           </ol>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#accessors"><span class="secno">6.7 </span><span class="content">Accessors</span></a><span class="exptoc collapsed"> ▶</span></summary>
                           <ol class="toc">
                              <li>
                                 <details>
                                    <summary><a href="#dm-attributes"><span class="secno">6.7.1 </span><span class="content">attributes Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-base-uri"><span class="secno">6.7.2 </span><span class="content">base-uri Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-children"><span class="secno">6.7.3 </span><span class="content">children Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-document-uri"><span class="secno">6.7.4 </span><span class="content">document-uri Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-is-id"><span class="secno">6.7.5 </span><span class="content">is-id Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-is-idrefs"><span class="secno">6.7.6 </span><span class="content">is-idrefs Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-namespace-nodes"><span class="secno">6.7.7 </span><span class="content">namespace-nodes Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-nilled"><span class="secno">6.7.8 </span><span class="content">nilled Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-node-kind"><span class="secno">6.7.9 </span><span class="content">node-kind Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-node-name"><span class="secno">6.7.10 </span><span class="content">node-name Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-parent"><span class="secno">6.7.11 </span><span class="content">parent Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-string-value"><span class="secno">6.7.12 </span><span class="content">string-value Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-type-name"><span class="secno">6.7.13 </span><span class="content">type-name Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-typed-value"><span class="secno">6.7.14 </span><span class="content">typed-value Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-unparsed-entity-public-id"><span class="secno">6.7.15 </span><span class="content">unparsed-entity-public-id Accessor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-unparsed-entity-system-id"><span class="secno">6.7.16 </span><span class="content">unparsed-entity-system-id Accessor</span></a></summary>
                                 </details>
                              </li>
                           </ol>
                        </details>
                     </li>
                  </ol>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#functions-maps-arrays"><span class="secno">7 </span><span class="content">Function Items, Maps, and Arrays</span></a><span class="exptoc collapsed"> ▶</span></summary>
                  <ol class="toc">
                     <li>
                        <details>
                           <summary><a href="#function-items"><span class="secno">7.1 </span><span class="content toc-chg">Function Items</span></a></summary>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#map-items"><span class="secno">7.2 </span><span class="content toc-chg">Map Items</span></a><span class="exptoc collapsed"> ▶</span></summary>
                           <ol class="toc">
                              <li>
                                 <details>
                                    <summary><a href="#dm-empty-map"><span class="secno">7.2.1 </span><span class="content">empty-map Constructor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-map-put"><span class="secno">7.2.2 </span><span class="content">map-put Constructor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-iterate-map"><span class="secno">7.2.3 </span><span class="content">iterate-map Accessor</span></a></summary>
                                 </details>
                              </li>
                           </ol>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#array-items"><span class="secno">7.3 </span><span class="content toc-chg">Array Items</span></a><span class="exptoc collapsed"> ▶</span></summary>
                           <ol class="toc">
                              <li>
                                 <details>
                                    <summary><a href="#dm-empty-array"><span class="secno">7.3.1 </span><span class="content">empty-array Constructor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-array-append"><span class="secno">7.3.2 </span><span class="content">array-append Constructor</span></a></summary>
                                 </details>
                              </li>
                              <li>
                                 <details>
                                    <summary><a href="#dm-iterate-array"><span class="secno">7.3.3 </span><span class="content">iterate-array Accessor</span></a></summary>
                                 </details>
                              </li>
                           </ol>
                        </details>
                     </li>
                  </ol>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#conformance"><span class="secno">8 </span><span class="content">Conformance</span></a></summary>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#infoset-conformance"><span class="secno">A </span><span class="content">XML Information Set Conformance</span></a></summary>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#references"><span class="secno">B </span><span class="content">References</span></a><span class="exptoc collapsed"> ▶</span></summary>
                  <ol class="toc">
                     <li>
                        <details>
                           <summary><a href="#normative-references"><span class="secno">B.1 </span><span class="content">Normative References</span></a></summary>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#informative-references"><span class="secno">B.2 </span><span class="content">Other References</span></a></summary>
                        </details>
                     </li>
                  </ol>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#glossary"><span class="secno">C </span><span class="content">Glossary</span></a></summary>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#example"><span class="secno">D </span><span class="content">Example</span></a></summary>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#impl-summary"><span class="secno">E </span><span class="content">Implementation-Defined and Implementation-Dependent Items</span></a><span class="exptoc collapsed"> ▶</span></summary>
                  <ol class="toc">
                     <li>
                        <details>
                           <summary><a href="#implementation-defined"><span class="secno">E.1 </span><span class="content">Implementation-Defined Items</span></a></summary>
                        </details>
                     </li>
                     <li>
                        <details>
                           <summary><a href="#implementation-dependent"><span class="secno">E.2 </span><span class="content">Implementation-Dependent Items</span></a></summary>
                        </details>
                     </li>
                  </ol>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#ChangeLog"><span class="secno">F </span><span class="content">Change Log</span></a></summary>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#id-accessor-summary"><span class="secno">G </span><span class="content">Accessor Summary</span></a></summary>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#id-infoset-construction-summary"><span class="secno">H </span><span class="content">Infoset Construction Summary</span></a></summary>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#id-psvi-construction-summary"><span class="secno">I </span><span class="content">PSVI Construction Summary</span></a></summary>
               </details>
            </li>
            <li>
               <details>
                  <summary><a href="#id-infoset-mapping-summary"><span class="secno">J </span><span class="content">Infoset Mapping Summary</span></a></summary>
               </details>
            </li>
         </ol>
      </nav>
      <hr>
      <div class="body">
         <div class="div1">
            
            <h2><a id="intro"></a>1 <a href="#intro" style="text-decoration: none">Introduction</a></h2>
            <div class="changes">
               <p class="changesHeading">Changes in 4.0&nbsp;<a href="#basic-concepts">⬇</a></p>
               <ol>
                  <li>
                     <p>Use the arrows to browse significant changes since the 3.1 version of this specification.</p>
                  </li>
                  <li>
                     <p>Sections with significant changes are marked Δ in the table of contents.</p>
                  </li>
               </ol>
            </div>
            <p>This document defines the XQuery and XPath Data Model 4.0,
which is the data model of <a href="#xpath-40">[XML Path Language (XPath) 4.0]</a>, <a href="#xslt-40">[XSL Transformations (XSLT) Version 4.0]</a>, and
<a href="#xquery-40">[XQuery 4.0: An XML Query Language]</a>. </p>
            <p>The XQuery and XPath Data Model 4.0 (henceforth “data model”)
serves two purposes.
First, it defines the information contained in the input to an
XSLT or XQuery processor.  Second, it defines all permissible values of
expressions in the XSLT, XQuery, and XPath languages.  A
language is <em>closed</em> with respect to a data model if the value
of every expression in the language is guaranteed to be in the data model.
XSLT 4.0, XQuery 4.0, and XPath 4.0 are all closed with respect to
the data model.</p>
            <p>The data model describes items similar to those of
the <a href="#xml-infoset">[Infoset]</a>
(henceforth “Infoset”).
 It is written to provide a data model suitable for XPath, XQuery and XSLT, which was not a goal of the Infoset,
 and this leads to a number of differences, some of which are:

</p>
            <ul>
               <li>
                  <p>Support for XML Schema types. The XML Schema recommendations
    define features, such as structures (<a href="#xmlschema-1">[Schema Part 1]</a>)
    and simple data types (<a href="#xmlschema-2">[Schema Part 2]</a>), that extend
    the Infoset with precise type information.</p>
               </li>
               <li>
                  <p>Representation of collections of documents and of
    complex values. </p>
               </li>
               <li>
                  <p>Support for typed atomic items.</p>
               </li>
               <li>
                  <p>Support for ordered, heterogeneous sequences.</p>
               </li>
               <li>
                  <p>Support for additional data types such as maps, arrays, and functions.</p>
               </li>
            </ul>
            <p>As with the Infoset, the XQuery and XPath Data Model 4.0
specifies what information in the documents is accessible but does
not specify the programming-language interfaces or bindings used to
represent or access the data.</p>
            <p>The data model can represent various
values, including not only the input and the output of a stylesheet or query but all
values of expressions used during the intermediate calculations.
Examples include the input document or document repository (represented
as a document node or a sequence of document nodes), the result of a
path expression (represented as a sequence of nodes), the result of an
arithmetic or a logical expression (represented as an <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a>),
a sequence expression resulting in a sequence of items, etc.
</p>
            <p>This document provides a precise definition of the properties of nodes
in the XQuery and XPath Data Model 4.0, how they are accessed, and how
they relate to values in the Infoset and PSVI.</p>
         </div>
         <div class="div1">
            
            <h2><a id="terminology-and-notation"></a>2 <a href="#terminology-and-notation" style="text-decoration: none">Terminology and Notation</a></h2>
            <p>This section introduces terminology and notational conventions that apply
    throughout the document.</p>
            <p>In this document, material labeled as as a <b>note</b> or <b>example</b> 
      is provided for explanatory purposes and are not normative.</p>
            <div class="div2">
               
               <h3><a id="terminology"></a>2.1 <a href="#terminology" style="text-decoration: none">Terminology</a></h3>
               <p>For a full glossary of terms, see <a href="#glossary"><b>C Glossary</b></a>.</p>
               <p>In this specification the phrases <span class="verb">must</span>, <span class="verb">must
                    not</span>, <span class="verb">should</span>, <span class="verb">should not</span>,
                    <span class="verb">may</span>, <span class="verb">required</span>, and
                    <span class="verb">recommended</span>, when used in normative
                    text and rendered in small capitals, are to be interpreted as described in
                    <a href="#RFC2119">[RFC 2119]</a>.</p>
               <p>[<a id="dt-implementation-defined" title="implementation       defined">Definition</a>: <b>Implementation-defined</b> indicates an aspect that
      may differ between implementations, but must be specified by the
      implementer for each particular implementation.]</p>
               <p>[<a id="dt-implementation-dependent" title="implementation       dependent">Definition</a>: <b>Implementation-dependent</b> indicates an aspect
      that may differ between implementations, is not specified by this or
      any W3C specification, and is not required to be specified by the
      implementer for any particular implementation.]</p>
               <p>In all cases where this specification leaves the behavior
      implementation-defined or implementation-dependent, the implementation
      has the option of providing mechanisms that allow the user to
      influence the behavior.</p>
               <p>This specification distinguishes between the data model as a general
  concept and specific items (documents, elements, <a title="atomic item" class="termref" href="#dt-atomic-item">atomic items</a>, etc.)
  that are concrete examples of the data model by identifying all concrete
  examples as <a title="instance of the data model" class="termref" href="#dt-instance">instances of the data model</a>.
  </p>
               <p>Sometimes it is necessary to distinguish the case where a
      particular property has no value in the data model. The canonical
      example of such a case is the namespace URI property of an
      <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a>
      that is not in any namespace. For such properties, it is
      convenient to be able to speak of “the state of having no value”.
      [<a id="dt-absent" title="absent">Definition</a>: When a property has no value, we
        say that it is <b>absent</b>.]
    </p>
               <p>Within this specification, the term URI refers to a
      Uniform Resource Identifier as defined in
      <a href="#RFC3986">[RFC 3986]</a> and extended in <a href="#RFC3987">[RFC 3987]</a>
      with the new name Internationalized Reference Identifier, IRI. The term URI has been retained in preference to
      IRI to avoid introducing new names for concepts such as “Base URI”
      that are defined or referenced across the whole family of XML
      specifications.</p>
            </div>
            <div class="div2">
               
               <h3><a id="notation"></a>2.2 <a href="#notation" style="text-decoration: none">Notation</a></h3>
               <p>To explain the data model, this specification uses both prose and a defined set of accessor
    functions. The accessors are shown with the
    prefix <em>dm:</em>. This prefix is always shown in italics to
    emphasize that these functions are abstract; they exist to explain the
    interface between the data model and specifications that rely on the
    data model: they are not accessible directly from the host
    language.</p>
               <p>Several prefixes are used throughout this document for notational
    convenience. The following bindings are assumed.</p>
               <ol class="enumar">
                  <li>
                     <p><code>xs:</code> bound to
    <code>http://www.w3.org/2001/XMLSchema</code>
    </p>
                  </li>
                  <li>
                     <p><code>xsi:</code> bound to
    <code>http://www.w3.org/2001/XMLSchema-instance</code>
    </p>
                  </li>
                  <li>
                     <p><code>fn:</code> bound to
    <code>http://www.w3.org/2005/xpath-functions</code>
    </p>
                  </li>
               </ol>
               <p>In practice, any prefix that is bound to the appropriate URI may be used.</p>
               <p>The signature of accessor functions is shown using the same style as
    <a href="#xpath-functions-40">[XQuery and XPath Functions and Operators 4.0]</a>, described in
    <a href="https://qt4cg.org/specifications/xpath-functions-40/#func-signatures">Section 1.5 Function signatures and descriptions</a><sup><small>FO</small></sup>.</p>
               <p>This document relies on the <a href="#xml-infoset">[Infoset]</a> and
    <a href="https://www.w3.org/TR/xmlschema-1/#key-psvi">Post-Schema-Validation
    Infoset</a> (PSVI). Information items
    and properties are indicated by the styles <b class="info-item">information
    item</b> and <b class="infoset-property">[infoset property]</b>, respectively.</p>
               <p>Some aspects of type assignment rely on the ability to access properties of
    the schema components. Such properties are indicated by curly brackets, e.g.,
    {component property}. Note that this does not mean a lightweight schema processor
    cannot be used, it only means that the application must have some mechanism to
    access the necessary properties.</p>
            </div>
         </div>
         <div class="div1">
            
            <h2><a id="concepts"></a>3 <a href="#concepts" style="text-decoration: none">Concepts</a></h2>
            <div class="div2">
               
               <h3><a id="basic-concepts"></a>3.1 <a href="#basic-concepts" style="text-decoration: none">Basic Concepts</a></h3>
               <div class="changes">
                  <p class="changesHeading">Changes in 4.0&nbsp;<a href="#id-LabeledItems">⬇</a>&nbsp;<a href="#intro">⬆</a></p>
                  <ol>
                     <li>
                        <p>
        Clarified the terminology concerning atomic types and type annotations.
      <i>&nbsp;&nbsp;[Issue <a href="https://github.com/qt4cg/qtspecs/issues/225">225</a>&nbsp;PR <a href="https://github.com/qt4cg/qtspecs/pull/232">232</a>&nbsp;5 November 2022]</i></p>
                     </li>
                     <li>
                        <p>
        The term <b>atomic value</b> has been replaced by <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a>.
      <i>&nbsp;&nbsp;[Issue <a href="https://github.com/qt4cg/qtspecs/issues/1337">1337</a>&nbsp;PR <a href="https://github.com/qt4cg/qtspecs/pull/1361">1361</a>&nbsp;2 August 2024]</i></p>
                     </li>
                  </ol>
               </div>
               <p>[<a id="dt-instance" title="instance of the data model">Definition</a>: Every
<b>instance of the data model</b> is a
<a title="sequence" class="termref" href="#dt-sequence">sequence</a>.]
</p>
               <p>[<a id="dt-sequence" title="sequence">Definition</a>: A <b>sequence</b>
is an ordered collection of zero or more <a title="item" class="termref" href="#dt-item">items</a>.] A sequence cannot be a member
of a sequence. A single item appearing on its own is modeled as a
sequence containing one item. Sequences are defined in <a href="#sequences"><b>3.2 Sequences</b></a>.</p>
               <p>[<a id="dt-value" title="value">Definition</a>: Because every value is a sequence, the term
    <b>value</b> is used synonymously with <a title="sequence" class="termref" href="#dt-sequence">sequence</a>.]</p>
               <p>[<a id="dt-item" title="item">Definition</a>: An <b>item</b>
is either
a <a title="node" class="termref" href="#dt-node">node</a>,
a <a title="function item" class="termref" href="#dt-function-item">function</a>,
or an <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a>.]
</p>
               <p>[<a id="dt-item-type" title="item type">Definition</a>: An <b>item type</b> represents
a class of <a title="item" class="termref" href="#dt-item">items</a>.] An item is said to
<em>be an instance of</em> an item type (or to <em>match</em> the item type) if it is a member
of that class. Items generally belong to more than one item type, and the
membership of different item types is overlapping.</p>
            </div>
            <div class="div2">
               
               <h3><a id="sequences"></a>3.2 <a href="#sequences" style="text-decoration: none">Sequences</a></h3>
               <p>An important characteristic of the data model is that there is no
distinction between an <a title="item" class="termref" href="#dt-item">item</a> (a node, function, or <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a>) and a
singleton <a title="sequence" class="termref" href="#dt-sequence">sequence</a> containing that item. An item is
equivalent to a singleton sequence containing that item and vice
versa.</p>
               <p>A sequence may contain any mixture of nodes, functions, and 
  <a title="atomic item" class="termref" href="#dt-atomic-item">atomic items</a>. When a node is added to a sequence its
identity remains the same. Consequently a node may occur in more than
one sequence and a sequence may contain duplicate items.</p>
               <p>Sequences never contain other sequences; if sequences are combined,
the result is always a “flattened” sequence. In other words, appending
“(d e)” to “(a b c)” produces a sequence of length 5: “(a b c d e)”.
It <em>does not</em> produce a sequence of length 4: “(a b c (d e))”;
such a nested sequence never occurs.</p>
               <div class="note">
                  <p class="prefix"><b>Note:</b></p>
                  <p>Sequences replace node-sets from XPath 1.0. In XPath 1.0, node-sets
do not contain duplicates. In generalizing node-sets to sequences,
duplicate removal is provided by functions on node sequences.</p>
               </div>
               <div class="note">
                  <p class="prefix"><b>Note:</b></p>
                  <p>Arrays and maps are function items and
therefore can also be contained within sequences.</p>
               </div>
               <p>The following constructor and accessor functions are defined for sequences;
  these provide a formal underpinning for user-visible functions, operators,
  and language constructs.</p>
               <div class="div3">
                  
                  <h4><a id="dm-empty-sequence"></a>3.2.1 <a href="#dm-empty-sequence" style="text-decoration: none"><code>empty-sequence</code> Constructor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>empty-sequence</code>()<code class="as">&nbsp;as&nbsp;</code><code class="return-type">item()*</code></div>
                  </div>
                  <p>The <code>dm:empty-sequence</code> constructor returns a sequence containing no items.</p>
                  <p>The function is exposed in XPath as an empty sequence expression, written <code>()</code>.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-sequence-concat"></a>3.2.2 <a href="#dm-sequence-concat" style="text-decoration: none"><code>sequence-concat</code> Constructor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>sequence-concat</code>(<code class="arg">$input1</code><code class="as">&nbsp;as&nbsp;</code><code class="type">item()*</code>, <code class="arg">$input2</code><code class="as">&nbsp;as&nbsp;</code><code class="type">item()*</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">item()*</code></div>
                  </div>
                  <p>The <code>dm:sequence-concat</code> constructor returns a sequence by concatenating two supplied sequences.</p>
                  <p>The returned sequence contains the items in <code>$input1</code> (retaining order), followed by the items in
      <code>$input2</code> (also retaining order).</p>
                  <p>The function is exposed in XPath through the comma operator <code>,</code>.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-count"></a>3.2.3 <a href="#dm-count" style="text-decoration: none"><code>count</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>count</code>(<code class="arg">$input</code><code class="as">&nbsp;as&nbsp;</code><code class="type">item()*</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">xs:integer</code></div>
                  </div>
                  <p>The <code>dm:count</code> accessor function returns the number of items in <code>$input</code>.</p>
                  <p>The function is exposed in XPath through the <code>fn:count</code> function.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-iterate-sequence"></a>3.2.4 <a href="#dm-iterate-sequence" style="text-decoration: none"><code>iterate-sequence</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto">
                        <table>
                           <tr>
                              <td rowspan="2"><code class="function"><span class="prefix">dm:</span>iterate-sequence</code>(</td>
                              <td><code class="arg">$input</code></td>
                              <td><code class="as">&nbsp;as&nbsp;</code><code class="type">item()*</code>,</td>
                           </tr>
                           <tr>
                              <td><code class="arg">$action</code></td>
                              <td><code class="as">&nbsp;as&nbsp;</code><code class="type">function(item(), xs:integer) as item()*</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">item()*</code></td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>The <code>dm:iterate-sequence</code> accessor calls the supplied <code>$action</code>
      function once for each item in <code>$input</code>, in order,
      and returns the sequence concatenation of the results. The <code>$action</code> function
      is called with two arguments. The first argument is an item in <code>$input</code>,
      and the second is the 1-based ordinal position of the item within <code>$input</code>.</p>
                  <p>The function is exposed in XPath most directly through the function <code>for-each</code>,
        as well as <code>for</code> expressions in XPath, <code>for</code> clauses in FLWOR expressions
        in XQuery, and the <code>xsl:for-each</code> instruction in XSLT.
        It also underpins all other functions that manipulate sequences, such as <code>fn:count</code>
       and <code>fn:filter</code>.</p>
               </div>
            </div>
            <div class="div2">
               
               <h3><a id="id-LabeledItems"></a>3.3 <a href="#id-LabeledItems" style="text-decoration: none">Labeled Items</a></h3>
               <div class="changes">
                  <p class="changesHeading">Changes in 4.0&nbsp;<a href="#xml-and-xsd-versions">⬇</a>&nbsp;<a href="#basic-concepts">⬆</a></p>
                  <ol>
                     <li>
                        <p>
        Introduced the concept of labeled items.
      <i>&nbsp;&nbsp;[Issue <a href="https://github.com/qt4cg/qtspecs/issues/960">960</a>&nbsp;PR <a href="https://github.com/qt4cg/qtspecs/pull/988">988</a>&nbsp;27 February 2024]</i></p>
                     </li>
                  </ol>
               </div>
               <p>[<a id="dt-labeled-item" title="labeled item">Definition</a>: A <b>labeled item</b>
    is a pair (<var>S</var>, <var>L</var>) where <var>S</var> (called the subject)
    is any item, and <var>L</var> (called the label) is a map containing supplementary
    information about the item.].</p>
               <p>The keys in the map are always instances of <code>xs:string</code>, and the associated values
    can be arbitrary values.</p>
               <p>There are currently no constructs in the language that would cause either 
      the subject or the label of a labeled item to
      itself be a labeled item. Nor is there anything that would cause the 
      label to contain a labeled item.</p>
               <p>Operations on labeled items fall into three categories:</p>
               <ul>
                  <li>
                     <p>Operations that select items which are present in their input return the
      labeled item unchanged (including its label). 
      Examples are filter expressions, axis expressions, lookup
      expressions, and functions such as <span class="function">fn:head</span>, <code>fn:tail</code>,
      and <code>fn:subsequence</code>.</p>
                  </li>
                  <li>
                     <p>Operations that construct new values from their input treat the labeled
      item exactly as if the operation were applied directly to the subject. That is,
      the label is ignored. Examples are arithmetic and comparison operators, operators
      such as <code>is</code> and <code>instance of</code>, cast expressions, atomization,
      and functions such as 
      <code>fn:avg</code> or <code>fn:index-of</code>.</p>
                  </li>
                  <li>
                     <p>The <code>fn:label</code> function is a special case: it returns the
      label of a labeled item, as a map. If applied to an item that is not labeled, it 
      returns an empty map.</p>
                  </li>
               </ul>
               <div class="note">
                  <p class="prefix"><b>Note:</b></p>
                  <p>Two items representing the same node (such that <code>$n1 is $n2</code> returns
    true) may nevertheless have different labels. It is perhaps helpful to think of such items
    not as nodes, but as references to nodes, which are automatically dereferenced by the majority
    of operations.</p>
               </div>
               <div class="note">
                  <p class="prefix"><b>Note:</b></p>
                  <p>A labeled item matches a type if its subject matches the type; labels are thus extraneous
    to the type system.</p>
               </div>
               <p>Labeled items are returned by certain operations, such as the lookup operators <code>?</code> 
      and <code>??</code>. As a result, the lookup operation can be treated at one level as if it
    returned a simple value (an entry found in a map or array), but applications that need extra
    information about the value can find this by examining the label: for example, they can identify
    the associated key value.</p>
               <p>The function <code>fn:pin</code> takes a map or array <var>J</var> as its argument, and returns
    a labeled map or array with <var>J</var> as its subject (or the subject of <var>J</var>, if <var>J</var>
    is itself a labeled item), and with a map <var>M</var> as its label, where <var>M</var> contains
    a single entry having the key <code>"pinned"</code> (as an <code>xs:string</code>) and an associated
    <code>xs:boolean</code> value <code>true</code>. An item <code>$item</code> 
      satisfying <code>$item[label(.)?pinned]</code> is referred to as a <b>pinned</b> item.</p>
            </div>
         </div>
         <div class="div1">
            
            <h2><a id="schemas-and-types"></a>4 <a href="#schemas-and-types" style="text-decoration: none">Schemas and Types</a></h2>
            <div class="div2">
               
               <h3><a id="types"></a>4.1 <a href="#types" style="text-decoration: none">Schema Information</a></h3>
               <p>The data model supports strongly typed languages such as
<a href="#xpath-40">[XML Path Language (XPath) 4.0]</a> and <a href="#xquery-40">[XQuery 4.0: An XML Query Language]</a>
that have a type system based on <a href="#xmlschema-1">[Schema Part 1]</a>. To achieve this,
the data model includes (by reference) the Schema Component Model described in
<a href="#xmlschema-1">[Schema Part 1]</a>.
</p>
               <div class="note">
                  <p class="prefix"><b>Note:</b></p>
                  <p>The Schema Component Model includes a number of kinds of
component, such as type definitions and element and attribute
declarations, and defines the properties and relationships of these
components. Many of these components and properties are not used by the
language specifications that rely on XDM, and where this is the case,
there is no requirement for implementations to make them visible.
However, this specification makes no attempt to define the minimal
subset of the schema component model that is needed to support the
semantics of XPath and XQuery processing.</p>
                  <p>There are two main areas where the language semantics depend on
information in schema components:</p>
                  <ol class="enumar">
                     <li>
                        <p>Expressions are evaluated with respect to a static context, which
includes schema components, specifically type definitions, element
declarations, and attribute declarations. The names of such components
may be used in language constructs only if the components are present in
the static context.</p>
                     </li>
                     <li>
                        <p>Values including element and attribute nodes, and <a title="atomic item" class="termref" href="#dt-atomic-item">atomic items</a>,
have a property called a type annotation whose value is a type: this is
a reference to a type definition in the Schema Component Model.
</p>
                     </li>
                  </ol>
               </div>
               <p>The diagram below illustrates the 
    <span><a title="schema type" class="termref" href="#dt-schema-type">schema type</a></span>
    system, in which all types are derived from 
    <code>xs:anyType</code>. </p>
               <div class="type-hierarchy-figure">
                  <div class="hier">
                     <ul class="type-hierarchy type-colors">
                        <li class="abstract root">
                           <p class="root">
            <span>XML Schema types</span>
            <span class="kind"> (abstract)</span>
         </p>
                           <ul>
                              <li class="built-in-complex">
                                 <p class="first">
                  <span>anyType</span>
                  <span class="kind"> (built-in complex)</span>
               </p>
                                 <ul>
                                    <li class="abstract">
                                       <p class="first">
                        <span>Simple types</span>
                        <span class="kind"> (abstract)</span>
                     </p>
                                       <ul>
                                          <li class="built-in-list">
                                             <p class="first">
                              <span>anySimpleType</span>
                              <span class="kind"> (built-inlist)</span>
                           </p>
                                             <ul>
                                                <li class="abstract">
                                                   <p class="first">
                                    <span>Atomic types</span>
                                    <span class="kind"> (abstract)</span>
                                 </p>
                                                   <ul>
                                                      <li class="built-in-atomic">
                                                         <p class="first">
                                          <span><a href="#th_anyAtomicType">anyAtomicType</a></span>
                                          <span class="kind"> (built-in atomic)</span>
                                       </p>
                                                      </li>
                                                   </ul>
                                                </li>
                                                <li class="abstract">
                                                   <p class="item">
                                    <span>list types</span>
                                    <span class="kind"> (abstract)</span>
                                 </p>
                                                   <ul>
                                                      <li class="built-in-list">
                                                         <p class="item">
                                          <span>ENTITIES</span>
                                          <span class="kind"> (built-in list)</span>
                                       </p>
                                                      </li>
                                                      <li class="built-in-list">
                                                         <p class="first">
                                          <span>IDREFS</span>
                                          <span class="kind"> (built-in list)</span>
                                       </p>
                                                      </li>
                                                      <li class="built-in-list">
                                                         <p class="item">
                                          <span>NMTOKENS</span>
                                          <span class="kind"> (built-in list)</span>
                                       </p>
                                                      </li>
                                                      <li class="user-defined">
                                                         <p class="last">
                                          <span>user-defined list types</span>
                                          <span class="kind"> (user-defined)</span>
                                       </p>
                                                      </li>
                                                   </ul>
                                                </li>
                                                <li class="abstract">
                                                   <p class="last">
                                    <span>union types</span>
                                    <span class="kind"> (abstract)</span>
                                 </p>
                                                   <ul>
                                                      <li class="built-in-complex">
                                                         <p class="first">
                                          <span>numeric</span>
                                          <span class="kind"> (built-in complex)</span>
                                       </p>
                                                      </li>
                                                      <li class="user-defined">
                                                         <p class="item">
                                          <span>user-defined union types</span>
                                          <span class="kind"> (user-defined)</span>
                                       </p>
                                                      </li>
                                                      <li class="user-defined">
                                                         <p class="last">
                                          <span>user-defined enumeration types</span>
                                          <span class="kind"> (user-defined)</span>
                                       </p>
                                                      </li>
                                                   </ul>
                                                </li>
                                             </ul>
                                          </li>
                                          <li class="abstract">
                                             <p class="last">
                              <span>complex types</span>
                              <span class="kind"> (complex)</span>
                           </p>
                                             <ul>
                                                <li class="built-in-complex">
                                                   <p class="first">
                                    <span>untyped</span>
                                    <span class="kind"> (built-in complex)</span>
                                 </p>
                                                </li>
                                                <li class="user-defined">
                                                   <p class="last">
                                    <span>user-defined complex types</span>
                                    <span class="kind"> (user-defined)</span>
                                 </p>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <div class="legend">
                     <p>Legend:</p>
                     <ul class="type-hierarchy type-colors">
                        <li>
                           <p class="root"><span>Supertype</span></p>
                           <ul>
                              <li>
                                 <p><span>subtype</span></p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <ul class="type-legend type-colors">
                        <li class="abstract">
                           <p>
         <span>Abstract types</span>
         <span class="kind"> (abstract)</span>
      </p>
                        </li>
                        <li class="built-in-atomic">
                           <p>
         <span>Built-in atomic types</span>
         <span class="kind"> (built-in atomic)</span>
      </p>
                        </li>
                        <li class="built-in-complex">
                           <p>
         <span>Built-in complex types</span>
         <span class="kind"> (built-in complex)</span>
      </p>
                        </li>
                        <li class="built-in-list">
                           <p>
         <span>Built-in list types</span>
         <span class="kind"> (built-in list)</span>
      </p>
                        </li>
                        <li class="user-defined">
                           <p>
         <span>User-defined types</span>
         <span class="kind"> (user-defined)</span>
      </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="div3">
                  
                  <h4><a id="xs-types"></a>4.1.1 <a href="#xs-types" style="text-decoration: none">Types adopted from XML Schema</a></h4>
                  <p>[<a id="dt-schema-type" title="schema type">Definition</a>: A
  <b>schema type</b> corresponds to a <b>type definition component</b>
  as defined in XSD.] Schema types are either complex types or simple types;
  simple types are either atomic types, list types, or union types.</p>
                  <p>The data model adopts the following <span>schema</span> types:</p>
                  <ul>
                     <li>
                        <p>The 19 <span>primitive atomic</span> types defined in
<a href="https://www.w3.org/TR/xmlschema-2/#built-in-primitive-datatypes">Section 
3.2 Primitive datatypes</a><sup><small>XS2</small></sup>
of <a href="#xmlschema-2">[Schema Part 2]</a>.</p>
                     </li>
                     <li>
                        <p>Three built-in list types:
<code>xs:NMTOKENS</code>, <code>xs:IDREFS</code>, and <code>xs:ENTITIES</code>.
</p>
                     </li>
                     <li>
                        <p>The following types, which were originally defined in
<a href="#xpath-datamodel">[XQuery 1.0 and XPath 2.0 Data Model (XDM)]</a> and were subsequently adopted by
<a href="#xmlschema11-2">[Schema 1.1 Part 2]</a>:
<code>xs:anyAtomicType</code>, <code>xs:dayTimeDuration</code>,
<code>xs:yearMonthDuration</code>.
</p>
                     </li>
                     <li>
                        <p>In the case of a processor that supports
<a href="#xmlschema11-2">[Schema 1.1 Part 2]</a>, 
the new union type <code>xs:error</code> (a type with no instances)
and the new derived type <code>xs:dateTimeStamp</code>.</p>
                     </li>
                     <li>
                        <p>The following types, which use the <code>xs:</code> namespace
and are defined here in the data model but not in XML Schema:
<code>xs:untypedAtomic</code>, and
<code>xs:numeric</code>,
a union type whose members are <code>xs:double</code>, <code>xs:float</code>
and <code>xs:decimal</code>.
</p>
                     </li>
                  </ul>
                  <p>Schema types fulfill a role different from <a title="item type" class="termref" href="#dt-item-type">item types</a>.
  Schema types other than atomic types arise in the data model only as <a title="type annotation" class="termref" href="#dt-type-annotation">type annotations</a>
  on element and attribute nodes. Nodes are not instances of schema types in the sense of the XPath <code>instance of</code>
  operator; but an element or attribute node may be an instance of the item type <code>element(*, S)</code> or <code>attribute(*, S)</code>
  where <code>S</code> is a schema type. The node matches this item type if its type annotation is <code>S</code>, or a type derived from 
    <code>S</code>, which will be the case if the node has been validated against type <code>S</code> in the course of 
  schema validation.</p>
                  <p>Schema types and item types form overlapping categories:</p>
                  <ul>
                     <li>
                        <p>Atomic types belong to both categories.</p>
                     </li>
                     <li>
                        <p>Node types and function types are item types, but they are not schema types.</p>
                     </li>
                     <li>
                        <p>Complex types, list types, and union types are schema types, but they are not item types.</p>
                     </li>
                  </ul>
               </div>
               <div class="div3">
                  
                  <h4><a id="schema-consistency"></a>4.1.2 <a href="#schema-consistency" style="text-decoration: none">Schema Consistency</a></h4>
                  <p>[<a id="dt-schema" title="schema">Definition</a>: Following the terminology of <a href="#xmlschema-1">[Schema Part 1]</a>,
  a <b>schema</b> is defined as set of schema components. Schema components include,
  for example, element declarations and type definitions.]</p>
                  <div class="note">
                     <p class="prefix"><b>Note:</b></p>
                     <p>This contrasts with a <b>schema document</b>, which is an XML document
  containing an <code>xs:schema</code> element and other XML elements such as 
  <code>xs:element</code> and <code>xs:complexType</code>. In popular usage, the term
    <b>schema</b> is often used inaccurately to refer to a <b>schema document</b>.
  A schema generally consists of the result of processing a set of schema documents linked
  using <code>xs:include</code> and <code>xs:import</code> declarations; it may also
  include built-in schema components that are known intrinsically to a processor, or
  schema components that are constructed programmatically.</p>
                  </div>
                  <p>It is possible for an application to use more than one schema. For example, a transformation
  may accept as input a source document validated against a schema <var>X</var>, and produce as output a result
  document validated against a different schema <var>Y</var>; the stylesheet or query might import a schema that is the
    union of <var>X</var> and <var>Y</var>. Different modules of a query, or different packages
  within a stylesheet, may import different schemas. When this happens, there is a requirement
  that the different schemas must be <a title="compatible (of schemas)" class="termref" href="#dt-schema-compatible">compatible</a> with each other. This requirement is expanded
  in the following paragraphs.</p>
                  <p>[<a id="dt-schema-compatible" title="compatible (of schemas)">Definition</a>: Two 
    <a title="schema" class="termref" href="#dt-schema">schemas</a> 
    <var>X</var> and <var>Y</var> are 
    <b>compatible</b> if the union of 
    <var>X</var> and <var>Y</var> is a valid <a title="schema" class="termref" href="#dt-schema">schema</a>.] This essentially
      means that there must be no schema components in <var>X</var> and <var>Y</var> that have
    the same name but different definitions.</p>
                  <p>An implication of this rule is that when one schema document uses <code>xs:redefines</code>
    or <code>xs:override</code> to modify the definitions found in another schema document, the
    resulting schemas will generally be incompatible.</p>
                  <p>The rule means that when a type <var>T</var> appears in both <var>X</var> and <var>Y</var>,
  the properties of the schema component corresponding to <var>T</var>, and the properties of all 
    the schema components that it refers to, transitively, will be the same.</p>
                  <p>This will always be true (in the absence of <code>xs:redefines</code> and <code>xs:override</code>)
    if both schemas derive their definition of <var>T</var> from the same
    schema document. It may also be true if the definitions of <var>T</var> derive from different
  schema documents, but in this case processors <span class="verb">may</span> treat the definitions as incompatible
  without further analysis.</p>
                  <p>It will <em>not</em> always be the case that validating an element node <var>N</var> against type 
    <var>T</var> using schema <var>X</var> has the same outcome as validating the same
    element node <var>N</var> against type <var>T</var> using schema <var>Y</var>. Cases where the outcome
  may be different include the following:</p>
                  <ul>
                     <li>
                        <p>The content model of <var>T</var> includes an element particle <var>E</var>
    whose corresponding element declaration has different substitution group members
    in <var>X</var> and <var>Y</var>.</p>
                     </li>
                     <li>
                        <p>Schema <var>X</var> includes a type <var>U</var> that extends <var>T</var>, and 
      <var>U</var> is not present in <var>Y</var>; element <var>N</var> has the
      attribute <code>xsi:type="U"</code>, which references this extended type definition.</p>
                     </li>
                     <li>
                        <p>The content model of <var>T</var> includes a wildcard particle 
      that specifies <code>processContents="lax"</code> or <code>processContents="strict"</code>; 
      element <var>N</var> has a child <var>C</var> that is matched against this wildcard; a declaration
      for <var>C</var> is present in <var>X</var> but not in <var>Y</var>.
    </p>
                     </li>
                     <li>
                        <p>The content model of <var>T</var> (in XSD 1.1) includes a wildcard particle 
      that specifies <code>notQName="##defined</code>; 
      element <var>N</var> has a child <var>C</var> that is matched against this wildcard; a declaration
      for <var>C</var> is present in <var>X</var> but not in <var>Y</var>.
    </p>
                     </li>
                  </ul>
                  <p>It is essential that nodes validated against one schema can be passed to a stylesheet or query
  that is using a different but compatible schema. This is necessary, for example, to ensure that
  the validated output of one stylesheet can form the validated input of another. 
  The definitions for schema-based 
    <a title="item type" class="termref" href="#dt-item-type">item types</a> such as <code>element(*, T)</code>
    and <code>schema-element(E)</code> therefore allow for the possibility that the node being
  tested against the item type was validated using a different but compatible schema, and by
  implication, that revalidation using the local schema might not succeed.</p>
                  <div class="note">
                     <p class="prefix"><b>Note:</b></p>
                     <p>It is potentially useful to prevent differences arising between different schemas
  that share schema components by:</p>
                     <ul>
                        <li>
                           <p>Disallowing extensions to element declarations and types by using attributes such as
      <code>blockDefault="#all"</code></p>
                        </li>
                        <li>
                           <p>Avoiding use of wildcards whose effect depends on the presence of unrelated
      schema components, for example <code>processContents="lax"</code>
      and <code>processContents="strict"</code>.</p>
                        </li>
                     </ul>
                  </div>
                  <div class="note">
                     <p class="prefix"><b>Note:</b></p>
                     <p>This makes it the responsibility of the processor to ensure that
the schema components used in the static context of a query or
expression during static analysis are compatible with the schema
components used to validate documents during query or expression
evaluation. This specification does not say how this should be achieved.
</p>
                  </div>
                  <p>It is also a constraint that the schema information available to the processor must
contain at least the components and properties needed to correctly
implement the semantics of the XPath and XQuery language. For example,
this means that given <span>an element node</span> with a particular type annotation <var>T</var>, and a
  function that expects an argument of type <span><code>element(*, S)</code></span>, there must be sufficient
information available to the processor to establish whether or not <var>T</var> is
derived from <var>S</var>. As with other consistency constraints described in this
data model, it is a precondition that these constraints are satisfied;
the specifications do not speculate on what happens if they are not.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="types-representation"></a>4.1.3 <a href="#types-representation" style="text-decoration: none">Representation of Types</a></h4>
                  <p>The data model uses
<a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QNames</a> to
represent the names of schema types, which include the built-in
types defined by <a href="#xmlschema-2">[Schema Part 2]</a> and the five additional types
defined by this specification, and may include other user- or
implementation-defined types.</p>
                  <p>For XML Schema types, the namespace name of the expanded QName is
the {target namespace} property of the type definition, and its local
name is the {name} property of the type definition.</p>
                  <p>The data model relies on the fact that an expanded QName uniquely
identifies every named type. Although it is possible for different
schemas to define different types with the same expanded QName, at
most one of them can be used in any given validation episode. The data model
cannot support environments where different types with the same expanded QName
are available.
</p>
                  <p>The scope over which the names of anonymous types must be
meaningful and distinct depends on the processing context.
It is the responsibility of the host language to define the
size and scope of the processing context.</p>
                  <div class="note">
                     <p class="prefix"><b>Note:</b></p>
                     <p>The type annotation of a schema-validated node,
  or of an <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a> extracted by atomizing a schema-validated node,
  may be an anonymous type. Queries and expressions cannot refer explicitly
  to anonymous types, but it is always possible to test whether such an item
  matches a named type from which the anonymous type is derived.</p>
                  </div>
               </div>
               <div class="div3">
                  
                  <h4><a id="types-predefined"></a>4.1.4 <a href="#types-predefined" style="text-decoration: none">Predefined Types</a></h4>
                  <p>The three atomic types <code>xs:anyAtomicType</code>,
    <code>xs:dayTimeDuration</code>, and
    <code>xs:yearMonthDuration</code> were first introduced in the 2.0 version of this specification,
  and were subsequently adopted by XSD 1.1. These types are always present in the XDM data model,
  with the definitions as given in XSD 1.1, whether or not the processor actually supports XSD 1.1.</p>
                  <div class="note">
                     <p class="prefix"><b>Note:</b></p>
                     <p>The types <code>xs:dayTimeDuration</code>, and
      <code>xs:yearMonthDuration</code> have a special status in these specifications because many
    arithmetic operations (such as comparing two durations) are available in XPath only on these
    subtypes of <code>xs:duration</code>, not on the primitive type <code>xs:duration</code> itself.</p>
                     <p>The datatype <code>xs:anyAtomicType</code> is an atomic type that
      includes all atomic items (and no values that are not atomic). Its
      base type is <code>xs:anySimpleType</code>, from which all simple
      types, including atomic, list, and union types are derived. All
      primitive atomic types, such as <code>xs:decimal</code> and
      <code>xs:string</code>, have <code>xs:anyAtomicType</code>
      as their base type.</p>
                     <p>No type may be derived from <code>xs:anyAtomicType</code>
      by restriction, union, or list.</p>
                  </div>
                  <p>The types <code>xs:untyped</code> and <code>xs:untypedAtomic</code>, although
  they have names in the XSD namespace, are defined in this XDM specification, and not
  in XSD.</p>
                  <p>The type <b>xs:untypedAtomic</b> denotes untyped atomic
    data, such as text that has not been assigned a more specific type. It is
    classified as an atomic type. An attribute that has not been validated 
    (or that has been validated in skip mode) is represented in the data
    model by an attribute node with the type annotation <code>xs:untypedAtomic</code>. No
    predefined types are derived from <code>xs:untypedAtomic</code>
    <span>and no such derivations are allowed</span>.
  </p>
                  <p>The datatype <b>xs:untyped</b> is used as the type annotation of
    an element node that has not been validated, or that has been validated in
    skip mode. It is a classified as a complex type. The properties of <code>xs:untyped</code>
    are the same as the properties of <code>xs:anyType</code> except for
    the base type and name. The base type of <code>xs:untyped</code> is
    <code>xs:anyType</code>.
    No predefined types are derived from <code>xs:untyped</code>
    <span>and no such derivations are allowed</span>.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="xml-and-xsd-versions"></a>4.1.5 <a href="#xml-and-xsd-versions" style="text-decoration: none">XML and XSD Versions</a></h4>
                  <div class="changes">
                     <p class="changesHeading">Changes in 4.0&nbsp;<a href="#atomic-items">⬇</a>&nbsp;<a href="#id-LabeledItems">⬆</a></p>
                     <ol>
                        <li>
                           <p>
      Relaxed the rules regarding use of non-XML characters in instances of <code>xs:string</code>.
    <i>&nbsp;&nbsp;[Issue <a href="https://github.com/qt4cg/qtspecs/issues/414">414</a>&nbsp;PR <a href="https://github.com/qt4cg/qtspecs/pull/546">546</a>&nbsp;25 July 2023]</i></p>
                        </li>
                     </ol>
                  </div>
                  <p>Some of the types defined in XML Schema have differing definitions
in XSD 1.0 and XSD 1.1; furthermore, some types are defined by
reference to other specifications, including XML and XML Namespaces,
and these too may vary from one version of the specification to the
next.</p>
                  <p>As a general policy, implementations of data types
<span class="verb">should</span> support the latest definitive version of any
referenced specification, even if that is published after the date of
this specification.</p>
                  <p>This means, for example, that the <code>xs:string</code> data type <span class="verb">should</span>
support the set of characters defined by Unicode. Similarly, the <code>xs:anyURI</code> data
type <span class="verb">should</span> support the definition used in XSD 1.1 (which allows any
sequence of characters), and the <code>xs:NCName</code> data type <span class="verb">should</span> support
the definition based on the syntax of a name as defined in both XML
1.1 Second Edition and XML 1.0 Fifth Edition (which provide the same definition).</p>
                  <p>In practice interoperability problems can arise both because
specifications are not always in synchronization with each other (for
example, XSD 1.0 contains references to dated versions of XML 1.0
other than the latest version), and also because implementations <span class="verb">may</span>
use third-party components (such as XML parsers, serializers, and
schema validators) that were built against different versions of the
base specifications. For these reasons, use of the latest version of
referenced specifications is generally <em>recommended</em> but not
<em>required</em>.
It is implementation-dependent how a processor handles any such
conflicts.</p>
                  <p>[<a id="dt-string" title="string">Definition</a>: A
<b>string</b>
is a sequence of zero or more
<a title="character" class="termref" href="#dt-character">characters</a>.]</p>
                  <p>[<a id="dt-character" title="character">Definition</a>: A
<b>character</b> is any Unicode character.]
Implementations <span class="verb">may</span> restrict characters
to those Unicode characters allowed by the <code>Char</code>
production in <a href="#xml">[XML]</a>. Unpaired surrogates are always forbidden.</p>
                  <p>[<a id="dt-codepoint" title="codepoint">Definition</a>: A
<b>codepoint</b> is a non-negative integer assigned to a
<a title="character" class="termref" href="#dt-character">character</a> by the Unicode
consortium, or reserved for future assignment to a
character.]</p>
                  <p>The definitions of <a title="string" class="termref" href="#dt-string">string</a> and
<a title="character" class="termref" href="#dt-character">character</a> in the data model
allow an implementation to accept input that cannot occur in a
well-formed XML document. For example, an implementation might allow
the <code>unparsed-text()</code> function to return the content of a
text file that includes the control character <span class="unicode-codepoint">U+0007</span> (<span class="unicode-name">BEL</span>)  or might
not restrict what <code>codepoints-to-string()</code> can return.</p>
                  <p>An implementation that allows a broader repertoire of characters to
be consumed by the processor, <span class="verb">must</span> ensure that</p>
                  <ol class="enumar">
                     <li>
                        <p>Any characters serialized with the XML or XHTML output methods satisfy the
well-formedness criteria of the selected version of XML.</p>
                     </li>
                     <li>
                        <p>Any schema validation carried out using an XML Schema 1.0 or 1.1 schema rejects
any nodes or <a title="atomic item" class="termref" href="#dt-atomic-item">atomic items</a> containing characters that do not satisfy the
constraints of the selected version of XML.</p>
                     </li>
                  </ol>
                  <div class="note">
                     <p class="prefix"><b>Note:</b></p>
                     <p>The lexical space of type <code>xs:duration</code> is defined in XSD 1.1 part 2 (§3.3.6.2) 
      in two different ways:
    with a BNF grammar starting with the production <code>durationLexicalRep</code>, and with a regular 
    expression. The two definitions are inconsistent: the BNF allows a decimal point at the start or end
    of the seconds component, while the regular expression requires any decimal point to be preceded and followed
    by a digit. For the purposes of this specification, the regular expression is considered to be 
    correct, and the BNF incorrect; this makes the representation identical to that in XSD 1.0, 
    and is compatible with ISO 8601.</p>
                  </div>
               </div>
            </div>
            <div class="div2">
               
               <h3><a id="types-hierarchy"></a>4.2 <a href="#types-hierarchy" style="text-decoration: none">Type System</a></h3>
               <p>Every value manipulated by XPath, XQuery, or XSLT is a <a title="sequence" class="termref" href="#dt-sequence">sequence</a>
  comprising zero or more <a title="item" class="termref" href="#dt-item">items</a>.</p>
               <p>[<a id="dt-sequence-type" title="sequence type">Definition</a>: A <b>sequence type</b>
    constrains the set of permitted sequences, by defining the permitted 
    <a title="item type" class="termref" href="#dt-item-type">item types</a>
  and the permitted number of items in the sequence (exactly zero, exactly one, zero-or-more,
  one-or-more, zero-or-one).]</p>
               <p>Every <a title="item" class="termref" href="#dt-item">item</a> is
    an instance of one or more <a title="item type" class="termref" href="#dt-item-type">item types</a>:</p>
               <ul>
                  <li>
                     <p>All items are instances of the type <code>item()</code>.</p>
                  </li>
                  <li>
                     <p>Every <a title="node" class="termref" href="#dt-node">node</a> is an instance of the type <code>node()</code>, and more
      specifically it is an instance of one of seven node kinds: <code>document()</code>,
      <code>element(*)</code>, <code>attribute(*)</code>, <code>text()</code>,
      <code>comment()</code>, <code>processing-instruction()</code>, or
      <code>namespace()</code>. Nodes may also be instances of more specific
      types characterized by the node name and type annotation.</p>
                  </li>
                  <li>
                     <p>Every <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a> is an instance of a specific <a title="atomic type" class="termref" href="#dt-atomic-type">atomic type</a>
      determined by its <a title="type annotation" class="termref" href="#dt-type-annotation">type annotation</a>; it is also an instance of every type from which that
      type is derived by restriction (directly or indirectly), and of every union type that
      includes that type as a member type.</p>
                  </li>
                  <li>
                     <p>Every <a title="function item" class="termref" href="#dt-function-item">function item</a> is an instance of the generic type <code>function(*)</code>,
      and also of a specific function type defining the types of the function's parameters and the
      type of the result.</p>
                     <p>A <a title="map item" class="termref" href="#dt-map-item">map item</a>, as well as being a function, is also an instance of the generic
        map type <code>map(*)</code>, of more specific map types <code>map(K, V)</code> defining the
        types of the keys and values, and perhaps of one or more record types that associate a type with 
        specific key values.</p>
                     <p>An <a title="array item" class="termref" href="#dt-array-item">array item</a>, as well as being a function, is also an instance of the generic
        array type <code>array(*)</code>, and also of more specific array types <code>array(M)</code>
        defining the type of the array's members.</p>
                  </li>
               </ul>
               <p>This section describes how <a title="item type" class="termref" href="#dt-item-type">item types</a> relate to each other.</p>
               <p>The diagrams below show how nodes, functions,
<a title="primitive simple type" class="termref" href="#dt-primitive-simple-type">primitive simple types</a>,
and user defined types fit together into a type system.

In the diagrams, connecting lines represent relationships between derived types
and the types from which they are derived;
the latter are always higher and to the left of the latter. 
</p>
               <p>The <code>xs:IDREFS</code>, <code>xs:NMTOKENS</code>,
<code>xs:ENTITIES</code> types, and <code>xs:numeric</code>, and both the
<code>user-defined list types</code> and
<code>user-defined union types</code>
are special types in that these types are lists or unions
rather than types derived by extension or restriction.</p>
               <p>The first diagram illustrates the
relationship of various <a title="item type" class="termref" href="#dt-item-type">item
types</a>. Item types in the data model form a directed graph,
rather than a hierarchy or lattice: in the relationship defined by the
<code>derived-from(A, B)</code> function, some types are derived from
more than one other type. Examples include functions
(<code>function(xs:string) as xs:int</code> is substitutable for
<code>function(xs:NCName) as xs:int</code> and also for
<code>function(xs:string) as xs:decimal</code>), and union types
(<code>A</code> is substitutable for the union type <code>(A | B)</code> and also
for the union type <code>(A | C)</code>). In XDM, item types include node types,
function types, and built-in atomic types. The list, which shows only
hierarchic relationships, is therefore a simplification of the full
model.</p>
               <div class="type-hierarchy-figure">
                  <div class="hier">
                     <ul class="type-hierarchy type-colors">
                        <li class="abstract">
                           <p class="root"><span>item</span><span class="kind"> (abstract)</span></p>
                           <ul>
                              <li class="built-in-atomic">
                                 <p>
          <span><a href="#th_anyAtomicType">anyAtomicType</a></span>
          <span class="kind"> (built-in atomic)</span>
        </p>
                              </li>
                              <li class="abstract node">
                                 <p><span>node</span><span class="kind"> (node)</span></p>
                                 <ul>
                                    <li class="node">
                                       <p><span>attribute</span><span class="kind"> (node)</span></p>
                                       <ul>
                                          <li class="node user-defined">
                                             <p>
                   <span>user-defined attribute types</span>
                   <span class="kind"> (user-defined)</span>
                </p>
                                          </li>
                                       </ul>
                                    </li>
                                    <li class="node">
                                       <p><span>document</span><span class="kind"> (node)</span></p>
                                       <ul>
                                          <li class="node user-defined">
                                             <p>
                    <span>user-defined document types</span>
                    <span class="kind"> (user-defined)</span>
                 </p>
                                          </li>
                                       </ul>
                                    </li>
                                    <li class="node">
                                       <p><span>element</span><span class="kind"> (node)</span></p>
                                       <ul>
                                          <li class="node user-defined">
                                             <p>
                    <span>user-defined element types</span>
                    <span class="kind"> (user-defined)</span>
                 </p>
                                          </li>
                                       </ul>
                                    </li>
                                    <li class="node">
                                       <p><span>text</span><span class="kind"> (node)</span></p>
                                    </li>
                                    <li class="node">
                                       <p><span>comment</span><span class="kind"> (node)</span></p>
                                    </li>
                                    <li class="node">
                                       <p><span>processing-instruction</span><span class="kind"> (node)</span></p>
                                    </li>
                                    <li class="node">
                                       <p><span>namespace</span><span class="kind"> (node)</span></p>
                                    </li>
                                 </ul>
                              </li>
                              <li class="abstract function">
                                 <p><span>function(*)</span><span class="kind"> (function item)</span></p>
                                 <ul>
                                    <li class="function user-defined">
                                       <p>
                <span>user-defined function item types</span>
                <span class="kind"> (user-defined)</span>
             </p>
                                    </li>
                                    <li class="abstract function">
                                       <p><span>array(*)</span><span class="kind"> (function item)</span></p>
                                       <ul>
                                          <li class="function user-defined">
                                             <p>
                    <span>user-defined array types</span>
                    <span class="kind"> (user-defined)</span>
                 </p>
                                          </li>
                                       </ul>
                                    </li>
                                    <li class="abstract function">
                                       <p><span>map(*)</span><span class="kind"> (function item)</span></p>
                                       <ul>
                                          <li class="function user-defined">
                                             <p>
                    <span>user-defined map types</span>
                    <span class="kind"> (user-defined)</span>
                 </p>
                                          </li>
                                          <li class="function user-defined">
                                             <p>
                    <span>user-defined record types</span>
                    <span class="kind"> (user-defined)</span>
                 </p>
                                          </li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <div class="legend">
                     <p>Legend:</p>
                     <ul class="type-hierarchy type-colors legend">
                        <li>
                           <p class="root"><span>Supertype</span></p>
                           <ul>
                              <li>
                                 <p><span>subtype</span></p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <ul class="type-legend type-colors legend">
                        <li class="abstract">
                           <p>
         <span>Abstract types</span>
         <span class="kind"> (abstract)</span>
      </p>
                        </li>
                        <li class="built-in-atomic">
                           <p>
         <span>Built-in atomic types</span>
         <span class="kind"> (built-in atomic)</span>
      </p>
                        </li>
                        <li class="node">
                           <p>
         <span>Node types</span>
         <span class="kind"> (node)</span>
      </p>
                        </li>
                        <li class="function">
                           <p>
         <span>Function item types</span>
         <span class="kind"> (function item)</span>
      </p>
                        </li>
                        <li class="user-defined">
                           <p>
         <span>User-defined types</span>
         <span class="kind"> (user-defined)</span>
      </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <p>The XPath Data Model is the abstraction over which XPath expressions are evaluated.
    Historically, all of the items in the data model could be derived directly (nodes) or
    indirectly (typed values, sequences) from an XML document. However, as the XPath
    expression language has matured, new features have been added which require additional
    types of items to appear in the data model. These items have no direct XML serialization,
    but they are never the less part of the data model.
  </p>
               <p id="hier_anyAtomicType">The next diagram shows all of the
atomic types, including the primitive simple types and the built-in
types derived from the primitive simple types. This includes all the
built-in datatypes defined in <a href="#xmlschema-2">[Schema Part 2]</a>. Atomic types
act both as <a title="item type" class="termref" href="#dt-item-type">item types</a> (meaning
they can be used to declare the types of variables and function arguments),
and as <a title="schema type" class="termref" href="#dt-schema-type">schema types</a> (meaning they
can be used as type annotations on nodes).</p>
               <div class="type-hierarchy-figure">
                  <div class="hier">
                     <ul class="type-hierarchy type-colors">
                        <li class="primitive special root">
                           <p id="th_anyAtomicType" class="root">
         <span>anyAtomicType</span>
      </p>
                           <ul>
                              <li class="primitive">
                                 <p class="first">
               <span>anyURI</span>
            </p>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>base64Binary</span>
            </p>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>boolean</span>
            </p>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>date</span>
            </p>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>dateTime</span>
            </p>
                                 <ul>
                                    <li class="atomic">
                                       <p class="first">
                     <span>dateTimeStamp</span>
                  </p>
                                    </li>
                                 </ul>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>decimal</span>
            </p>
                                 <ul>
                                    <li class="built-in-atomic">
                                       <p class="first">
                     <span>integer</span>
                  </p>
                                       <ul>
                                          <li class="built-in-atomic">
                                             <p class="first">
                           <span>long</span>
                        </p>
                                             <ul>
                                                <li class="built-in-atomic">
                                                   <p class="first">
                                 <span>int</span>
                              </p>
                                                   <ul>
                                                      <li class="built-in-atomic">
                                                         <p class="first">
                                       <span>short</span>
                                    </p>
                                                         <ul>
                                                            <li class="built-in-atomic">
                                                               <p class="first">
                                             <span>byte</span>
                                          </p>
                                                            </li>
                                                         </ul>
                                                      </li>
                                                   </ul>
                                                </li>
                                             </ul>
                                          </li>
                                          <li class="built-in-atomic">
                                             <p class="item">
                           <span>nonNegativeInteger</span>
                        </p>
                                             <ul>
                                                <li class="built-in-atomic">
                                                   <p class="first">
                                 <span>positiveInteger</span>
                              </p>
                                                </li>
                                                <li class="built-in-atomic">
                                                   <p class="last">
                                 <span>unsignedLong</span>
                              </p>
                                                   <ul>
                                                      <li class="built-in-atomic">
                                                         <p class="first">
                                       <span>unsignedInt</span>
                                    </p>
                                                         <ul>
                                                            <li class="built-in-atomic">
                                                               <p class="first">
                                             <span>unsignedShort</span>
                                          </p>
                                                               <ul>
                                                                  <li class="built-in-atomic">
                                                                     <p class="first">
                                                   <span>unsignedByte</span>
                                                </p>
                                                                  </li>
                                                               </ul>
                                                            </li>
                                                         </ul>
                                                      </li>
                                                   </ul>
                                                </li>
                                             </ul>
                                          </li>
                                          <li class="built-in-atomic">
                                             <p class="last">
                           <span>nonPositiveInteger</span>
                        </p>
                                             <ul>
                                                <li class="built-in-atomic">
                                                   <p class="first">
                                 <span>negativeInteger</span>
                              </p>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>double</span>
            </p>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>duration</span>
            </p>
                                 <ul>
                                    <li class="built-in-atomic">
                                       <p class="first">
                     <span>dayTimeDuration</span>
                  </p>
                                    </li>
                                    <li class="built-in-atomic">
                                       <p class="last">
                     <span>yearMonthDuration</span>
                  </p>
                                    </li>
                                 </ul>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>float</span>
            </p>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>gDay</span>
            </p>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>gMonth</span>
            </p>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>gMonthDay</span>
            </p>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>gYear</span>
            </p>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>gYearMonth</span>
            </p>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>hexBinary</span>
            </p>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>NOTATION</span>
            </p>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>QName</span>
            </p>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>string</span>
            </p>
                                 <ul>
                                    <li class="built-in-atomic">
                                       <p class="first">
                     <span>normalizedString</span>
                  </p>
                                       <ul>
                                          <li class="built-in-atomic">
                                             <p class="first">
                           <span>token</span>
                        </p>
                                             <ul>
                                                <li class="built-in-atomic">
                                                   <p class="last">
                                 <span>NMTOKEN</span>
                              </p>
                                                </li>
                                                <li class="built-in-atomic">
                                                   <p class="item">
                                 <span>Name</span>
                              </p>
                                                   <ul>
                                                      <li class="built-in-atomic">
                                                         <p class="first">
                                       <span>NCName</span>
                                    </p>
                                                         <ul>
                                                            <li class="built-in-atomic">
                                                               <p class="first">
                                             <span>ENTITY</span>
                                          </p>
                                                            </li>
                                                            <li class="built-in-atomic">
                                                               <p class="item">
                                             <span>ID</span>
                                          </p>
                                                            </li>
                                                            <li class="built-in-atomic">
                                                               <p class="last">
                                             <span>IDREF</span>
                                          </p>
                                                            </li>
                                                         </ul>
                                                      </li>
                                                   </ul>
                                                </li>
                                                <li class="built-in-atomic">
                                                   <p class="first">
                                 <span>language</span>
                              </p>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="primitive">
                                 <p class="item">
               <span>time</span>
            </p>
                              </li>
                              <li class="primitive">
                                 <p class="last">
               <span>untypedAtomic</span>
            </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <div class="legend">
                     <p>Legend:</p>
                     <ul class="type-hierarchy type-colors">
                        <li>
                           <p class="root"><span>Supertype</span></p>
                           <ul>
                              <li>
                                 <p><span>subtype</span></p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <ul class="type-legend type-colors">
                        <li class="built-in-atomic">
                           <p><span>Built-in atomic types</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <p>For further detail regarding atomic items see <a href="#atomic-items"><b>5 Atomic Items</b></a>.</p>
            </div>
         </div>
         <div class="div1">
            
            <h2><a id="atomic-items"></a>5 <a href="#atomic-items" style="text-decoration: none">Atomic Items</a></h2>
            <div class="changes">
               <p class="changesHeading">Changes in 4.0&nbsp;<a href="#function-items">⬇</a>&nbsp;<a href="#xml-and-xsd-versions">⬆</a></p>
               <ol>
                  <li>
                     <p>
      The term <b>atomic value</b> has been replaced by <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a>.
    <i>&nbsp;&nbsp;[Issue <a href="https://github.com/qt4cg/qtspecs/issues/1337">1337</a>&nbsp;PR <a href="https://github.com/qt4cg/qtspecs/pull/1361">1361</a>&nbsp;2 August 2024]</i></p>
                  </li>
               </ol>
            </div>
            <p>[<a id="dt-atomic-item" title="atomic item">Definition</a>: An
<b>atomic item</b> is a pair (<var>T</var>, <var>D</var>) where <var>T</var> (the <a title="type annotation" class="termref" href="#dt-type-annotation">type annotation</a>)
  is an <a title="atomic type" class="termref" href="#dt-atomic-type">atomic type</a>, and <var>D</var> (the <a title="datum" class="termref" href="#dt-datum">datum</a>)
  is a point in the value space of <var>T</var>.]</p>
            <p>[<a id="dt-datum" title="datum">Definition</a>: The <b>datum</b> of an <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a>
      is a point in the value space of its type, which is also a point in the value space of
      the primitive type from which that type is derived.] There are 20 primitive atomic types (19 defined
      in XSD, plus <code>xs:untypedAtomic</code>), and these have non-overlapping value spaces, so each
      datum belongs to exactly one primitive atomic type.</p>
            <div class="note">
               <p class="prefix"><b>Note:</b></p>
               <p>The term <b>value space</b> is defined in <a href="#xmlschema11-2">[Schema 1.1 Part 2]</a>
      as a set of <em>values</em>. The term <b>datum</b> is used here in preference to <em>value</em>,
      because <a title="value" class="termref" href="#dt-value">value</a> has a different meaning in this data model.</p>
            </div>
            <p>[<a id="dt-atomic-type" title="atomic type">Definition</a>: An <b>atomic type</b>
is either a <a title="primitive simple type" class="termref" href="#dt-primitive-simple-type">primitive simple type</a>
  <span>with variety <code>atomic</code>,</span>
or a type derived by restriction from
another atomic type.]
(Types derived by list or union are not atomic.)
</p>
            <div class="note">
               <p class="prefix"><b>Note:</b></p>
               <p>Atomic types include the 19 primitive atomic
    types defined in XSD (such as <code>xs:string</code>, <code>xs:boolean</code>,
    and <code>xs:decimal</code>), the built-in non-primitive types defined in XSD
    (such as <code>xs:integer</code>, and <code>xs:NCName</code>, and <code>xs:dayTimeDuration</code>), 
    atomic types derived from these in a user-defined schema, and the 
    special type <code>xs:untypedAtomic</code>.</p>
            </div>
            <p>[<a id="dt-primitive-simple-type" title="primitive simple type">Definition</a>: The
<b>primitive simple types</b> are the types defined
in <a href="#xs-types"><b>4.1.1 Types adopted from XML Schema</b></a>.]</p>
            <p>[<a id="dt-type-annotation" title="type annotation">Definition</a>: The term <b>type annotation</b> has
      two slightly different meanings. For an <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a>, the type annotation of the value
      is the most specific <a title="atomic type" class="termref" href="#dt-atomic-type">atomic type</a> that it is an instance of (it is also an instance of every type from which that
      type is derived). For an element or attribute node, the type annotation is the <a title="schema type" class="termref" href="#dt-schema-type">schema type</a>
      (a simple or complex type) against which the node has been validated, defaulting to
      <code>xs:untypedAtomic</code> for unvalidated attribute nodes, and <code>xs:untyped</code>
      for unvalidated element nodes.]</p>
            <p><span>Named types are identified</span> in the data model by an
    <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a>. <span>A schema 
      may also contain anonymous types, and these may be used as <a title="type annotation" class="termref" href="#dt-type-annotation">type annotations</a> 
      on nodes and atomic items; anonymous types, however, cannot be referenced explicitly in programs.</span>
    </p>
            <p>[<a id="dt-expanded-qname" title="expanded QName">Definition</a>: An
<b>expanded QName</b> is a  
  <span>triple</span> consisting of a
  possibly <span>absent</span> prefix, a possibly 
  <span>absent</span> namespace URI, and a local
name.] See <a href="#qnames-and-notations"><b>5.4 QNames and NOTATIONS</b></a>.</p>
            <div class="div2">
               
               <h3><a id="StringValue"></a>5.1 <a href="#StringValue" style="text-decoration: none">String Values</a></h3>
               <p>An <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a> can be constructed from a lexical
representation. Given a string and an <a title="atomic type" class="termref" href="#dt-atomic-type">atomic type</a>, the atomic item is
constructed in such a way as to be
<a href="#typed-string-relationships">consistent with schema validation</a>.
If the
string does not represent a valid value of the type, an error is
raised. When <code>xs:untypedAtomic</code> is specified as the type,
no validation takes place. The details of the construction are
described in <a href="https://qt4cg.org/specifications/xpath-functions-40/#constructor-functions">Section 21 Constructor functions</a><sup><small>FO</small></sup>
and the related <a href="https://qt4cg.org/specifications/xpath-functions-40/#casting">Section 22 Casting</a><sup><small>FO</small></sup>
section of <a href="#xpath-functions-40">[XQuery and XPath Functions and Operators 4.0]</a>.
</p>
               <p>A string value can be constructed from an <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a>.
Such a value is constructed by
converting the atomic item to its string representation as described
in <a href="https://qt4cg.org/specifications/xpath-functions-40/#casting">Section 22 Casting</a><sup><small>FO</small></sup>.
</p>
            </div>
            <div class="div2">
               
               <h3><a id="NegativeZero"></a>5.2 <a href="#NegativeZero" style="text-decoration: none">Negative Zero</a></h3>
               <p>The <code>xs:float</code> and <code>xs:double</code> data types
in the data model have the same value space as in
XML Schema 1.1 (<a href="#xmlschema11-2">[Schema 1.1 Part 2]</a>).
Specifically they include both negative and positive zero, and in this
respect they differ from XML Schema 1.0.</p>
               <p>To accommodate this difference,
when converting from an
<code>xs:string</code> to an <code>xs:float</code> or
<code>xs:double</code>, it is implementation-defined whether the
lexical value “-0” (and similar forms such as “-0.0”) convert to
negative zero or to positive zero in the value space.</p>
            </div>
            <div class="div2">
               
               <h3><a id="dates-and-times"></a>5.3 <a href="#dates-and-times" style="text-decoration: none">Dates and Times</a></h3>
               <p>The date and time types require special attention. This section
applies to implementations that store the typed value of
<code>xs:dateTime</code>, <code>xs:date</code>, <code>xs:time</code>,
<code>xs:gYearMonth</code>, <code>xs:gYear</code>,
<code>xs:gMonthDay</code>, <code>xs:gMonth</code>,
<code>xs:gDay</code>, and types that are derived from them. These are
known collectively as the date/time types in this specification.</p>
               <p>The values of the date/time types are represented in the data model
using seven components:</p>
               <dl>
                  <dt class="label">year</dt>
                  <dd>
                     <p>An <code>xs:integer</code>.
</p>
                  </dd>
                  <dt class="label">month</dt>
                  <dd>
                     <p>An <code>xs:integer</code> between 1 and 12, inclusive.
</p>
                  </dd>
                  <dt class="label">day</dt>
                  <dd>
                     <p>An <code>xs:integer</code> between 1 and 31, inclusive, possibly
restricted further depending on the values of month and year.
</p>
                  </dd>
                  <dt class="label">hour</dt>
                  <dd>
                     <p>An <code>xs:integer</code> between 0 and 23, inclusive.
</p>
                  </dd>
                  <dt class="label">minute</dt>
                  <dd>
                     <p>An <code>xs:integer</code> between 0 and 59, inclusive.
</p>
                  </dd>
                  <dt class="label"><a id="tuple-timezone"></a>second</dt>
                  <dd>
                     <p>An <code>xs:decimal</code> greater than or equal to zero and less
than 60. Leap seconds are not supported.
</p>
                  </dd>
                  <dt class="label">timezone</dt>
                  <dd>
                     <p>An <code>xs:dayTimeDuration</code> between -PT14H00M and PT14H00M,
inclusive. All timezone values must be an integral number of minutes.
</p>
                  </dd>
               </dl>
               <p>Components that are intrinsic to the datatype (for example, day,
month, and year in a <code>xs:date</code>) are required; components
that can never be part of a datatype (for example, years in a
<code>xs:time</code>) must be missing. Missing components are
represented by the empty sequence. When a component is present, it
contains the “local value” that has not been normalized in any way.
The timezone component is optional for all the date/time datatypes.</p>
               <p>Thus, the lexical <code>xs:dateTime</code> representation
“<code>2003-01-02T11:30:00-05:00</code>” is stored as
“<code>{2003,&nbsp;1,&nbsp;2,&nbsp;11,&nbsp;30,&nbsp;0.0,&nbsp;-PT05H00M}</code>”.
The value of the lexical representation “<code>2003-01-16T16:30:00</code>”
is stored as
“<code>{2003,&nbsp;1,&nbsp;16,&nbsp;16,&nbsp;30,&nbsp;0,&nbsp;()}</code>”
because it has no timezone.
The value of the lexical <code>xs:gDay</code> representation
“<code>---30+10:30</code>” is
stored as
“<code>{(),&nbsp;(),&nbsp;30,&nbsp;(),&nbsp;(),&nbsp;(),&nbsp;PT10H30M}</code>”.
</p>
               <p>The lexical form “<code>24:00:00</code>” is normalized in the component
model. As a <code>xs:time</code>, it is stored as
“<code>{(),&nbsp;(),&nbsp;(),&nbsp;0,&nbsp;0,&nbsp;0.0,&nbsp;()}</code>”
and the <code>xs:dateTime</code> representation
“<code>1999-12-31T24:00:00</code>” is stored as
“<code>{2000,&nbsp;1,&nbsp;1,&nbsp;0,&nbsp;0,&nbsp;0.0,&nbsp;()}</code>”.
</p>
               <div class="note">
                  <p class="prefix"><b>Note:</b></p>
                  <p>Implementations are permitted to store date/time values in
any representation that is convenient for them, provided that the
individual properties can be accessed and modified.</p>
               </div>
            </div>
            <div class="div2">
               
               <h3><a id="qnames-and-notations"></a>5.4 <a href="#qnames-and-notations" style="text-decoration: none">QNames and NOTATIONS</a></h3>
               <p>The <code>QName</code> and <code>NOTATION</code> data types require
special attention. The following sections apply to
<code>xs:QName</code>, <code>xs:NOTATION</code>, and types derived
from them. These types are referred to collectively as “qualified
names”.</p>
               <p>As defined in XML Schema, the lexical space for qualified names
includes a local name and an optional namespace prefix. The value
space for qualified names contains a local name and an optional
namespace URI. Therefore, it is not possible to derive a lexical value
from the typed value, or vice versa, without access to some context
that defines the namespace bindings.</p>
               <p>When qualified names exist as values of nodes in a well-formed document,
it is always possible to determine such a namespace context. However,
the data model also allows qualified names to exist as freestanding
<a title="atomic item" class="termref" href="#dt-atomic-item">atomic items</a>, or as the name or value of a parentless attribute node,
and in these cases no namespace context is available.</p>
               <p>In this Data Model, therefore, the value space for qualified names
contains a local-name, an optional namespace URI, and an optional
prefix. The prefix is used only when producing a lexical
representation of the value, that is, when casting the value to a
string. The prefix plays no part in other operations involving
qualified names: in particular, two qualified names are equal if their
local names and namespace URIs match, regardless whether they have the
same prefix.</p>
               <p>The following consistency constraints apply:</p>
               <ul>
                  <li>
                     <p>If the namespace URI of a qualified name is
<a title="absent" class="termref" href="#dt-absent">absent</a>, then the prefix must
also be
<a title="absent" class="termref" href="#dt-absent">absent</a>.</p>
                  </li>
                  <li>
                     <p>For every element node whose name has a prefix, the prefix must be one
that has a binding to the namespace URI of the element name in the namespaces
property of the element.</p>
                  </li>
                  <li>
                     <p>For every element node whose name has no prefix, the element must have
a binding for the empty prefix to the namespace URI of the element name,
or must have no binding for the empty prefix in
the case where the name of the element has no namespace URI.</p>
                  </li>
                  <li>
                     <p>For every attribute node whose name has a prefix, the attribute node must
either be parentless, or the prefix must be one that has a binding to the
namespace URI of the attribute name in the namespaces property of the
parent element.</p>
                  </li>
                  <li>
                     <p>For every qualified name that contains a prefix and that is included in
the typed value of an element node, or of an attribute node that has an
element node as its parent, the prefix must be one that is bound to the
namespace URI of the qualified name in the namespaces property of that
element.</p>
                  </li>
                  <li>
                     <p>For every qualified name that contains a namespace URI and no prefix, and
that is included in the typed value of an element node, or of an attribute
node that has an element node as its parent, that element node must have a
binding for the empty prefix to that namespace URI in its namespace property.
</p>
                  </li>
                  <li>
                     <p>For every qualified name that contains neither a namespace URI nor a
prefix, and that is included in the typed value of an element node, or of an
attribute node that has an element node as its parent, that node
must not have a binding for the empty prefix.</p>
                  </li>
                  <li>
                     <p>No qualified name that contains a prefix may be included in the typed value of
an attribute node that has no parent.</p>
                  </li>
               </ul>
            </div>
         </div>
         <div class="div1">
            
            <h2><a id="documents-and-nodes"></a>6 <a href="#documents-and-nodes" style="text-decoration: none">Documents and Nodes</a></h2>
            <div class="div2">
               
               <h3><a id="nodes"></a>6.1 <a href="#nodes" style="text-decoration: none">Nodes</a></h3>
               <p>Nodes are used to represent the structure of an XML document in the form of a tree.</p>
               <p>Every node is one of the seven kinds of nodes defined in <a href="#node-kinds"><b>6.6 Node Kinds</b></a>. Nodes form a tree. Each node has at most one parent
(reachable via the <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span> accessor) and zero or more descendant
nodes that are reachable directly or indirectly
via the <span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span>,
<span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span>, and
<span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span> accessors.</p>
               <p>[<a id="dt-root-node" title="root node">Definition</a>: The
<b>root node</b> is the topmost node of a tree, the node with no
parent.]
Every tree has exactly one root node and every other node can be reached
from exactly one root node.
</p>
               <div class="note">
                  <p class="prefix"><b>Note:</b></p>
                  <p>The term <b>root node</b> means any node that has no parent. 
  It may be any kind of node. In the XPath 1.0 datamodel only document nodes
  could be parentless, so the term root node always meant a document node.</p>
               </div>
               <div class="note">
                  <p class="prefix"><b>Note:</b></p>
                  <p>Generally, the term <b>tree</b>
    is used to refer to a complete tree rooted at a parentless node. On occasions,
    which should be clear from the context, the same term is used to refer
    to a subtree, that is, a tree forming part of a larger tree.</p>
               </div>
               <p>[<a id="dt-document" title="document">Definition</a>: A
tree whose root node is a document node is referred to as a
<b>document</b>.]</p>
               <p>[<a id="dt-fragment" title="fragment">Definition</a>: A tree whose root node is not a document node is
referred to as a <b>fragment</b>.]</p>
            </div>
            <div class="div2">
               
               <h3><a id="node-identity"></a>6.2 <a href="#node-identity" style="text-decoration: none">Node Identity</a></h3>
               <p>Each node has a unique identity.

The identity of
a node is distinct from its value or other intrinsic properties; nodes may be
distinct even when they have the same values for all intrinsic
properties other than their identity.
(The
identity of <a title="atomic item" class="termref" href="#dt-atomic-item">atomic items</a>, by contrast, is determined solely by their
intrinsic properties. No two distinct integers, for example, have the
same value;
every instance of the value “5” as an integer is identical to every
other instance of the value “5” as an integer.)
</p>
               <div class="note">
                  <p class="prefix"><b>Note:</b></p>
                  <p>The concept of node identity should not be confused with the
concept of a unique ID, which is a unique name assigned to an element
by the author to represent references using ID/IDREF correlation.</p>
               </div>
            </div>
            <div class="div2">
               
               <h3><a id="document-order"></a>6.3 <a href="#document-order" style="text-decoration: none">Document Order</a></h3>
               <p>[<a id="dt-document-order" title="document order">Definition</a>: A
<b>document order</b> is defined among all the nodes
accessible during a given query or transformation. Document order is a
total ordering, although the relative order of some nodes is
implementation-dependent. Informally, document order is the order in
which nodes appear in the XML serialization of a document.]
[<a id="dt-stable" title="stable">Definition</a>: Document order is
<b>stable</b>, which means that the relative order of two
nodes will not change during the processing of a given query or
transformation, even if this order is implementation-dependent.]</p>
               <p>Within a tree, document order satisfies the following constraints:</p>
               <ol class="enumar">
                  <li>
                     <p>The root node is the first node.
</p>
                  </li>
                  <li>
                     <p>Every node occurs before all of its children and descendants.</p>
                  </li>
                  <li>
                     <p>namespace nodes immediately follow the element node with which
they are associated. The relative order of namespace nodes is
stable but implementation-dependent.</p>
                  </li>
                  <li>
                     <p>attribute nodes immediately follow the namespace nodes of the
element node with which they are associated, if any; otherwise they immediately
follow the element node; with which they are associated. The relative order of attribute nodes is
stable but implementation-dependent.</p>
                  </li>
                  <li>
                     <p>The relative order of siblings is the order in which they occur in
the <b class="dm-node-prop">children</b> property of their parent node.</p>
                  </li>
                  <li>
                     <p>Children and descendants occur before following siblings.</p>
                  </li>
               </ol>
               <p>The relative order of nodes in distinct trees is stable but
implementation-dependent, subject to the following constraint: If
any node in a given tree, <code>T1</code>, occurs before any node in a different
tree, <code>T2</code>, then all nodes in <code>T1</code> are before all nodes in
<code>T2</code>.</p>
            </div>
            <div class="div2">
               
               <h3><a id="namespace-names"></a>6.4 <a href="#namespace-names" style="text-decoration: none">Namespace Names</a></h3>
               <p>The specifications
<a href="#xml-names">[Namespaces in XML]</a> and <a href="#xml-names11">[Namespaces in XML 1.1]</a>
introduce
the concept of a namespace name. In <a href="#xml-names">[Namespaces in XML]</a> a namespace name
is required to be a URI; in <a href="#xml-names11">[Namespaces in XML 1.1]</a> it is required to be an
IRI; but both specifications explicitly do not require a processor to
check that namespace names appearing in an instance document are in
fact valid URIs or IRIs.</p>
               <p>[<a id="dt-namespace-uri" title="Namespace URI">Definition</a>:  This
specification uses the term <b>Namespace URI</b> to refer to a
namespace name, whether or not it is a valid URI or IRI].
Following the lead of <a href="#xml-names">[Namespaces in XML]</a> and <a href="#xml-names11">[Namespaces in XML 1.1]</a>,
processors implementing this data model <span class="verb">may</span> raise an error if a
namespace name is not a valid URI or IRI (depending on whether they
support
<a href="#xml-names">[Namespaces in XML]</a> or <a href="#xml-names11">[Namespaces in XML 1.1]</a>),
but they are <em>not required</em> to make any checks.
Note that the use of a relative reference as a namespace name is
deprecated and is defined to be meaningless, but it is not an error.
Namespace names, whatever form they take, are treated as character
strings and compared for equality using codepoint-by-codepoint
comparison, subject only to whitespace normalization if they appear in
a context (for example, within an attribute value) where this is
appropriate.</p>
               <p>In some interfaces, namespace names are held as values of type
<code>xs:anyURI</code>. For example, the namespace part of an expanded QName is
defined to be a value of type <code>xs:anyURI</code>. In
<a href="#xmlschema-2">[Schema Part 2]</a>, the type <code>xs:anyURI</code> imposes some
restrictions on the value space, but there is latitude for
implementers to decide exactly what these restrictions are. In
<a href="#xmlschema11-2">[Schema 1.1 Part 2]</a> there are no restrictions on the form of
an <code>xs:anyURI</code> value, so any sequence of characters is
acceptable within the value space. In this and related specifications,
the use of the type <code>xs:anyURI</code> to hold a namespace name does not imply
any restrictions on the value space beyond those described in this
section: implementations <span class="verb">may</span> reject character strings that are not
valid URIs or IRIs, but they are <em>not required</em> to do so.
</p>
            </div>
            <div class="div2">
               
               <h3><a id="construction"></a>6.5 <a href="#construction" style="text-decoration: none">Document Construction</a></h3>
               <p>This section describes the constraints on documents (that is, trees of nodes).</p>
               <p>The data model supports well-formed XML documents conforming to
<a href="#xml-names">[Namespaces in XML]</a> or <a href="#xml-names11">[Namespaces in XML 1.1]</a>.
Documents that are not well-formed are,
by definition, not XML. XML documents that do not conform to
<a href="#xml-names">[Namespaces in XML]</a> or <a href="#xml-names11">[Namespaces in XML 1.1]</a>
are not supported (nor are they supported by
<a href="#xml-infoset">[Infoset]</a>).</p>
               <p>In other words, the data model supports the following classes
of XML documents:</p>
               <ul>
                  <li>
                     <p>Well-formed documents conforming to <a href="#xml-names">[Namespaces in XML]</a> or
<a href="#xml-names11">[Namespaces in XML 1.1]</a>.</p>
                  </li>
                  <li>
                     <p>DTD-valid documents conforming to <a href="#xml-names">[Namespaces in XML]</a> or
<a href="#xml-names11">[Namespaces in XML 1.1]</a>, and</p>
                  </li>
                  <li>
                     <p>W3C XML Schema-validated documents.</p>
                  </li>
               </ul>
               <p>This document describes how to construct a document (a tree of nodes) 
  from an infoset (<a href="#xml-infoset">[Infoset]</a>) or a Post Schema Validation
Infoset (PSVI), the augmented infoset produced by an XML Schema
validation episode.</p>
               <p>A document can also be constructed directly
through application APIs, or from non-XML sources such as relational
tables in a database.
Data model construction from sources other than
an Infoset or PSVI is implementation-defined.
Regardless of how an instance of the data model
is constructed, every node and <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a> in the data model must
have a typed value that is consistent with its type.</p>
               <p>The data model supports some kinds of values that are not supported
by <a href="#xml-infoset">[Infoset]</a>. Examples of these are
<a title="fragment" class="termref" href="#dt-fragment">document fragments</a>
and sequences of document nodes.
The data model also supports values that are not nodes. Examples of
these are sequences of <a title="atomic item" class="termref" href="#dt-atomic-item">atomic items</a>,
or sequences mixing nodes and atomic
items. These are necessary to be able to represent the results of
intermediate expressions in the data model during expression
processing.
</p>
               <div class="div3">
                  
                  <h4><a id="const-other"></a>6.5.1 <a href="#const-other" style="text-decoration: none">Direct Construction</a></h4>
                  <p>Although this document describes construction of an instance of the
data model in terms of infoset properties, an infoset is not a
necessary precondition for building an instance of the data model.</p>
                  <p>There are no constraints on how an instance of the data model may be
constructed directly, save that the resulting instance
<span class="verb">must</span> satisfy all of the constraints described in
this document.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="const-infoset"></a>6.5.2 <a href="#const-infoset" style="text-decoration: none">Construction from an Infoset</a></h4>
                  <p>An instance of the data model can be constructed from an infoset
that satisfies the
following general constraints:</p>
                  <ul>
                     <li>
                        <p>All general and external parsed entities must be fully expanded. The
Infoset must not contain any <b class="info-item">unexpanded entity
reference information items</b>.</p>
                     </li>
                     <li>
                        <p>The infoset <span class="verb">must</span> provide all of the properties identified as
“required” in this document.
The properties identified as “optional”
may be used, if they are present. All other properties are ignored.</p>
                     </li>
                  </ul>
                  <p>An instance of the data model constructed from an information set
<span class="verb">must</span> be consistent with the description provided
for each node kind.</p>
                  <p>Furthermore, construction of an instance
of the data model from an Infoset is guaranteed to be
well-defined only for those Infosets that could have been derived from a
conforming XML document.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="const-psvi"></a>6.5.3 <a href="#const-psvi" style="text-decoration: none">Construction from a PSVI</a></h4>
                  <p>An instance of the data model can be constructed from a PSVI, whose
element and attribute information items have been strictly assessed,
laxly assessed, or have not been assessed. Constructing an instance of
the data model from a PSVI <span class="verb">must</span> be consistent with
the description provided in this section and with the description
provided for each node kind.</p>
                  <p>Data model construction requires that the PSVI provide unique names
for all anonymous schema types.</p>
                  <div class="note">
                     <p class="prefix"><b>Note:</b></p>
                     <p><a href="#xmlschema-1">[Schema Part 1]</a> does not require all schema processors to
provide unique names for anonymous schema types. In order to build an
instance of the data model
from a PSVI produced by a processor that does not provide the names,
some post-processing will be required in order to ensure that they are
all uniquely identified before construction begins.</p>
                  </div>
                  <p>[<a id="dt-incompletely-validated" title="incompletely validated">Definition</a>: An
<b>incompletely validated</b> document is an XML document that has a
corresponding schema but whose schema-validity assessment has resulted
in one or more element or attribute information items being assigned
values other than ‘valid’ for the <b class="infoset-property">[validity]</b>
property in the PSVI.]</p>
                  <p>The data model supports incompletely validated documents. Elements
and attributes that are not valid are treated as having unknown types.</p>
                  <p>The most significant difference between Infoset construction and PSVI
construction occurs in the area of schema type assignment. Other differences
can also arise from schema processing: default attribute and element values
may be provided, white space normalization of element content may occur, and the
user-supplied lexical form of elements and attributes with atomic schema types
may be lost.</p>
                  <div class="div4">
                     
                     <h5><a id="PSVI2Types"></a>6.5.3.1 <a href="#PSVI2Types" style="text-decoration: none">Mapping PSVI Additions to Node Properties</a></h5>
                     <p>A PSVI element or attribute information item may have a
<b class="infoset-property">[validity]</b> property.
The <b class="infoset-property">[validity]</b> property may be
“<em>valid</em> ”, “<em>invalid</em> ”,
or “<em>notKnown</em> ”
and reflects the outcome of schema-validity assessment. In the data
model, precise schema type information is exposed for element and
attribute nodes that are “<em>valid</em> ”. Nodes
that are not “<em>valid</em> ” are treated as if they
were simply well-formed XML and only very general schema type
information is associated with them.
</p>
                     <div class="div5">
                        
                        <h6><a id="PSVI2NodeTypes"></a>6.5.3.1.1 <a href="#PSVI2NodeTypes" style="text-decoration: none">Element and Attribute Node Types</a></h6>
                        <p>The precise definition of the schema type of an element or attribute
information item depends on the properties of the PSVI.
In the PSVI, <a href="#xmlschema-1">[Schema Part 1]</a>
defines a
<b class="infoset-property">[type definition]</b> property
as well as the
<b class="infoset-property">[type definition namespace]</b>,
<b class="infoset-property">[type definition name]</b> and
<b class="infoset-property">[type definition anonymous]</b>
properties, which are effectively short-cut terms for properties of
the type definition.
Further, the <b class="infoset-property">[element declaration]</b> and
<b class="infoset-property">[attribute declaration]</b>
properties are defined for elements and attributes, respectively.
These declarations in turn will identify the
<b class="infoset-property">[type definition]</b>
declared for the element or attribute. To distinguish the
<b class="infoset-property">[type definition]</b>
given in the PSVI for the element or attribute instance
from the <b class="infoset-property">[type definition]</b> associated
with the declaration, the former is referred to below as the actual
type and the latter as the declared type of the element or attribute
instance in question.
</p>
                        <p>The type depends on the declared type, the actual type, and the
<b class="infoset-property">[validity]</b> and
<b class="infoset-property">[validation attempted]</b> properties in
the PSVI. If:</p>
                        <ul>
                           <li>
                              <p>The <b class="infoset-property">[validity]</b> and
<b class="infoset-property">[validation attempted]</b> properties exist
and have the values “<em>valid</em> ” and
“<em>full</em> ”, respectively, the
schema type of an element or attribute information item is
represented by an <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a>
whose namespace and local name correspond
to the first applicable items in the following list:
</p>
                              <ul>
                                 <li>
                                    <p>If the declared type exists and is a union and the actual type is (not the
same as the declared type, and not a type derived from the declared
type, but) one of the member types of the union, or derived from one
of its member types:
</p>
                                    <ul>
                                       <li>
                                          <p>If the {name} property of the declared type is present: the
  {target namespace} and {name} properties of the declared type.
  </p>
                                       </li>
                                       <li>
                                          <p>If the {name} property of the declared type is absent: the
  namespace and local name of the anonymous type name supplied for the
  declared type.
  </p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>If there is no declared type, and the actual type is a union, then:</p>
                                    <ul>
                                       <li>
                                          <p>If the {name} property of the actual type is present: the {target
  namespace} and {name} properties of the actual type.
  </p>
                                       </li>
                                       <li>
                                          <p>If the {name} property of the actual type is absent: the
  namespace and local name of the anonymous type name supplied for the
  actual type.</p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>Otherwise:</p>
                                    <ul>
                                       <li>
                                          <p>If <b class="infoset-property">[type definition anonymous]</b>
  is false: the {target namespace} and {name} properties of the actual type.
  </p>
                                       </li>
                                       <li>
                                          <p>If <b class="infoset-property">[type definition anonymous]</b> is true:
  the namespace and local name of the anonymous type name supplied for
  the actual type.</p>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>The <b class="infoset-property">[validity]</b> property exists
and is “<em>invalid</em> ”, or the
<b class="infoset-property">[validation attempted]</b> property exists
and is “<em>partial</em> ”, the schema type of an element
is <code>xs:anyType</code> and the type of an attribute is
<code>xs:anySimpleType</code>.</p>
                           </li>
                           <li>
                              <p>The <b class="infoset-property">[validity]</b> property exists and is
“<em>notKnown</em> ”, the schema type of an element is
<code>xs:anyType</code> and the type of an attribute is
<code>xs:anySimpleType</code>.
</p>
                           </li>
                           <li>
                              <p>The <b class="infoset-property">[validity]</b> or
<b class="infoset-property">[validation attempted]</b> properties do not
exist, the schema type of an element is
<code>xs:untyped</code> and the type of an attribute is
<code>xs:untypedAtomic</code>.
</p>
                           </li>
                        </ul>
                        <p>The prefix associated with the type names is implementation-dependent.</p>
                     </div>
                     <div class="div5">
                        
                        <h6><a id="TypedValueDetermination"></a>6.5.3.1.2 <a href="#TypedValueDetermination" style="text-decoration: none">Typed Value Determination</a></h6>
                        <p>This section describes how the typed value of an element or
attribute node is computed from an element or attribute PSVI
information item, where the information item has either a simple type
or a complex type with simple content. For other kinds of
element nodes, see <a href="#const-psvi-element"><b>6.6.2.4 Construction from a PSVI</b></a>; for other kinds of
attribute nodes, see <a href="#const-psvi-attribute"><b>6.6.3.4 Construction from a PSVI</b></a>.</p>
                        <p>The typed value of attribute nodes and some element nodes is a
sequence of <a title="atomic item" class="termref" href="#dt-atomic-item">atomic items</a>. The
types of the items in the typed value of a node may differ from
the type of the node itself. This section describes how the typed
value of a node is derived from the properties of an information item
in a PSVI.</p>
                        <p>The types of the items in the typed value of a node are determined as follows.
The process begins with a type, <code>T</code>. If the schema type of the node itself, as
represented in the PSVI, is a complex type with simple content, then <code>T</code> is the
{content type} of the schema type of the node; otherwise, <code>T</code> is the schema type
of the node itself. For each primitive or ordinary simple type <code>T</code>, the W3C XML
Schema specification defines a function <code>M</code> mapping the lexical representation of
a value onto the value itself.</p>
                        <div class="note">
                           <p class="prefix"><b>Note:</b></p>
                           <p>For atomic and list types, the mapping is the “lexical mapping”
defined for <code>T</code> in
<a href="#xmlschema-2">[Schema Part 2]</a>; for union types, the mapping is the
lexical mapping defined in
<a href="#xmlschema-2">[Schema Part 2]</a> modified
as appropriate by any applicable rules in
<a href="#xmlschema-1">[Schema Part 1]</a>. The mapping, so modified, is a function
(in the mathematical sense) which maps to a single value even
in cases where the lexical mapping proper maps to multiple values.
</p>
                        </div>
                        <p>The typed value is determined as follows:</p>
                        <ul>
                           <li>
                              <p>If the <b class="dm-node-prop">nilled</b> property of the node in question is
<code>true</code>, then the typed value is the empty sequence.
</p>
                           </li>
                           <li>
                              <p>If <code>T</code> is <code>xs:anySimpleType</code> or
<code>xs:anyAtomicType</code>, the typed value
is the <b class="infoset-property">[schema normalized value]</b> as
an instance of <code>xs:untypedAtomic</code>.
</p>
                           </li>
                           <li>
                              <p>Otherwise, the typed value is the result of applying <code>M</code>
to the string value as an instance of the appropriate value type,
where the appropriate value type is the <b class="infoset-property">[member
type definition]</b> if <code>T</code> is a union type, otherwise it
is simply <code>T</code>.
</p>
                           </li>
                        </ul>
                        <p>The typed value determination process is guaranteed to result in a
sequence of <a title="atomic item" class="termref" href="#dt-atomic-item">atomic items</a>, 
  each having a well-defined atomic type. This
sequence of atomic items, in turn, determines the
typed-value property of the node in the data model.</p>
                     </div>
                     <div class="div5">
                        
                        <h6><a id="typed-string-relationships"></a>6.5.3.1.3 <a href="#typed-string-relationships" style="text-decoration: none">Relationship Between Typed-Value and String-Value</a></h6>
                        <p>Element and attribute nodes have both typed-value and string-value
properties (the terms <b>typed value</b> and <b>string value</b> are 
defined at <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#id-typed-value">Section 2.5.2 Typed Value and String Value</a><sup><small>XP</small></sup> of <a href="#xpath-40">[XML Path Language (XPath) 4.0]</a>). 
However, implementations are allowed some flexibility in
how these properties are stored. An implementation may choose to store
the string-value property only and derive the typed-value property from it, or to store
the typed-value property only and derive the string-value property from it, or to store
both the string-value property and the typed-value property.</p>
                        <p>To permit these various implementation strategies, some
variations in the string value of a node are defined as insignificant.
Implementations that store only the typed value of a node are permitted to
return a string value that is different from the original lexical form of
the node content. For example, consider the following element:</p>
                        <div class="exampleInner">
                           <pre>&lt;offset xsi:type="xs:integer"&gt;0030&lt;/offset&gt;</pre>
                        </div>
                        <p>Assuming that the node is valid, it has a typed value of 30 as an
<code>xs:integer</code>. An implementation may return either “<code>30</code>” or
“<code>0030</code>” as the string value of the node. Any string that is a valid
lexical representation of the typed value is acceptable. In this
specification, we express this rule by saying that the relationship
between the string value of a node and its typed value must be
“consistent with schema validation.”</p>
                        <p>If an implementation stores only the string value of a node, the
following considerations apply:</p>
                        <ul>
                           <li>
                              <p>Where union types occur, the implementation must be able to deliver
the typed value as an instance of the appropriate member type. For
example, if the type of 
an element node is <code>my:integer-or-string</code>, which is
defined as a union of <code>xs:integer</code> and <code>xs:string</code>, and the string value
of the node is “47”, the implementation must be able to deliver the
typed value of the node as either the integer <code>47</code> or the string <code>"47"</code>,
depending on which member type validated the element.</p>
                           </li>
                           <li>
                              <p>Where types of <code>xs:QName</code>, <code>xs:NOTATION</code>, or
types derived from one of these types occur, the implementation must
be able to deliver the typed value as a triple consisting of a local name,
a namespace prefix, and a namespace URI, even though the namespace URI
is not part of the string-value (see
<a href="#qnames-and-notations"><b>5.4 QNames and NOTATIONS</b></a>).</p>
                           </li>
                           <li>
                              <p>Where an element with a complex type and element-only content
occurs, it is an error to attempt to access the typed-value of the
element node.</p>
                           </li>
                        </ul>
                        <p>If an implementation stores only the typed value of a node, it must
be prepared to construct string values from not only the node, but in
some cases also the descendants of that node. For example, an element
with a complex type and element-only content has no typed value but
does have a string value that is the concatenation of the
string values of all its text node descendants in document order.</p>
                        <p>A further caveat applies if an implementation stores the typed
value of a node. If a new data model is constructed by copying
portions of another data model, and the copy operation does not
preserve inherited namespaces, and the type is a union type that is
sensitive to the namespace context, then the typed value may be
different than what would be obtained by revalidating the node within
its new namespace context. Although this may stretch the semantics of
“consistent with schema validation”, we accept this possibility; it
is not an error.</p>
                     </div>
                     <div class="div5">
                        
                        <h6><a id="pattern-facets"></a>6.5.3.1.4 <a href="#pattern-facets" style="text-decoration: none">Pattern Facets</a></h6>
                        <p>Creating a subtype by restriction generally reduces the
<em>value</em> space of the original schema type. For example,
expressing a hat size as a restriction of decimal with a minimum value
of 6.5 and maximum value of 8.0 creates a schema type whose valid values are
only those in the range 6.5 to 8.0.</p>
                        <p>The pattern facet is different because it restricts the
<em>lexical</em> space of the schema type, not its value space.
Expressing a three-digit number as a restriction of integer with the
pattern facet “[0-9]{3}” creates a schema type whose valid values
are only those with a lexical form consisting of three digits.</p>
                        <p>The pattern facet is not reversible in practice. A given point in
the value space might have several lexical representations. In
general, there is no practical way to determine which, if any, of these
representations satisfies the pattern facet of the type.</p>
                        <p>As a consequence, pattern facets are not respected when mapping to
an Infoset or during serialization, and values in the data model that
were originally valid with respect to a schema that contains
pattern-based restrictions may be invalid after serialization.</p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="div2">
               
               <h3><a id="node-kinds"></a>6.6 <a href="#node-kinds" style="text-decoration: none">Node Kinds</a></h3>
               <p>[<a id="dt-node" title="node">Definition</a>: There are seven kinds of
<b>nodes</b> in the data model:
<a href="#DocumentNode">document</a>,
<a href="#ElementNode">element</a>,
<a href="#AttributeNode">attribute</a>,
<a href="#TextNode">text</a>,
<a href="#NamespaceNode">namespace</a>,
<a href="#ProcessingInstructionNode">processing instruction</a>, and
<a href="#CommentNode">comment</a>.] Each kind of
node is described in the following sections.</p>
               <p>Each section consists of an overview of the node, followed by 
  information on accessors and methods construction from an Infoset or a PSVI.
  The final section provides a mapping to Infosets. No mapping 
  is provided, nor can it be provided, for producing a PSVI. 
  Validation must be used to obtain a PSVI for a (portion of a) data 
  model instance.
</p>
               <p id="constraints-general">All nodes <span class="verb">must</span> satisfy
the following general constraints:</p>
               <ol class="enumar">
                  <li>
                     <p>Every node <span class="verb">must</span> have a unique identity,
distinct from all other nodes.
</p>
                  </li>
                  <li>
                     <p>The <b class="dm-node-prop">children</b> property of a node <span class="verb">must not</span>
contain two consecutive text nodes.</p>
                  </li>
                  <li>
                     <p>The <b class="dm-node-prop">children</b> property of a node <span class="verb">must not</span>
contain any empty text nodes.</p>
                  </li>
                  <li>
                     <p>No node may appear more than once in the
<b class="dm-node-prop">children</b> or <b class="dm-node-prop">attributes</b> properties of a node.</p>
                  </li>
               </ol>
               <div class="div3">
                  
                  <h4><a id="DocumentNode"></a>6.6.1 <a href="#DocumentNode" style="text-decoration: none">Document nodes</a></h4>
                  <div class="div4">
                     
                     <h5><a id="DocumentNodeOverview"></a>6.6.1.1 <a href="#DocumentNodeOverview" style="text-decoration: none">Overview</a></h5>
                     <p>Document nodes encapsulate XML documents. Documents have the following
properties:</p>
                     <ul>
                        <li>
                           <p><b class="dm-node-prop">base-uri</b>, possibly empty.
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">children</b>, possibly empty.
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">unparsed-entities</b>, possibly empty.
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">document-uri</b>, possibly empty.
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">string-value</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">typed-value</b>
</p>
                        </li>
                     </ul>
                     <p id="constraints-document">Document nodes <span class="verb">must</span> satisfy the following constraints.</p>
                     <ol class="enumar">
                        <li>
                           <p>The <b class="dm-node-prop">children</b> <span class="verb">must</span> consist exclusively
of element, processing instruction, comment, and text nodes if it is not empty.
Attribute, namespace, and document nodes can never appear as children
</p>
                        </li>
                        <li>
                           <p>If a node <em>N</em> is among the <b class="dm-node-prop">children</b> of a document node
<em>D</em>, then the <b class="dm-node-prop">parent</b> of <em>N</em>
<span class="verb">must</span> be <em>D</em>.</p>
                        </li>
                        <li>
                           <p>If a node <em>N</em> has a <b class="dm-node-prop">parent</b> document node <em>D</em>,
then <em>N</em> <span class="verb">must</span> be among the <b class="dm-node-prop">children</b> of
<em>D</em>.
</p>
                        </li>
                        <li>
                           <p>The <b class="dm-node-prop">string-value</b> property of a document node must
be the concatenation of the <b class="dm-node-prop">string-value</b>s of all its
text node descendants in document order or,
if the document has no such descendants, the zero-length string.
</p>
                        </li>
                     </ol>
                     <p>In the <a href="#xml-infoset">[Infoset]</a>, a
<b class="info-item">document information item</b>
must have at least one child, its children must consist exclusively of
<b class="info-item">element information item</b>s,
<b class="info-item">processing instruction information item</b>s
and <b class="info-item">comment information item</b>s,
and exactly one of the children must be
an <b class="info-item">element information item</b>.
This data model is more permissive: a
document node may be empty, it may have more than one element node as a
child, and it also permits text nodes as children.</p>
                     <p>Implementations that support DTD processing and access to the
unparsed entity accessors use the
<b class="dm-node-prop">unparsed-entities</b> property to associate
information about an unordered collection of unparsed entities with a
document node. This property is accessed indirectly through the
<span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span> and
<span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span> functions.
<span>There is at most one unparsed
entity associated with any given name. Conforming XML documents may include
more than one unparsed entity declaration for the same name, but XML
mandates that only the first such declaration is significant.
</span>
</p>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="DocumentNodeAccessors"></a>6.6.1.2 <a href="#DocumentNodeAccessors" style="text-decoration: none">Accessors</a></h5>
                     <dl>
                        <dt class="label"><span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">base-uri</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">children</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span></dt>
                        <dd>
                           <p>Returns the absolute URI of the resource from which the document node was
constructed, or the empty sequence if no such absolute URI is available.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span></dt>
                        <dd>
                           <p>Returns “<code>document</code>”.</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">string-value</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">typed-value</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span></dt>
                        <dd>
                           <p>Returns the public identifier of the specified unparsed entity or
the empty sequence if no such entity exists.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span></dt>
                        <dd>
                           <p>Returns the system identifier of the specified unparsed entity or
the empty sequence if no such entity exists.
</p>
                        </dd>
                     </dl>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="const-infoset-document"></a>6.6.1.3 <a href="#const-infoset-document" style="text-decoration: none">Construction from an Infoset</a></h5>
                     <p>The <b class="info-item">document information item</b> is
required. A document node is constructed for each
<b class="info-item">document information item</b>.</p>
                     <p>The following infoset properties are required:
<b class="infoset-property">[children]</b> and
<b class="infoset-property">[base URI]</b>.</p>
                     <p>The following infoset properties are optional:
<b class="infoset-property">[unparsed entities]</b>.</p>
                     <p>Document node properties are derived from the infoset as
follows:</p>
                     <dl>
                        <dt class="label"><b class="dm-node-prop">base-uri</b></dt>
                        <dd>
                           <p>The value of the <b class="infoset-property">[base URI]</b>
property, if available.
Note that the base URI property, if available,
is always an absolute URI
(if an absolute URI can be computed) though it may contain Unicode
characters that are not allowed in URIs. These characters, if they
occur, are present in the <b class="dm-node-prop">base-uri</b> property and will have to
be encoded and escaped by the application to obtain a URI suitable for
retrieval, if retrieval is required.
</p>
                           <p>In practice a <b class="infoset-property">[base URI]</b>
is not always known. In this case the value of the
<b class="dm-node-prop">base-uri</b> property of the document node will be the empty
sequence. This is not intrinsically an error, though it may cause some
operations that depend on the base URI to fail.
</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">children</b></dt>
                        <dd>
                           <p>The sequence of nodes constructed from the information
items found in the <b class="infoset-property">[children]</b>
property.</p>
                           <p>For each element, processing instruction, and comment found in the
<b class="infoset-property">[children]</b> property, a corresponding
element, processing instruction, or comment node is constructed
and that sequence of nodes is used as the value of the <b class="dm-node-prop">children</b>
property.</p>
                           <p>If present among the
<b class="infoset-property">[children]</b>, the
<b class="info-item">document type declaration information item</b>
is ignored.
</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">unparsed-entities</b></dt>
                        <dd>
                           <p>If the <b class="infoset-property">[unparsed entities]</b> property is
present and is not the empty set, the values of the
<b class="info-item">unparsed entity information items</b> must be used
to support the <span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span> and
<span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span> accessors.</p>
                           <p>The internal structure of the values of the
<b class="dm-node-prop">unparsed-entities</b> property is implementation
defined.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">string-value</b></dt>
                        <dd>
                           <p>The concatenation of the string-values of all its text node descendants in
document order. If the document has no such descendants, the zero-length
string.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">typed-value</b></dt>
                        <dd>
                           <p>The <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> of the node as an
<code>xs:untypedAtomic</code> value.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">document-uri</b></dt>
                        <dd>
                           <p>The <b class="dm-node-prop">document-uri</b> property
holds the absolute URI for the resource from which the document node
was constructed, if one is available and can be made absolute. For
example, if a collection of documents is returned by the
<span class="function">fn:collection</span> function, the
<b class="dm-node-prop">document-uri</b> property
may serve to distinguish between them even though each has the same
<b class="dm-node-prop">base-uri</b> property.</p>
                           <p>If the <b class="dm-node-prop">document-uri</b> is not
the empty sequence, then the following constraint must hold: the node returned
by evaluating <code>fn:doc()</code> with the
<b class="dm-node-prop">document-uri</b> as its argument must
return the document node that provided the value of the 
<b class="dm-node-prop">document-uri</b> property.</p>
                           <p>In other words, for any document node <code>$arg</code>, either
<code>fn:document-uri($arg)</code> must return the empty sequence or
<code>fn:doc(fn:document-uri($arg))</code> must return <code>$arg</code>.
</p>
                        </dd>
                     </dl>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="const-psvi-document"></a>6.6.1.4 <a href="#const-psvi-document" style="text-decoration: none">Construction from a PSVI</a></h5>
                     <p>Construction from a PSVI is identical to construction
from the Infoset.</p>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="infoset-mapping-document"></a>6.6.1.5 <a href="#infoset-mapping-document" style="text-decoration: none">Infoset Mapping</a></h5>
                     <p>A document node maps to a
<b class="info-item">document information item</b>. The mapping fails
and produces no value if the document node contains text node children
that do not consist entirely of white space or if the document node contains
more than one element node child.</p>
                     <p>The following properties are specified by this mapping:</p>
                     <dl>
                        <dt class="label"><b class="infoset-property">[children]</b></dt>
                        <dd>
                           <p>A list of information items obtained by processing each of the
<span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span> in order and mapping each to
the appropriate information item(s).
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[document element]</b></dt>
                        <dd>
                           <p>The <b class="info-item">element information item</b> that is among the
<b class="infoset-property">[children]</b>.
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[unparsed entities]</b></dt>
                        <dd>
                           <p>An unordered set of <b class="info-item">unparsed entity information item</b>s
constructed from the
<b class="dm-node-prop">unparsed-entities</b>.
</p>
                           <p>Each unparsed entity maps to an <b class="info-item">unparsed entity
information item</b>. The
following properties are specified by this mapping:</p>
                           <dl>
                              <dt class="label"><b class="infoset-property">[name]</b></dt>
                              <dd>
                                 <p>The name of the entity.</p>
                              </dd>
                              <dt class="label"><b class="infoset-property">[system identifier]</b></dt>
                              <dd>
                                 <p>The system identifier of the entity.</p>
                              </dd>
                              <dt class="label"><b class="infoset-property">[public identifier]</b></dt>
                              <dd>
                                 <p>The public identifier of the entity.</p>
                              </dd>
                              <dt class="label"><b class="infoset-property">[declaration base URI]</b></dt>
                              <dd>
                                 <p>Implementation defined. In many cases, the 
<b class="dm-node-prop">document-uri</b>
is the correct answer and implementations <span class="verb">must</span>
use this value if they have no better information. Implementations that
keep track of the original
<b class="infoset-property">[declaration base URI]</b>
for entities should use that value.</p>
                              </dd>
                           </dl>
                           <p>The following properties of the <b class="info-item">unparsed entity
information item</b> have no value:
<b class="infoset-property">[notation name]</b>,
<b class="infoset-property">[notation]</b>.</p>
                        </dd>
                     </dl>
                     <p>The following properties of the <b class="info-item">document
information item</b> have no value:
<b class="infoset-property">[notations]</b>
<b class="infoset-property">[character encoding scheme]</b>
<b class="infoset-property">[standalone]</b>
<b class="infoset-property">[version]</b>
<b class="infoset-property">[all declarations processed]</b>.</p>
                  </div>
               </div>
               <div class="div3">
                  
                  <h4><a id="ElementNode"></a>6.6.2 <a href="#ElementNode" style="text-decoration: none">Element nodes</a></h4>
                  <div class="div4">
                     
                     <h5><a id="ElementNodeOverview"></a>6.6.2.1 <a href="#ElementNodeOverview" style="text-decoration: none">Overview</a></h5>
                     <p>Element nodes encapsulate XML elements. Elements have the following properties:</p>
                     <ul>
                        <li>
                           <p><b class="dm-node-prop">base-uri</b>, possibly empty.
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">node-name</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">parent</b>, possibly empty
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">schema-type</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">children</b>, possibly empty
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">attributes</b>, possibly empty
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">namespaces</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">nilled</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">string-value</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">typed-value</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">is-id</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">is-idrefs</b>
</p>
                        </li>
                     </ul>
                     <p>Element nodes <span class="verb">must</span> satisfy the following constraints.</p>
                     <ol class="enumar">
                        <li>
                           <p>The <b class="dm-node-prop">children</b> <span class="verb">must</span> consist exclusively
of element, processing instruction, comment, and text nodes if it is not empty.
attribute, namespace, and document nodes can never appear as children
</p>
                        </li>
                        <li>
                           <p>The attribute nodes of an element <span class="verb">must</span> have distinct
<code>xs:QName</code>s.
</p>
                        </li>
                        <li>
                           <p>If a node <em>N</em> is among the <b class="dm-node-prop">children</b> of an element
<em>E</em>, then the <b class="dm-node-prop">parent</b> of <em>N</em>
<span class="verb">must</span> be <em>E</em>.
</p>
                        </li>
                        <li>
                           <p>Exclusive of attribute and namespace nodes, if a node
<em>N</em> has a <b class="dm-node-prop">parent</b> element <em>E</em>, then
<em>N</em> <span class="verb">must</span> be among the <b class="dm-node-prop">children</b> of
<em>E</em>. (Attribute and namespace nodes have a parent, but
they do not appear among the children of their parent.)</p>
                           <p>The data model permits element nodes without parents
(to represent partial results during expression processing, for example).
Such element nodes <span class="verb">must not</span>
appear among the <b class="dm-node-prop">children</b> of any other node.</p>
                           <p>An element may not be its own child or its own parent.</p>
                        </li>
                        <li>
                           <p>If an attribute node <em>A</em> is among the <b class="dm-node-prop">attributes</b>
of an element <em>E</em>, then the <b class="dm-node-prop">parent</b> of <em>A</em>
<span class="verb">must</span> be <em>E</em>.
</p>
                        </li>
                        <li>
                           <p>If an attribute node <em>A</em> has a
<b class="dm-node-prop">parent</b> element <em>E</em>,
then <em>A</em> <span class="verb">must</span> be among the <b class="dm-node-prop">attributes</b>
of <em>E</em>.</p>
                           <p>The data model permits attribute nodes without parents.
Such attribute nodes <span class="verb">must not</span>
appear among the <b class="dm-node-prop">attributes</b> of any element node.
</p>
                        </li>
                        <li>
                           <p>If a namespace node <em>N</em> is among the namespaces
of an element <em>E</em>, then the parent of <em>N</em>
<span class="verb">must</span> be <em>E</em>.</p>
                        </li>
                        <li>
                           <p>If a namespace node <em>N</em> has a
parent element <em>E</em>, then <em>N</em> <span class="verb">must</span>
be among the <b class="dm-node-prop">namespaces</b> of <em>E</em>.</p>
                           <p>The data model permits namespace nodes without parents. Such
namespace nodes <span class="verb">must not</span> appear among the
<b class="dm-node-prop">namespaces</b> of any element node.  This constraint
is irrelevant for implementations that do not support namespace nodes.
</p>
                        </li>
                        <li>
                           <p>If the <span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span> of an element node is
<code>xs:untyped</code>, then the <span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span> of all its
descendant elements <span class="verb">must</span> also be <code>xs:untyped</code> and the
<span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span> of all its attribute nodes <span class="verb">must</span> be
<code>xs:untypedAtomic</code>.</p>
                        </li>
                        <li>
                           <p>If the <span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span> of an element node is
<code>xs:untyped</code>, then the
<b class="dm-node-prop">nilled</b> property <span class="verb">must</span> be <code>false</code>.
</p>
                        </li>
                        <li>
                           <p>If the <b class="dm-node-prop">nilled</b> property is <code>true</code>, then the
<b class="dm-node-prop">children</b> property <span class="verb">must not</span> contain
element nodes or text nodes.</p>
                        </li>
                        <li>
                           <p>For every <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a>
that appears in the <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span> of the element,
in the <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span> of any attribute node among the
<b class="dm-node-prop">attributes</b> of the element, or in any value of type
<code>xs:QName</code> or <code>xs:NOTATION</code> (or any type derived
from those types) that appears in the typed-value of the element or
the typed-value of any of its attributes, if the expanded QName has a non-empty URI, then
there <span class="verb">must</span> be a prefix binding for this URI among the
<b class="dm-node-prop">namespaces</b> of this
element node.</p>
                           <p>If any of the expanded QNames has an empty URI, then there
<span class="verb">must not</span> be any binding among the 
<b class="dm-node-prop">namespaces</b> of this
element node which binds the empty prefix to a URI.</p>
                        </li>
                        <li>
                           <p>Every element must include a namespace node and/or namespace binding
for the prefix <code>xml</code> bound to the URI
<code>http://www.w3.org/XML/1998/namespace</code> and there must be no other
prefix bound to that URI.</p>
                        </li>
                        <li>
                           <p>The <b class="dm-node-prop">string-value</b> property of an element node must
be the concatenation of the <b class="dm-node-prop">string-value</b>s of all its
text node descendants in document order or,
if the element has no such descendants, the zero-length string.
</p>
                        </li>
                     </ol>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="ElementNodeAccessors"></a>6.6.2.2 <a href="#ElementNodeAccessors" style="text-decoration: none">Accessors</a></h5>
                     <dl>
                        <dt class="label"><span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">attributes</b> property. The order of
attribute nodes is stable but implementation dependent.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">base-uri</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">children</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">is-id</b>
property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">is-idrefs</b>
property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">namespaces</b> property as a sequence of
namespace nodes. The order of
namespace nodes is stable but implementation dependent.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">nilled</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span></dt>
                        <dd>
                           <p>Returns “<code>element</code>”.</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">node-name</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">parent</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">string-value</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">schema-type</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">typed-value</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                     </dl>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="const-infoset-element"></a>6.6.2.3 <a href="#const-infoset-element" style="text-decoration: none">Construction from an Infoset</a></h5>
                     <p>The <b class="info-item">element information items</b> are
required. An element node is constructed for each
<b class="info-item">element information item</b>.</p>
                     <p>The following infoset properties are required:
<b class="infoset-property">[namespace name]</b>,
<b class="infoset-property">[local name]</b>,
<b class="infoset-property">[children]</b>,
<b class="infoset-property">[attributes]</b>,
<b class="infoset-property">[in-scope namespaces]</b>,
<b class="infoset-property">[base URI]</b>, and
<b class="infoset-property">[parent]</b>.</p>
                     <p>Element node properties are derived from the infoset as
follows:</p>
                     <dl>
                        <dt class="label"><b class="dm-node-prop">base-uri</b></dt>
                        <dd>
                           <p>The value of the <b class="infoset-property">[base URI]</b>
property, if available.
Note that the base URI property, if available,
is always an absolute URI
(if an absolute URI can be computed) though it may contain Unicode
characters that are not allowed in URIs. These characters, if they
occur, are present in the <b class="dm-node-prop">base-uri</b> property and will have to
be encoded and escaped by the application to obtain a URI suitable for
retrieval, if retrieval is required.
</p>
                           <p>In practice a <b class="infoset-property">[base URI]</b>
is not always known. In this case the value of the
<b class="dm-node-prop">base-uri</b> property of the document node will be the empty
sequence. This is not intrinsically an error, though it may cause some
operations that depend on the base URI to fail.
</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">node-name</b></dt>
                        <dd>
                           <p>An <code>xs:QName</code> constructed from the
<b class="infoset-property">[prefix]</b>,
<b class="infoset-property">[local name]</b>,
and
<b class="infoset-property">[namespace name]</b> properties.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">parent</b></dt>
                        <dd>
                           <p>The node that corresponds to the
value of the <b class="infoset-property">[parent]</b> property or
the empty sequence if there is no parent.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">schema-type</b></dt>
                        <dd>
                           <p>All element nodes constructed from an infoset have the type
<code>xs:untyped</code>.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">children</b></dt>
                        <dd>
                           <p>The sequence of nodes constructed from the information
items found in the <b class="infoset-property">[children]</b>
property.</p>
                           <p>For
each element, processing instruction, comment, and maximal sequence of
adjacent <b class="info-item">character information items</b> found in the
<b class="infoset-property">[children]</b> property, a corresponding
element, processing instruction, comment, or text node is constructed
and that sequence of nodes is used as the value of the <b class="dm-node-prop">children</b>
property.</p>
                           <p>Because the data model requires
that all general entities be expanded, there will never be
<b class="info-item">unexpanded entity reference information item</b>
children.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">attributes</b></dt>
                        <dd>
                           <p>A set of attribute nodes constructed from the
<b class="info-item">attribute information items</b>
appearing in the <b class="infoset-property">[attributes]</b>
property. This includes all of the “special” attributes
(<code>xml:lang</code>, <code>xml:space</code>, <code>xsi:type</code>, etc.)
but does not include namespace declarations (because they are not attributes).</p>
                           <p>Default and fixed attributes provided by the DTD
are added to the <b class="infoset-property">[attributes]</b> and are
therefore included in the data model <b class="dm-node-prop">attributes</b> of an element.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">namespaces</b></dt>
                        <dd>
                           <p>A set of namespace nodes constructed from the
<b class="info-item">namespace information items</b>
appearing in the <b class="infoset-property">[in-scope namespaces]</b>
property. Implementations that do not support namespace nodes may simply
preserve the relevant bindings in this property.</p>
                           <p>Implementations <span class="verb">may</span> ignore
<b class="info-item">namespace information items</b> for
namespaces which are not known to be used. A namespace is known to be
used if:</p>
                           <ul>
                              <li>
                                 <p>It appears in the <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a>
of the <b class="dm-node-prop">node-name</b> of the element.</p>
                              </li>
                              <li>
                                 <p>It appears in the <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a>
of the <b class="dm-node-prop">node-name</b> of any of the element’s attributes.</p>
                              </li>
                           </ul>
                           <p>Note: applications may rely on namespaces that are not known to be used,
for example when QNames are used in content and that content does not
have a type of <code>xs:QName</code> Such applications may have difficulty
processing data models where some namespaces have been ignored.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">nilled</b></dt>
                        <dd>
                           <p>All element nodes constructed from an infoset have a
<b class="dm-node-prop">nilled</b> property of “<em>false</em> ”.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">string-value</b></dt>
                        <dd>
                           <p>The <b class="dm-node-prop">string-value</b> is constructed from the
<b class="info-item">character information item</b>
<b class="infoset-property">[children]</b>
of the
element and all its descendants. The precise rules for selecting
significant
<b class="info-item">character information items</b> and
constructing characters from them is described in
<a href="#const-infoset-text"><b>6.6.7.3 Construction from an Infoset</b></a> of
<a href="#TextNode"><b>6.6.7 Text nodes</b></a>.</p>
                           <p>This process is equivalent to concatenating the
<span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span>s
of all of the text node descendants of
the resulting element node.</p>
                           <p>If the element has no such descendants, the <b class="dm-node-prop">string-value</b>
is the empty string.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">typed-value</b></dt>
                        <dd>
                           <p>The <b class="dm-node-prop">string-value</b> as an <code>xs:untypedAtomic</code>.
</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">is-id</b></dt>
                        <dd>
                           <p>All element nodes constructed from an infoset have a
<b class="dm-node-prop">is-id</b> property of
“<em>false</em> ”.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">is-idrefs</b></dt>
                        <dd>
                           <p>All element nodes constructed from an infoset have a
<b class="dm-node-prop">is-idrefs</b> property of
“<em>false</em> ”.</p>
                        </dd>
                     </dl>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="const-psvi-element"></a>6.6.2.4 <a href="#const-psvi-element" style="text-decoration: none">Construction from a PSVI</a></h5>
                     <p>The following element node properties are affected by PSVI properties.</p>
                     <dl>
                        <dt class="label"><b class="dm-node-prop">schema-type</b></dt>
                        <dd>
                           <p>The <b class="dm-node-prop">schema-type</b> is
determined as described in <a href="#PSVI2NodeTypes"><b>6.5.3.1.1 Element and Attribute Node Types</b></a>.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">children</b></dt>
                        <dd>
                           <p>The sequence of nodes constructed from the information
items found in the <b class="infoset-property">[children]</b>
property.</p>
                           <p>For each element, processing instruction, comment, and maximal
sequence of adjacent <b class="info-item">character information items</b> found in the
<b class="infoset-property">[children]</b> property, a corresponding
element, processing instruction, comment, or text node is constructed
and that sequence of nodes is used as the value of the <b class="dm-node-prop">children</b>
property.</p>
                           <p>For elements with schema simple types, or complex types with simple content,
if the <b class="infoset-property">[schema normalized value]</b>
PSVI property exists, the processor
<span class="verb">may</span> use a sequence of nodes
containing the processing instruction and comment nodes corresponding
to the
<b class="info-item">processing instruction</b> and
<b class="info-item">comment information items</b> found in the
<b class="infoset-property">[children]</b>
property, plus an optional single text node whose string value is
the <b class="infoset-property">[schema normalized value]</b> for
the <b class="dm-node-prop">children</b> property.
If the <b class="infoset-property">[schema normalized value]</b> is
the empty string, the text node <span class="verb">must not</span> be
present, otherwise it <span class="verb">must</span> be present.

The relative order of Processing Instruction and comment nodes must
be preserved, but the position of the text node, if it is present, among
them is implementation defined.</p>
                           <p>The effect of the above rules is that where a fixed or default
value for an element is defined in the schema, and the element takes
this default value, a text node will be created to contain the value,
even though there are no character information items representing the
value in the PSVI. The position of this text node relative to any
comment or processing instruction children is
implementation-dependent.</p>
                           <p><a href="#xmlschema-1">[Schema Part 1]</a> also permits an element with mixed
content to take a default or fixed value (which will always be a
simple value), but it is unclear how such
a defaulted value is represented in the PSVI. Implementations
therefore <span class="verb">may</span> represent such a default value by
creating a text node, but are not required to do so.</p>
                           <div class="note">
                              <p class="prefix"><b>Note:</b></p>
                              <p>Section 3.3.1 in
<a href="#xmlschema11-1">[Schema 1.1 Part 1]</a> clarifies the PSVI
contributions of element default or fixed values in mixed content:
additional character information items are not added to the PSVI.
</p>
                           </div>
                           <p>Because the data model requires
that all general entities be expanded, there will never be
<b class="info-item">unexpanded entity reference information item</b>
children.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">attributes</b></dt>
                        <dd>
                           <p>A set of attribute nodes constructed from the
<b class="info-item">attribute information items</b>
appearing in the <b class="infoset-property">[attributes]</b>
property. This includes all of the “special” attributes
(<code>xml:lang</code>, <code>xml:space</code>, <code>xsi:type</code>, etc.)
but does not include namespace declarations (because they are not attributes).</p>
                           <p>Default and fixed attributes provided by XML Schema processing
are added to the <b class="infoset-property">[attributes]</b> and are
therefore included in the data model <b class="dm-node-prop">attributes</b> of an element.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">namespaces</b></dt>
                        <dd>
                           <p>A set of namespace nodes constructed from the
<b class="info-item">namespace information items</b>
appearing in the <b class="infoset-property">[in-scope namespaces]</b>
property. Implementations that do not support namespace nodes may simply
preserve the relevant bindings in this property.</p>
                           <p>Implementations <span class="verb">may</span> ignore
<b class="info-item">namespace information items</b> for
namespaces which are not known to be used. A namespace is known to be
used if:</p>
                           <ul>
                              <li>
                                 <p>It appears in the <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a>
of the <b class="dm-node-prop">node-name</b> of the element.</p>
                              </li>
                              <li>
                                 <p>It appears in the <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a>
of the <b class="dm-node-prop">node-name</b> of any of the element’s attributes.</p>
                              </li>
                              <li>
                                 <p>It appears in the <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a>
of any values of type <code>xs:QName</code> that appear among the
element’s children or the typed values of its attributes.</p>
                              </li>
                           </ul>
                           <p>Note: applications may rely on namespaces that are not known to be used,
for example when QNames are used in content and that content does not
have a type of <code>xs:QName</code> Such applications may have difficulty
processing data models where some namespaces have been ignored.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">nilled</b></dt>
                        <dd>
                           <p>If the <b class="infoset-property">[validity]</b> property exists on
an information item and is “<em>valid</em> ” then if
the <b class="infoset-property">[nil]</b> property exists and is true,
then the <b class="dm-node-prop">nilled</b> property is “<em>true</em> ”.
In all other cases, including all cases where schema validity assessment was
not attempted or did not succeed, the
<b class="dm-node-prop">nilled</b> property is “<em>false</em> ”.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">string-value</b></dt>
                        <dd>
                           <p>The string-value is calculated as follows:</p>
                           <ul>
                              <li>
                                 <p>If the element is empty: its string value is the zero length string.
</p>
                              </li>
                              <li>
                                 <p>If the element has a type of <code>xs:untyped</code>, a complex
type with element-only content, or a complex type with mixed content: its
string-value is the concatenation of the <b class="dm-node-prop">string-value</b>s of all its
text node descendants in document order.
</p>
                              </li>
                              <li>
                                 <p>If the element has a simple type or a complex type with simple content:
its string-value is the <b class="infoset-property">[schema normalized value]</b>
of the node.
</p>
                              </li>
                           </ul>
                           <p>If an implementation stores only the typed value of an element, it
may use any valid lexical representation of the typed value for the
<b class="dm-node-prop">string-value</b> property.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">typed-value</b></dt>
                        <dd>
                           <p>The typed-value is calculated as follows:</p>
                           <ul>
                              <li>
                                 <p>If the element is of type <code>xs:untyped</code>, its typed-value
is its <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> as an <code>xs:untypedAtomic</code>.
</p>
                              </li>
                              <li>
                                 <p>If the element has a complex type with empty content, its typed-value
is the empty sequence.
</p>
                              </li>
                              <li>
                                 <p>If the element has a simple type or a complex type with simple content:
its typed value is computed as described in
<a href="#TypedValueDetermination"><b>6.5.3.1.2 Typed Value Determination</b></a>.
The result is a sequence of zero or more atomic items. The
relationship between the type-name, typed-value, and string-value of an
element node is consistent with XML Schema validation.
</p>
                                 <p>Note that in the case of dates and times, the timezone is preserved
as described in <a href="#dates-and-times"><b>5.3 Dates and Times</b></a>, and
in the case of <code>xs:QName</code>s and <code>xs:NOTATION</code>s,
the prefix is preserved as described in
<a href="#qnames-and-notations"><b>5.4 QNames and NOTATIONS</b></a>.</p>
                              </li>
                              <li>
                                 <p>If the element has a complex type with mixed content
(including <code>xs:anyType</code>), its typed-value
is its <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> as an <code>xs:untypedAtomic</code>.
</p>
                              </li>
                              <li>
                                 <p>Otherwise, the element must be a complex type with element-only content.
The typed-value of such an element is <a title="absent" class="termref" href="#dt-absent">absent</a>.
Attempting to access this property with the
<span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span> accessor always raises an error.
</p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">is-id</b></dt>
                        <dd>
                           <p>If the element has a complex type with element-only content,
the <b class="dm-node-prop">is-id</b>
property is <code>false</code>.
Otherwise, if the typed-value of the element consists of exactly
one atomic item and that value is of type <code>xs:ID</code>,
or a type derived from <code>xs:ID</code>,
the <b class="dm-node-prop">is-id</b>
property is <code>true</code>, otherwise it is <code>false</code>.</p>
                           <div class="note">
                              <p class="prefix"><b>Note:</b></p>
                              <p>This means that in the case of a type constructed by list
from <code>xs:ID</code>, the ID is recognized provided that the list
is of length one. A type constructed as a union
involving <code>xs:ID</code> is recognized provided the actual value
is of type <code>xs:ID</code>.</p>
                           </div>
                           <div class="note">
                              <p class="prefix"><b>Note:</b></p>
                              <p>The element that is marked with the
<b class="dm-node-prop">is-id</b> property, and which will
therefore be retrieved by the fn:id function, is the node whose typed
value contains the <code>xs:ID</code> value.
This node is a child of the element node that, according to XML Schema,
is uniquely identified by this ID.</p>
                           </div>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">is-idrefs</b></dt>
                        <dd>
                           <p>If the element has a complex type with element-only content, the
<b class="dm-node-prop">is-idrefs</b>
property is <code>false</code>. 
Otherwise, if any of the atomic items in the typed-value of the
element is of type <code>xs:IDREF</code> or <code>xs:IDREFS</code>, or
a type derived from one of those types, the
<b class="dm-node-prop">is-idrefs</b>
property is <code>true</code>, otherwise it is <code>false</code>.
</p>
                        </dd>
                     </dl>
                     <p>All other properties have values that are consistent with construction
from an infoset.</p>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="infoset-mapping-element"></a>6.6.2.5 <a href="#infoset-mapping-element" style="text-decoration: none">Infoset Mapping</a></h5>
                     <p>An element node maps to an <b class="info-item">element information item</b>.</p>
                     <p>The following properties are specified by this mapping:</p>
                     <dl>
                        <dt class="label"><b class="infoset-property">[namespace name]</b></dt>
                        <dd>
                           <p>The namespace name of the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[local name]</b></dt>
                        <dd>
                           <p>The local part of the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[prefix]</b></dt>
                        <dd>
                           <p>The prefix associated with the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[children]</b></dt>
                        <dd>
                           <p>A list of information items obtained by processing each of the
<span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span> in order and mapping each to
the appropriate information item(s).
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[attributes]</b></dt>
                        <dd>
                           <p>An unordered set of information items obtained by processing each of the
<span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span> and mapping each to
the appropriate information item(s).
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[in-scope namespaces]</b></dt>
                        <dd>
                           <p>An unordered set of <b class="info-item">namespace information items</b> constructed from the
<b class="dm-node-prop">namespaces</b>.
</p>
                           <p>Each in-scope namespace maps to a <b class="info-item">namespace information item</b>. The
following properties are specified by this mapping:</p>
                           <dl>
                              <dt class="label"><b class="infoset-property">[prefix]</b></dt>
                              <dd>
                                 <p>The prefix associated with the namespace.
</p>
                              </dd>
                              <dt class="label"><b class="infoset-property">[namespace name]</b></dt>
                              <dd>
                                 <p>The URI associated with the namespace.
</p>
                              </dd>
                           </dl>
                        </dd>
                        <dt class="label"><b class="infoset-property">[base URI]</b></dt>
                        <dd>
                           <p>The value of <span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span>.
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[parent]</b></dt>
                        <dd>
                           <ul>
                              <li>
                                 <p>If this node is the root of the infoset mapping operation,
<em>unknown</em>.</p>
                              </li>
                              <li>
                                 <p>If this node has a parent, the information item that corresponds
to the node returned by <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>.
</p>
                              </li>
                              <li>
                                 <p>Otherwise <em>no value</em>.
</p>
                              </li>
                           </ul>
                        </dd>
                     </dl>
                     <p>The following property has no value:
<b class="infoset-property">[namespace attributes]</b>.</p>
                  </div>
               </div>
               <div class="div3">
                  
                  <h4><a id="AttributeNode"></a>6.6.3 <a href="#AttributeNode" style="text-decoration: none">Attribute nodes</a></h4>
                  <div class="div4">
                     
                     <h5><a id="AttributeNodeOverview"></a>6.6.3.1 <a href="#AttributeNodeOverview" style="text-decoration: none">Overview</a></h5>
                     <p>Attribute nodes represent XML attributes. Attributes have the
following properties:</p>
                     <ul>
                        <li>
                           <p><b class="dm-node-prop">node-name</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">parent</b>, possibly empty
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">schema-type</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">string-value</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">typed-value</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">is-id</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">is-idrefs</b>
</p>
                        </li>
                     </ul>
                     <p>Attribute nodes <span class="verb">must</span> satisfy the following constraints.</p>
                     <ol class="enumar">
                        <li>
                           <p>If an attribute node <em>A</em> is among the <b class="dm-node-prop">attributes</b>
of an element <em>E</em>, then the <b class="dm-node-prop">parent</b> of <em>A</em>
<span class="verb">must</span> be <em>E</em>.
</p>
                        </li>
                        <li>
                           <p>If a attribute node <em>A</em> has a parent element
<em>E</em>, then <em>A</em> <span class="verb">must</span> be among
the <b class="dm-node-prop">attributes</b> of <em>E</em>.</p>
                           <p>The data model permits attribute nodes without parents
(to represent partial results during expression processing, for example).
Such attributes <span class="verb">must not</span>
appear among the <b class="dm-node-prop">attributes</b> of any element node.
</p>
                        </li>
                        <li>
                           <p>In the node-name of an attribute node, if a namespace URI is
present then a prefix <span class="verb">must</span> also be present.
</p>
                        </li>
                     </ol>
                     <p>For convenience, the element node that owns this attribute is called
its “parent” even though an attribute node is not a “child” of its
parent element. </p>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="AttributeNodeAccessors"></a>6.6.3.2 <a href="#AttributeNodeAccessors" style="text-decoration: none">Accessors</a></h5>
                     <dl>
                        <dt class="label"><span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span></dt>
                        <dd>
                           <p>If the attribute has a parent, returns the value of the
<span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span> of its parent; otherwise it returns
the empty sequence.</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">is-id</b>
property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">is-idrefs</b>
property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span></dt>
                        <dd>
                           <p>Returns “<code>attribute</code>”.</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">node-name</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">parent</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">string-value</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">schema-type</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">typed-value</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                     </dl>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="const-infoset-attribute"></a>6.6.3.3 <a href="#const-infoset-attribute" style="text-decoration: none">Construction from an Infoset</a></h5>
                     <p>The <b class="info-item">attribute information items</b> are
required. An attribute node is constructed for each
<b class="info-item">attribute information item</b>.</p>
                     <p>The following infoset properties are required:
<b class="infoset-property">[namespace name]</b>,
<b class="infoset-property">[local name]</b>,
<b class="infoset-property">[normalized value]</b>,
<b class="infoset-property">[attribute type]</b>, and
<b class="infoset-property">[owner element]</b>.</p>
                     <p>Attribute node properties are derived from the infoset as
follows:</p>
                     <dl>
                        <dt class="label"><b class="dm-node-prop">node-name</b></dt>
                        <dd>
                           <p>An <code>xs:QName</code> constructed from the
<b class="infoset-property">[prefix]</b>,
<b class="infoset-property">[local name]</b>,
and
<b class="infoset-property">[namespace name]</b> properties.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">parent</b></dt>
                        <dd>
                           <p>The element node that corresponds to the value of the
<b class="infoset-property">[owner element]</b> property
or the empty sequence if there is no owner.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">schema-type</b></dt>
                        <dd>
                           <p>The value <code>xs:untypedAtomic</code>.
</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">string-value</b></dt>
                        <dd>
                           <p>The <b class="infoset-property">[normalized value]</b> of the
attribute.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">typed-value</b></dt>
                        <dd>
                           <p>The attribute’s typed-value
is its <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> as an <code>xs:untypedAtomic</code>.
</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">is-id</b></dt>
                        <dd>
                           <p>If the attribute is named <code>xml:id</code> and its
<b class="infoset-property">[attribute type]</b> property does not
have the value <code>ID</code>, then <a href="#xml-id">[xml:id]</a> processing
is performed. This will ensure that the value does have the type <code>ID</code>
and that it is properly normalized. If an error is encountered during
<code>xml:id</code> processing, an implementation <span class="verb">may</span> raise a dynamic error.
The
<b class="dm-node-prop">is-id</b> property is always <code>true</code> for
attributes named <code>xml:id</code>.</p>
                           <p>If the <b class="infoset-property">[attribute type]</b> property
has the value <code>ID</code>, <code>true</code>, otherwise <code>false</code>.
</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">is-idrefs</b></dt>
                        <dd>
                           <p>If the <b class="infoset-property">[attribute type]</b> property
has the value <code>IDREF</code> or <code>IDREFS</code>,
<code>true</code>, otherwise <code>false</code>.
</p>
                        </dd>
                     </dl>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="const-psvi-attribute"></a>6.6.3.4 <a href="#const-psvi-attribute" style="text-decoration: none">Construction from a PSVI</a></h5>
                     <p>The following attribute node properties are affected by PSVI properties.</p>
                     <dl>
                        <dt class="label"><b class="dm-node-prop">string-value</b></dt>
                        <dd>
                           <ul>
                              <li>
                                 <p>The <b class="infoset-property">[schema normalized value]</b>
PSVI property if that exists.
</p>
                              </li>
                              <li>
                                 <p>Otherwise, the <b class="infoset-property">[normalized value]</b> property.
</p>
                              </li>
                           </ul>
                           <p>If an implementation stores only the typed value of an attribute, it
may use any valid lexical representation of the typed value for the
<b class="dm-node-prop">string-value</b> property.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">schema-type</b></dt>
                        <dd>
                           <p>The <b class="dm-node-prop">schema-type</b> is
determined as described in <a href="#PSVI2NodeTypes"><b>6.5.3.1.1 Element and Attribute Node Types</b></a>.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">typed-value</b></dt>
                        <dd>
                           <p>The typed-value is calculated as follows:</p>
                           <ul>
                              <li>
                                 <p>If the attribute is of type <code>xs:untypedAtomic</code>: its typed-value
is its <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> as an <code>xs:untypedAtomic</code>.
</p>
                              </li>
                              <li>
                                 <p>Otherwise, a sequence of zero or more atomic items as described in 
<a href="#TypedValueDetermination"><b>6.5.3.1.2 Typed Value Determination</b></a>. The relationship between the 
type-name, typed-value, and string-value of an attribute node is 
consistent with XML Schema validation.</p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">is-id</b></dt>
                        <dd>
                           <p>If the attribute is named <code>xml:id</code> and
its <b class="infoset-property">[attribute type]</b> property
does not have the value <code>xs:ID</code> or a type derived from <code>xs:ID</code>,
then <a href="#xml-id">[xml:id]</a> processing is performed.
This will ensure that the value does have the type <code>xs:ID</code>
and that it is properly normalized.
If an error is encountered during <code>xml:id</code> processing,
an implementation <span class="verb">may</span> raise a dynamic error.
The <b class="dm-node-prop">is-id</b>
property is always true for attributes named <code>xml:id</code>.</p>
                           <p>Otherwise, if the typed-value of the attribute consists of
exactly one atomic item and that value is of type <code>xs:ID</code>,
or a type derived from <code>xs:ID</code>,
the <b class="dm-node-prop">is-id</b>
property is <code>true</code>, otherwise it is <code>false</code>.</p>
                           <div class="note">
                              <p class="prefix"><b>Note:</b></p>
                              <p>This means that in the case of a type constructed by list
from <code>xs:ID</code>, the ID is recognized provided that the list
is of length one. A type constructed as a union
involving <code>xs:ID</code> is recognized provided the actual value
is of type <code>xs:ID</code>.</p>
                           </div>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">is-idrefs</b></dt>
                        <dd>
                           <p>If any of the atomic items in the typed-value of the
attribute is of type <code>xs:IDREF</code> or <code>xs:IDREFS</code>, or
a type derived from one of those types, the
<b class="dm-node-prop">is-idrefs</b>
property is <code>true</code>, otherwise it is <code>false</code>.
</p>
                           <div class="note">
                              <p class="prefix"><b>Note:</b></p>
                              <p>This rule means that a
<span>node whose type is</span>
constructed by list with an item type of <code>xs:IDREF</code>
(or a type derived from <code>xs:IDREF</code>)
<span>may have</span> the
<b class="dm-node-prop">is-idrefs</b> property,
whether or not the list type is named <code>xs:IDREFS</code> or is derived from
<code>xs:IDREFS</code>. Because union types are allowed, it also means that an
element or attribute with the
<b class="dm-node-prop">is-idrefs</b> property can contain atomic
items of type <code>xs:IDREF</code> alongside values of other types.
<span>A node
has the
<b class="dm-node-prop">is-idrefs</b> property only if the typed value contains at least
one atomic item that is an instance of <code>xs:IDREF</code>;
it is not sufficient that the type annotation permits such values.</span>
</p>
                           </div>
                        </dd>
                     </dl>
                     <p>All other properties have values that are consistent with construction
from an infoset.</p>
                     <p>Note: attributes from the XML Schema instance namespace,
“<code>http://www.w3.org/2001/XMLSchema-instance</code>”
(<code>xsi:schemaLocation</code>,
<code>xsi:type</code>, etc.), appear as ordinary attributes in the data model.
</p>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="infoset-mapping-attribute"></a>6.6.3.5 <a href="#infoset-mapping-attribute" style="text-decoration: none">Infoset Mapping</a></h5>
                     <p>An attribute node maps to an <b class="info-item">attribute information item</b>.</p>
                     <p>The following properties are specified by this mapping:</p>
                     <dl>
                        <dt class="label"><b class="infoset-property">[namespace name]</b></dt>
                        <dd>
                           <p>The namespace name of the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[local name]</b></dt>
                        <dd>
                           <p>The local part of the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[prefix]</b></dt>
                        <dd>
                           <p>The prefix associated with the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[normalized value]</b></dt>
                        <dd>
                           <p>The value of <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span>.
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[owner element]</b></dt>
                        <dd>
                           <ul>
                              <li>
                                 <p>If this node has a parent, the information item that corresponds
to the node returned by <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>.
</p>
                              </li>
                              <li>
                                 <p>Otherwise <em>no value</em>.
</p>
                              </li>
                           </ul>
                        </dd>
                     </dl>
                     <p>The following properties have no value:
<b class="infoset-property">[specified]</b>
<b class="infoset-property">[attribute type]</b>
<b class="infoset-property">[references]</b>.</p>
                  </div>
               </div>
               <div class="div3">
                  
                  <h4><a id="NamespaceNode"></a>6.6.4 <a href="#NamespaceNode" style="text-decoration: none">Namespace nodes</a></h4>
                  <div class="div4">
                     
                     <h5><a id="NamespaceNodeOverview"></a>6.6.4.1 <a href="#NamespaceNodeOverview" style="text-decoration: none">Overview</a></h5>
                     <p>Each namespace node represents the binding of a namespace URI to a 
namespace prefix or to the default namespace. Implementations that do not 
use namespace nodes may represent the same information using the 
<b class="dm-node-prop">namespaces</b> property of
an element node.
Namespaces have the
following properties:</p>
                     <ul>
                        <li>
                           <p><b class="dm-node-prop">prefix</b>, possibly empty
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">uri</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">parent</b>, possibly empty
</p>
                        </li>
                     </ul>
                     <p>Namespace nodes <span class="verb">must</span> satisfy the following constraints.</p>
                     <ol class="enumar">
                        <li>
                           <p>If a namespace node <em>N</em> is among the namespaces
of an element <em>E</em>, then the parent of <em>N</em>
<span class="verb">must</span> be <em>E</em>.</p>
                        </li>
                        <li>
                           <p>If a namespace node <em>N</em> has a parent element
<em>E</em>, then <em>N</em> <span class="verb">must</span> be among
the namespaces of <em>E</em>.</p>
                        </li>
                        <li>
                           <p>A namespace node <span class="verb">must</span> not have the
name <code>xmlns</code> nor the string-value
<code>http://www.w3.org/2000/xmlns/</code>.</p>
                        </li>
                     </ol>
                     <p>The data model permits namespace nodes without parents; see below.
</p>
                     <p>In XPath 1.0, namespace nodes were directly accessible by applications, by
means of the namespace axis. In XPath <span>3.1</span> the namespace axis is deprecated,
and it is not available at all in XQuery <span>3.1</span>. 
XPath <span>3.1</span> implementations are
not required to expose the namespace axis, though they may do so if they
wish to offer backwards compatibility.</p>
                     <p>The information held in namespace
nodes is instead made available to applications using functions defined
in <a href="#xpath-functions-40">[XQuery and XPath Functions and Operators 4.0]</a>. Some properties of namespace nodes are
not exposed by these functions: in particular, properties related to the
identity of namespace nodes, their parentage, and their position in document
order. Implementations that do not expose the namespace axis can therefore
avoid the overhead of maintaining this information.</p>
                     <p>Implementations that expose the namespace axis <span class="verb">must</span> provide unique
namespace nodes for each element.
Each element has an associated set of namespace nodes, one for each
distinct namespace prefix that is in scope for the element (including
the <code>xml</code> prefix, which is implicitly declared by
<a href="#xml-names">[Namespaces in XML]</a> and one for the default
namespace if one is in scope for the element. The element is the
parent of each of these namespace nodes; however, a namespace node is
not a child of its parent element. In implementations that expose the
namespace axis, elements never share namespace
nodes.</p>
                     <div class="note">
                        <p class="prefix"><b>Note:</b></p>
                        <p>In implementations that do not expose the namespace axis, there is no
means by which the host language can tell if namespace nodes are shared or not
and, in such circumstances, sharing namespace nodes may be a very reasonable
implementation strategy.</p>
                     </div>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="NamespaceNodeAccessors"></a>6.6.4.2 <a href="#NamespaceNodeAccessors" style="text-decoration: none">Accessors</a></h5>
                     <dl>
                        <dt class="label"><span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span></dt>
                        <dd>
                           <p>Returns “<code>namespace</code>”.</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span></dt>
                        <dd>
                           <p>If the <b class="dm-node-prop">prefix</b> is not empty,
returns an <code>xs:QName</code> with the value of the <b class="dm-node-prop">prefix</b> property
in the local-name and an empty namespace name, otherwise returns
the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">parent</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">uri</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">uri</b> property as an
<code>xs:string</code>.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                     </dl>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="const-infoset-namespace"></a>6.6.4.3 <a href="#const-infoset-namespace" style="text-decoration: none">Construction from an Infoset</a></h5>
                     <p>The <b class="info-item">namespace information items</b> are
required.</p>
                     <p>The following infoset properties are required:
<b class="infoset-property">[prefix]</b>,
<b class="infoset-property">[namespace name]</b>.</p>
                     <p>Namespace node properties are derived from the infoset as
follows:</p>
                     <dl>
                        <dt class="label"><b class="dm-node-prop">prefix</b></dt>
                        <dd>
                           <p>The <b class="infoset-property">[prefix]</b> property.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">uri</b></dt>
                        <dd>
                           <p>The <b class="infoset-property">[namespace name]</b> property.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">parent</b></dt>
                        <dd>
                           <p>The element in whose <b class="infoset-property">[in-scope namespaces]</b> 
property the <b class="info-item">namespace information item</b> appears, if the implementation
exposes any mechanism for accessing the <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>
accessor of namespace nodes.</p>
                        </dd>
                     </dl>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="const-psvi-namespace"></a>6.6.4.4 <a href="#const-psvi-namespace" style="text-decoration: none">Construction from a PSVI</a></h5>
                     <p>Construction from a PSVI is identical to construction
from the Infoset.</p>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="infoset-mapping-namespace"></a>6.6.4.5 <a href="#infoset-mapping-namespace" style="text-decoration: none">Infoset Mapping</a></h5>
                     <p>A namespace node maps to a <b class="info-item">namespace information item</b>.</p>
                     <p>The following properties are specified by this mapping:</p>
                     <dl>
                        <dt class="label"><b class="infoset-property">[prefix]</b></dt>
                        <dd>
                           <p>The prefix associated with the namespace.
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[namespace name]</b></dt>
                        <dd>
                           <p>The value of <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span>.
</p>
                        </dd>
                     </dl>
                  </div>
               </div>
               <div class="div3">
                  
                  <h4><a id="ProcessingInstructionNode"></a>6.6.5 <a href="#ProcessingInstructionNode" style="text-decoration: none">Processing instruction nodes</a></h4>
                  <div class="div4">
                     
                     <h5><a id="ProcessingInstructionNodeOverview"></a>6.6.5.1 <a href="#ProcessingInstructionNodeOverview" style="text-decoration: none">Overview</a></h5>
                     <p>Processing instruction nodes encapsulate XML processing instructions.
Processing instructions have the following properties:</p>
                     <ul>
                        <li>
                           <p><b class="dm-node-prop">target</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">content</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">base-uri</b>, possibly empty
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">parent</b>, possibly empty
</p>
                        </li>
                     </ul>
                     <p>Processing instruction nodes <span class="verb">must</span> satisfy the following constraints.</p>
                     <ol class="enumar">
                        <li>
                           <p>The string “?&gt;” <span class="verb">must not</span> occur within the
<b class="dm-node-prop">content</b>.</p>
                        </li>
                        <li>
                           <p>The <b class="dm-node-prop">target</b> <span class="verb">must</span> be an <code>NCName</code>.
</p>
                        </li>
                     </ol>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="ProcessingInstructionNodeAccessors"></a>6.6.5.2 <a href="#ProcessingInstructionNodeAccessors" style="text-decoration: none">Accessors</a></h5>
                     <dl>
                        <dt class="label"><span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">base-uri</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span></dt>
                        <dd>
                           <p>Returns “<code>processing-instruction</code>”.</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span></dt>
                        <dd>
                           <p>Returns an <code>xs:QName</code> with the value of the <b class="dm-node-prop">target</b>
property in the local-name and an empty namespace URI and empty prefix.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">parent</b> property.</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">content</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">content</b> property as a
<code>xs:string</code>.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                     </dl>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="const-infoset-pi"></a>6.6.5.3 <a href="#const-infoset-pi" style="text-decoration: none">Construction from an Infoset</a></h5>
                     <p>A processing instruction node is constructed for each
<b class="info-item">processing instruction information item</b> that
is not ignored.</p>
                     <p>The following infoset properties are required:
<b class="infoset-property">[target]</b>,
<b class="infoset-property">[content]</b>,
<b class="infoset-property">[base URI]</b>, and
<b class="infoset-property">[parent]</b>.</p>
                     <p>Processing instruction node properties are derived from the infoset as
follows:</p>
                     <dl>
                        <dt class="label"><b class="dm-node-prop">target</b></dt>
                        <dd>
                           <p>The value of the <b class="infoset-property">[target]</b> property.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">content</b></dt>
                        <dd>
                           <p>The value of the <b class="infoset-property">[content]</b> property.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">base-uri</b></dt>
                        <dd>
                           <p>The value of the <b class="infoset-property">[base URI]</b>
property, if available.
Note that the base URI property, if available,
is always an absolute URI
(if an absolute URI can be computed) though it may contain Unicode
characters that are not allowed in URIs. These characters, if they
occur, are present in the <b class="dm-node-prop">base-uri</b> property and will have to
be encoded and escaped by the application to obtain a URI suitable for
retrieval, if retrieval is required.
</p>
                           <p>In practice a <b class="infoset-property">[base URI]</b>
is not always known. In this case the value of the
<b class="dm-node-prop">base-uri</b> property of the document node will be the empty
sequence. This is not intrinsically an error, though it may cause some
operations that depend on the base URI to fail.
</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">parent</b></dt>
                        <dd>
                           <p>The node corresponding to the value of the
<b class="infoset-property">[parent]</b> property.</p>
                        </dd>
                     </dl>
                     <p>There are no processing instruction nodes for processing instructions
that are children of a
<b class="info-item">document type declaration information item</b>.</p>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="const-psvi-pi"></a>6.6.5.4 <a href="#const-psvi-pi" style="text-decoration: none">Construction from a PSVI</a></h5>
                     <p>Construction from a PSVI is identical to construction
from the Infoset.</p>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="infoset-mapping-processing-instruction"></a>6.6.5.5 <a href="#infoset-mapping-processing-instruction" style="text-decoration: none">Infoset Mapping</a></h5>
                     <p>An processing instruction node maps to a
<b class="info-item">processing instruction information item</b>.</p>
                     <p>The following properties are specified by this mapping:</p>
                     <dl>
                        <dt class="label"><b class="infoset-property">[target]</b></dt>
                        <dd>
                           <p>The local part of the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[content]</b></dt>
                        <dd>
                           <p>The value of <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span>.
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[base URI]</b></dt>
                        <dd>
                           <p>The value of <span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span>.
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[parent]</b></dt>
                        <dd>
                           <ul>
                              <li>
                                 <p>If this node is the root of the infoset mapping operation,
<em>unknown</em>.</p>
                              </li>
                              <li>
                                 <p>If this node has a parent, the information item that corresponds
to the node returned by <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>.
</p>
                              </li>
                              <li>
                                 <p>Otherwise <em>no value</em>.
</p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="label"><b class="infoset-property">[notation]</b></dt>
                        <dd>
                           <p><em>No value</em>.
</p>
                        </dd>
                     </dl>
                  </div>
               </div>
               <div class="div3">
                  
                  <h4><a id="CommentNode"></a>6.6.6 <a href="#CommentNode" style="text-decoration: none">Comment nodes</a></h4>
                  <div class="div4">
                     
                     <h5><a id="CommentNodeOverview"></a>6.6.6.1 <a href="#CommentNodeOverview" style="text-decoration: none">Overview</a></h5>
                     <p>Comment nodes encapsulate XML comments. Comments have the following properties:
</p>
                     <ul>
                        <li>
                           <p><b class="dm-node-prop">content</b>
</p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">parent</b>, possibly empty
</p>
                        </li>
                     </ul>
                     <p>Comment nodes <span class="verb">must</span> satisfy the following constraints.</p>
                     <ol class="enumar">
                        <li>
                           <p>The string “--” <span class="verb">must not</span> occur within the
<b class="dm-node-prop">content</b>.</p>
                        </li>
                        <li>
                           <p>The character “-” <span class="verb">must not</span> occur as the
last character of the
<b class="dm-node-prop">content</b>.</p>
                        </li>
                     </ol>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="CommentNodeAccessors"></a>6.6.6.2 <a href="#CommentNodeAccessors" style="text-decoration: none">Accessors</a></h5>
                     <dl>
                        <dt class="label"><span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span></dt>
                        <dd>
                           <p>If the comment has a parent, returns the value of the
<span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span> of its parent; otherwise, returns
the empty sequence.</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span></dt>
                        <dd>
                           <p>Returns “<code>comment</code>”.</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">parent</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">content</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">content</b> property as a
<code>xs:string</code>.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                     </dl>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="const-infoset-comment"></a>6.6.6.3 <a href="#const-infoset-comment" style="text-decoration: none">Construction from an Infoset</a></h5>
                     <p>The <b class="info-item">comment information items</b> are
optional.</p>
                     <p>A comment node is constructed for each
<b class="info-item">comment information item</b>.</p>
                     <p>The following infoset properties are required:
<b class="infoset-property">[content]</b> and
<b class="infoset-property">[parent]</b>.</p>
                     <p>Comment node properties are derived from the infoset as
follows:</p>
                     <dl>
                        <dt class="label"><b class="dm-node-prop">content</b></dt>
                        <dd>
                           <p>The value of the <b class="infoset-property">[content]</b> property.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">parent</b></dt>
                        <dd>
                           <p>The node corresponding to the value of the
<b class="infoset-property">[parent]</b> property.</p>
                        </dd>
                     </dl>
                     <p>There are no comment nodes for comments that are children of a
<b class="info-item">document type declaration information item</b>.</p>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="const-psvi-comment"></a>6.6.6.4 <a href="#const-psvi-comment" style="text-decoration: none">Construction from a PSVI</a></h5>
                     <p>Construction from a PSVI is identical to construction
from the Infoset.</p>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="infoset-mapping-comment"></a>6.6.6.5 <a href="#infoset-mapping-comment" style="text-decoration: none">Infoset Mapping</a></h5>
                     <p>A comment node maps to a <b class="info-item">comment information item</b>.</p>
                     <p>The following properties are specified by this mapping:</p>
                     <dl>
                        <dt class="label"><b class="infoset-property">[content]</b></dt>
                        <dd>
                           <p>The value of the <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span>.
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[parent]</b></dt>
                        <dd>
                           <ul>
                              <li>
                                 <p>If this node is the root of the infoset mapping operation,
<em>unknown</em>.</p>
                              </li>
                              <li>
                                 <p>If this node has a parent, the information item that corresponds
to the node returned by <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>.
</p>
                              </li>
                              <li>
                                 <p>Otherwise <em>no value</em>.
</p>
                              </li>
                           </ul>
                        </dd>
                     </dl>
                  </div>
               </div>
               <div class="div3">
                  
                  <h4><a id="TextNode"></a>6.6.7 <a href="#TextNode" style="text-decoration: none">Text nodes</a></h4>
                  <div class="div4">
                     
                     <h5><a id="TextNodeOverview"></a>6.6.7.1 <a href="#TextNodeOverview" style="text-decoration: none">Overview</a></h5>
                     <p>Text nodes encapsulate XML character content. Text has the following properties:
</p>
                     <ul>
                        <li>
                           <p><b class="dm-node-prop">content</b>
  </p>
                        </li>
                        <li>
                           <p><b class="dm-node-prop">parent</b>, possibly empty.
  </p>
                        </li>
                     </ul>
                     <p>Text nodes <span class="verb">must</span> satisfy the following constraint:</p>
                     <ol class="enumar">
                        <li>
                           <p>If the <b class="dm-node-prop">parent</b> of a text node is not empty,
the text node <span class="verb">must not</span> contain the zero-length string
as its
<b class="dm-node-prop">content</b>.
</p>
                        </li>
                     </ol>
                     <p>In addition, Document and element nodes impose the constraint that
two consecutive text nodes can never occur as adjacent siblings.
When a Document or element node is constructed, text nodes that would
be adjacent <span class="verb">must</span> be
combined into a single text node. If the resulting text node
is empty, it <span class="verb">must</span> never be placed among the children of
its parent; it is simply discarded.
</p>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="TextNodeAccessors"></a>6.6.7.2 <a href="#TextNodeAccessors" style="text-decoration: none">Accessors</a></h5>
                     <dl>
                        <dt class="label"><span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span></dt>
                        <dd>
                           <p>If the text node has a parent, returns the value of the
<span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span> of its parent; otherwise, returns
the empty sequence.</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span></dt>
                        <dd>
                           <p>Returns “<code>text</code>”.</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">parent</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">content</b> property.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span></dt>
                        <dd>
                           <p>Returns <code>xs:untypedAtomic</code>.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span></dt>
                        <dd>
                           <p>Returns the value of the <b class="dm-node-prop">content</b> property as an
<code>xs:untypedAtomic</code>.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                        <dt class="label"><span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span></dt>
                        <dd>
                           <p>Returns the empty sequence.
</p>
                        </dd>
                     </dl>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="const-infoset-text"></a>6.6.7.3 <a href="#const-infoset-text" style="text-decoration: none">Construction from an Infoset</a></h5>
                     <p>The <b class="info-item">character information items</b> are
required. A text node is constructed for each maximal sequence of
<b class="info-item">character information items</b> in document order.</p>
                     <p>The following infoset properties are required:
<b class="infoset-property">[character code]</b> and
<b class="infoset-property">[parent]</b>.</p>
                     <p>The following infoset properties are optional:
<b class="infoset-property">[element content whitespace]</b>.</p>
                     <p>A sequence of
<b class="info-item">character information items</b> is maximal
if it satisfies the following constraints:</p>
                     <ol class="enumar">
                        <li>
                           <p>All of the information items in the sequence have the same parent.</p>
                        </li>
                        <li>
                           <p>The sequence consists of adjacent
<b class="info-item">character information items</b>
uninterrupted by other types of information item.</p>
                        </li>
                        <li>
                           <p>No other such sequence exists that contains any of the same
<b class="info-item">character information items</b> and is longer.</p>
                        </li>
                     </ol>
                     <p>Text node properties are derived from the infoset as
follows:</p>
                     <dl>
                        <dt class="label"><b class="dm-node-prop">content</b></dt>
                        <dd>
                           <p>A string comprised of characters that correspond to the
<b class="infoset-property">[character code]</b> properties of
each of the <b class="info-item">character information items</b>.</p>
                           <p>If the resulting text node consists entirely of whitespace and
the <b class="infoset-property">[element content whitespace]</b> property
of the <b class="info-item">character information items</b> used to
construct this node are <code>true</code>,
the <b class="dm-node-prop">content</b> of the text node
is the zero-length string. text nodes are allowed to be empty only if they
have no parents; an empty text node will be discarded when its parent
is constructed, if it has a parent.</p>
                           <p>The content of the text node is not necessarily normalized as
described in the <a href="#charmod">[Character Model]</a>. It is the
responsibility of data producers to provide normalized
text, and the responsibility of applications to make sure that
operations do not de-normalize text.</p>
                        </dd>
                        <dt class="label"><b class="dm-node-prop">parent</b></dt>
                        <dd>
                           <p>The node corresponding to the value of the
<b class="infoset-property">[parent]</b> property.</p>
                        </dd>
                     </dl>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="const-psvi-text"></a>6.6.7.4 <a href="#const-psvi-text" style="text-decoration: none">Construction from a PSVI</a></h5>
                     <p>For text nodes constructed from the
<b class="infoset-property">[schema normalized value]</b> of elements,
<b class="dm-node-prop">content</b> contains the value of the
<b class="infoset-property">[schema normalized value]</b>.</p>
                     <p>Otherwise, construction from a PSVI is the same as construction
from the Infoset except for the <b class="dm-node-prop">content</b> property. When
constructing the <b class="dm-node-prop">content</b> property,
<b class="infoset-property">[element content whitespace]</b>
is not used to test if whitespace is collapsed. Instead,
if the resulting text node consists entirely of whitespace and the
<b class="info-item">character information items</b> used to
construct this node have a parent and that parent is an element and its
{content type} is not “<code>mixed</code>”, then
the <b class="dm-node-prop">content</b> of the text node
is the zero-length string.</p>
                     <p>text nodes are allowed to be empty only if they
have no parents; an empty text node will be discarded when its parent
is constructed, if it has a parent.</p>
                  </div>
                  <div class="div4">
                     
                     <h5><a id="infoset-mapping-text"></a>6.6.7.5 <a href="#infoset-mapping-text" style="text-decoration: none">Infoset Mapping</a></h5>
                     <p>A text node maps to a sequence of <b class="info-item">character information items</b>.</p>
                     <p>Each
character of the <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> of the node is converted
into a <b class="info-item">character information item</b> as specified by this mapping:</p>
                     <dl>
                        <dt class="label"><b class="infoset-property">[character code]</b></dt>
                        <dd>
                           <p>The Unicode code point value of the character.
</p>
                        </dd>
                        <dt class="label"><b class="infoset-property">[parent]</b></dt>
                        <dd>
                           <ul>
                              <li>
                                 <p>If this node is the root of the infoset mapping operation,
<em>unknown</em>.</p>
                              </li>
                              <li>
                                 <p>If this node has a parent, the information item that corresponds
to the node returned by <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>.
</p>
                              </li>
                              <li>
                                 <p>Otherwise <em>no value</em>.
</p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="label"><b class="infoset-property">[element content whitespace]</b></dt>
                        <dd>
                           <p><em>Unknown</em>.
</p>
                        </dd>
                     </dl>
                     <p>This sequence of characters constitutes the infoset mapping.</p>
                  </div>
               </div>
            </div>
            <div class="div2">
               
               <h3><a id="accessors"></a>6.7 <a href="#accessors" style="text-decoration: none">Accessors</a></h3>
               <p>A set of accessors is defined on <a href="#Node">nodes</a> in
the data model. For consistency, all the accessors are defined on
every kind of node, although several accessors return a constant empty
sequence on some kinds of nodes.</p>
               <p>In order for processors to be able to operate on instances of the
data model, the model must expose the properties of the items it contains.
The data model does this by defining a family of accessor functions.
These are not functions in the literal sense; they are not available
for users or applications to call directly. Rather they are
descriptions of the information that an implementation of the data model
must expose to applications. Functions and operators available to end users
are described in <a href="#xpath-functions-40">[XQuery and XPath Functions and Operators 4.0]</a>.</p>
               <p>Some typed values in the data model
are <a title="absent" class="termref" href="#dt-absent">absent</a>.
Attempting to access an absent typed value is an error. Behavior
in these cases is implementation defined and the host language is responsible
for determining the result.</p>
               <div class="div3">
                  
                  <h4><a id="dm-attributes"></a>6.7.1 <a href="#dm-attributes" style="text-decoration: none"><code>attributes</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>attributes</code>(<code class="arg">$n</code><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">attribute()*</code></div>
                  </div>
                  <p>The <span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span> accessor returns the attributes of
a node as a sequence containing zero or more attribute nodes.
The order of attribute nodes is stable but implementation dependent.</p>
                  <p>It is defined on
<a href="#acc-summ-attributes">all seven</a> node kinds.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-base-uri"></a>6.7.2 <a href="#dm-base-uri" style="text-decoration: none"><code>base-uri</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>base-uri</code>(<code class="arg">$n</code><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">xs:anyURI?</code></div>
                  </div>
                  <p>The <span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span> accessor returns the base URI of a node
as a sequence containing zero or one URI reference. For more information
about base URIs, see <a href="#xmlbase">[XML Base]</a>.</p>
                  <p>It is defined on
<a href="#acc-summ-base-uri">all seven</a> node kinds.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-children"></a>6.7.3 <a href="#dm-children" style="text-decoration: none"><code>children</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>children</code>(<code class="arg">$n</code><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">node()*</code></div>
                  </div>
                  <p>The <span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span> accessor returns the children of a node
as a sequence containing zero or more nodes.</p>
                  <p>It is defined on
<a href="#acc-summ-children">all seven</a> node kinds.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-document-uri"></a>6.7.4 <a href="#dm-document-uri" style="text-decoration: none"><code>document-uri</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>document-uri</code>(<code class="arg">$node</code><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">xs:anyURI?</code></div>
                  </div>
                  <p>The <span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span> accessor returns the
absolute URI of the resource from which the document node was constructed, if
the absolute URI is available. If there is no URI available, or if it cannot
be made absolute when the document node is constructed, or if it is used
on a node other than a document node,
the empty sequence is returned.
</p>
                  <p>It is defined on
<a href="#acc-summ-document-uri">all seven</a> node kinds.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-is-id"></a>6.7.5 <a href="#dm-is-id" style="text-decoration: none"><code>is-id</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>is-id</code>(<code class="arg">$node</code><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">xs:boolean?</code></div>
                  </div>
                  <p>The <span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span> accessor returns true if the
node is an XML ID. Exactly what constitutes an ID depends in part on
how the data model was constructed, see
<a href="#ElementNode"><b>6.6.2 Element nodes</b></a> and <a href="#AttributeNode"><b>6.6.3 Attribute nodes</b></a>.
</p>
                  <p>It is defined on <a href="#acc-summ-is-id">all seven</a>
node kinds.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-is-idrefs"></a>6.7.6 <a href="#dm-is-idrefs" style="text-decoration: none"><code>is-idrefs</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>is-idrefs</code>(<code class="arg">$node</code><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">xs:boolean?</code></div>
                  </div>
                  <p>The <span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span> accessor returns true if the
node is an XML IDREF or IDREFS.
Exactly what constitutes an IDREF or IDREFS depends in part on
how the data model was constructed, see
<a href="#ElementNode"><b>6.6.2 Element nodes</b></a> and <a href="#AttributeNode"><b>6.6.3 Attribute nodes</b></a>.</p>
                  <p>It is defined on <a href="#acc-summ-is-idrefs">all seven</a>
node kinds.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-namespace-nodes"></a>6.7.7 <a href="#dm-namespace-nodes" style="text-decoration: none"><code>namespace-nodes</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>namespace-nodes</code>(<code class="arg">$n</code><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">node()*</code></div>
                  </div>
                  <p>The <span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span> accessor returns the dynamic,
in-scope namespaces associated with a node as a sequence containing
zero or more namespace nodes. The order of namespace nodes is stable
but implementation dependent.</p>
                  <p>It is defined on
<a href="#acc-summ-namespace-nodes">all seven</a> node kinds.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-nilled"></a>6.7.8 <a href="#dm-nilled" style="text-decoration: none"><code>nilled</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>nilled</code>(<code class="arg">$n</code><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">xs:boolean?</code></div>
                  </div>
                  <p>The <span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span> accessor returns true if the
node is “nilled”.
<a href="#xmlschema-1">[Schema Part 1]</a> introduced the nilled mechanism to
signal that an element should be accepted as valid when it has no
content even when it has a content type which does not require or even
necessarily allow empty content.
</p>
                  <p>It is defined on
<a href="#acc-summ-nilled">all seven</a> node kinds.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-node-kind"></a>6.7.9 <a href="#dm-node-kind" style="text-decoration: none"><code>node-kind</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>node-kind</code>(<code class="arg">$n</code><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">xs:string</code></div>
                  </div>
                  <p>The <span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span> accessor returns a string identifying the
kind of node. It will be one of the following, depending on the kind of
node:
“attribute”,
“comment”,
“document”,
“element”,
“namespace”,
“processing-instruction”, or
“text”.
</p>
                  <p>It is defined on
<a href="#acc-summ-node-kind">all seven</a> node kinds.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-node-name"></a>6.7.10 <a href="#dm-node-name" style="text-decoration: none"><code>node-name</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>node-name</code>(<code class="arg">$n</code><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">xs:QName?</code></div>
                  </div>
                  <p>The <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span> accessor returns the name of the node
as a sequence of zero or one <code>xs:QName</code>s. Note that the
QName value includes an optional prefix as described in
<a href="#qnames-and-notations"><b>5.4 QNames and NOTATIONS</b></a>.</p>
                  <p>It is defined on
<a href="#acc-summ-node-name">all seven</a> node kinds.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-parent"></a>6.7.11 <a href="#dm-parent" style="text-decoration: none"><code>parent</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>parent</code>(<code class="arg">$n</code><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">node()?</code></div>
                  </div>
                  <p>The <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span> accessor returns the parent of a node
as a sequence containing zero or one nodes.</p>
                  <p>It is defined on
<a href="#acc-summ-parent">all seven</a> node kinds.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-string-value"></a>6.7.12 <a href="#dm-string-value" style="text-decoration: none"><code>string-value</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>string-value</code>(<code class="arg">$n</code><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">xs:string</code></div>
                  </div>
                  <p>The <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> accessor returns the string value
of a node.</p>
                  <p>It is defined on
<a href="#acc-summ-string-value">all seven</a> node kinds.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-type-name"></a>6.7.13 <a href="#dm-type-name" style="text-decoration: none"><code>type-name</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>type-name</code>(<code class="arg">$n</code><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">xs:QName?</code></div>
                  </div>
                  <p>The <span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span> accessor returns the name of the schema type
of a node as a sequence of zero or one <code>xs:QName</code>s.</p>
                  <p>It is defined on
<a href="#acc-summ-type-name">all seven</a> node kinds.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-typed-value"></a>6.7.14 <a href="#dm-typed-value" style="text-decoration: none"><code>typed-value</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>typed-value</code>(<code class="arg">$n</code><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">xs:anyAtomicType*</code></div>
                  </div>
                  <p>The <span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span> accessor returns the
typed value of the node as a sequence of zero or more atomic
items.</p>
                  <p>It is defined on
<a href="#acc-summ-typed-value">all seven</a> node kinds.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-unparsed-entity-public-id"></a>6.7.15 <a href="#dm-unparsed-entity-public-id" style="text-decoration: none"><code>unparsed-entity-public-id</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto">
                        <table>
                           <tr>
                              <td rowspan="2"><code class="function"><span class="prefix">dm:</span>unparsed-entity-public-id</code>(</td>
                              <td><code class="arg">$node</code></td>
                              <td><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>,</td>
                           </tr>
                           <tr>
                              <td><code class="arg">$entityname</code></td>
                              <td><code class="as">&nbsp;as&nbsp;</code><code class="type">xs:string</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">xs:string?</code></td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>The <span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span> accessor returns
the public identifier of an unparsed external entity declared in the
specified document. If no entity with the name specified in
<code>$entityname</code> exists, or if the entity is not an external
unparsed entity, or if the entity has no public identifier, the empty
sequence is returned.</p>
                  <p>It is defined on
<a href="#acc-summ-unparsed-entity-public-id">all seven</a> node kinds.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-unparsed-entity-system-id"></a>6.7.16 <a href="#dm-unparsed-entity-system-id" style="text-decoration: none"><code>unparsed-entity-system-id</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto">
                        <table>
                           <tr>
                              <td rowspan="2"><code class="function"><span class="prefix">dm:</span>unparsed-entity-system-id</code>(</td>
                              <td><code class="arg">$node</code></td>
                              <td><code class="as">&nbsp;as&nbsp;</code><code class="type">node()</code>,</td>
                           </tr>
                           <tr>
                              <td><code class="arg">$entityname</code></td>
                              <td><code class="as">&nbsp;as&nbsp;</code><code class="type">xs:string</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">xs:anyURI?</code></td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>The <span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span> accessor returns the
system identifier of an unparsed external entity declared in the
specified document.
The value is an absolute URI, and is obtained by resolving the
<b class="infoset-property">[system identifier]</b>
of the unparsed entity information item against the
<b class="infoset-property">[declaration base URI]</b>
of the same item.
If no entity with the name specified in <code>$entityname</code>
exists, or if the entity is not an external unparsed entity, the empty sequence
is returned.</p>
                  <p>It is defined on
<a href="#acc-summ-unparsed-entity-system-id">all seven</a> node kinds.</p>
               </div>
            </div>
         </div>
         <div class="div1">
            
            <h2><a id="functions-maps-arrays"></a>7 <a href="#functions-maps-arrays" style="text-decoration: none">Function Items, Maps, and Arrays</a></h2>
            <div class="div2">
               
               <h3><a id="function-items"></a>7.1 <a href="#function-items" style="text-decoration: none">Function Items</a></h3>
               <div class="changes">
                  <p class="changesHeading">Changes in 4.0&nbsp;<a href="#map-items">⬇</a>&nbsp;<a href="#atomic-items">⬆</a></p>
                  <ol>
                     <li>
                        <p>
      Introduced the concept of function identity.
    <i>&nbsp;&nbsp;[Issue <a href="https://github.com/qt4cg/qtspecs/issues/520">520</a>&nbsp;PR <a href="https://github.com/qt4cg/qtspecs/pull/525">525</a>&nbsp;30 May 2023]</i></p>
                     </li>
                     <li>
                        <p>
      The <b>parameter names</b> property of a function item is dropped;
      the property never had any effect on the semantics of the language.
    <i>&nbsp;&nbsp;[Issue <a href="https://github.com/qt4cg/qtspecs/issues/1896">1896</a>&nbsp;]</i></p>
                     </li>
                  </ol>
               </div>
               <p>
[<a id="dt-function-item" title="function item">Definition</a>: 
  A <b>function item</b> is an item that can be <b>called</b>.
]
Function items  have no serialization.
</p>
               <div class="note">
                  <p class="prefix"><b>Note:</b></p>
                  <p>XDM 4.0 uses the term <b>function item</b> where XDM 3.1 used
    <b>function</b>. There is no distinction
    in meaning, but <b>function item</b> is preferred for clarity, because the unqualified
    term <b>function</b> has additional meanings in relation to
    <b>function definitions</b> in XSLT and XQuery.</p>
               </div>
               <p>A function item has the following properties:
</p>
               <ul>
                  <li>
                     <p>
      <b>name</b>
      <span>(<code>xs:QName</code>)</span>:
      An expanded QName, possibly
      <a title="absent" class="termref" href="#dt-absent">absent</a>. 
    </p>
                  </li>
                  <li>
                     <p>
      <b>identity</b>: An abstract property that can be used to test whether
      two variables refer to the same function or to different functions. This property
      is exposed only for this purpose.
    </p>
                     <div class="note">
                        <p class="prefix"><b>Note:</b></p>
                        <p>Currently, the concept of function identity is used for two purposes: firstly,
    when functions appear in the arguments supplied to the <code>fn:deep-equal</code> function;
    and secondly, in establishing whether the arguments and results of a function are "the same"
    when deciding whether the function is deterministic.</p>
                     </div>
                  </li>
                  <li>
                     <p>
      <b>signature</b>
      [<a id="dt-signature" title="function signature">Definition</a>: 
        A <b>function signature</b>
        represents the type of a
        <a title="function item" class="termref" href="#dt-function-item">function</a>.]
      The signature of a function item comprises:
    </p>
                     <ul>
                        <li>
                           <p>The required types of its parameters (each one being a <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#doc-xpath40-SequenceType">SequenceType</a><sup><small>XP</small></sup>)</p>
                        </li>
                        <li>
                           <p>The required types of the function result (also a <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#doc-xpath40-SequenceType">SequenceType</a><sup><small>XP</small></sup>)</p>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <p>
      <b>annotations</b>
      A sequence of zero or more <b>function annotations</b>. 
      [<a id="dt-function-annotation" title="function annotation">Definition</a>: A <b>function annotation</b> 
      consists of an annotation name (an instance of <code>xs:QName</code>) and an annotation value
      (an arbitrary sequence of atomic items).] Annotations are ordered and it is permitted for two
      annotations to share the same name.
    </p>
                  </li>
                  <li>
                     <p>
      <b>body</b>
      The body of a function provides the logic
      to map the arguments supplied in a function call into an instance of 
      the function’s result type.</p>
                     <p> 
      The function body is generally one of the following:</p>
                     <ul>
                        <li>
                           <p>a user-written construct in XPath, XQuery, XSLT, or some
            other host language known to the processor.
          </p>
                        </li>
                        <li>
                           <p>vendor-supplied logic internal to the processor.</p>
                        </li>
                        <li>
                           <p>external logic written in some third-party programming
            language, to be invoked by the processor using implementation-dependent
            mechanisms.</p>
                        </li>
                     </ul>
                     <p>These categories are not mutually exclusive; they may be used in combination.</p>
                     <div class="note">
                        <p class="prefix"><b>Note:</b></p>
                        <p>The term “function body” replaces “function implementation”, to avoid confusion with
    the use of the term “implementation” in phrases such as “implementation-defined”.</p>
                     </div>
                  </li>
                  <li>
                     <p>
      <b>captured context</b> This includes a static and dynamic context for evaluation
      of the function body, as described in <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#context">Section 2.2 Expression Context</a><sup><small>XP</small></sup>. In particular
      it includes a set of <b>nonlocal variable bindings</b>
      (a mapping from <code>xs:QName</code> to <code>item()*</code>),
      which provides a value for each of the function’s free variables
      (i.e., variables referenced by the function’s body, other than locals and parameters).
    </p>
                     <div class="note">
                        <p class="prefix"><b>Note:</b></p>
                        <p>Where the function body is implemented in XPath, XQuery, or XSLT, the captured
      context includes the static context for the user-written code (for example, its in-scope namespaces)
      as well as any nonlocal variable bindings.</p>
                        <p>Functions implemented internally by the processor may capture specific parts of the static or dynamic context,
      for example <code>fn:position#0</code> captures the value of the context position.</p>
                     </div>
                  </li>
               </ul>
               <p>
[<a id="dt-function-arity" title="function arity">Definition</a>: 
  The <b>arity</b> of a <a title="function item" class="termref" href="#dt-function-item">function item</a> is the number of its parameters.
]
The number of parameter types in a function's signature,
must equal the function’s arity.
</p>
               <p>All function items match the generic function type <code>function(*)</code>,
    which is itself a subtype of <code>item()</code>. 
    A <a title="function signature" class="termref" href="#dt-signature">function signature</a> defines a more specific function type, which is always
    a subtype of <code>function(*)</code>. A function signature 
    <code>function(<var>T<sub>1</sub></var>, <var>T<sub>2</sub></var>, <var>T<sub>3</sub></var>, ...) as <var>T<sub>R</sub></var></code> is a subtype of another
    function signature <code>function(<var>U<sub>1</sub></var>, <var>U<sub>2</sub></var>, <var>U<sub>3</sub></var>, ...) as <var>U<sub>R</sub></var></code>
    if (a) the two signatures have the same <a title="function arity" class="termref" href="#dt-function-arity">arity</a>, (b) the return type <var>T<sub>R</sub></var>
    is a subtype of <var>U<sub>R</sub></var>, and (c) for each pair of parameter types, <var>T<sub>n</sub></var> is a supertype of <var>U<sub>n</sub></var>.
    The rules are explained more fully in <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#id-sequencetype-subtype">Section 3.3 Subtype Relationships</a><sup><small>XP</small></sup>. For example:
</p>
               <ul>
                  <li>
                     <p><code>function(item()) as item()</code> is a subtype of <code>function(*)</code>
  </p>
                  </li>
                  <li>
                     <p><code>function(item()) as xs:integer</code> is a subtype of <code>function(item()) as item()</code>
  </p>
                  </li>
                  <li>
                     <p>
    <code>function(item()) as item()</code> is a subtype of <code>function(xs:string) as item()</code>
  </p>
                  </li>
               </ul>
            </div>
            <div class="div2">
               
               <h3><a id="map-items"></a>7.2 <a href="#map-items" style="text-decoration: none">Map Items</a></h3>
               <div class="changes">
                  <p class="changesHeading">Changes in 4.0&nbsp;<a href="#array-items">⬇</a>&nbsp;<a href="#function-items">⬆</a></p>
                  <ol>
                     <li>
                        <p>Constructors are added, and the single accessor function
    is now an iterator over the key/value pairs in the map.<i>&nbsp;&nbsp;[Issue <a href="https://github.com/qt4cg/qtspecs/issues/1335">1335</a>&nbsp;&nbsp;20 July 2024]</i></p>
                     </li>
                     <li>
                        <p>Ordered maps are introduced.<i>&nbsp;&nbsp;[Issue <a href="https://github.com/qt4cg/qtspecs/issues/1651">1651</a>&nbsp;PR <a href="https://github.com/qt4cg/qtspecs/pull/1703">1703</a>&nbsp;14 January 2025]</i></p>
                     </li>
                  </ol>
               </div>
               <p>[<a id="dt-map-item" title="map item">Definition</a>: A <b>map item</b>
(also called simply a <b>map</b>)
is a <a title="function item" class="termref" href="#dt-function-item">function item</a> that represents an ordered sequence of key/value pairs,
in which the keys are unique.] 
  In other languages this is sometimes 
called a hash, dictionary, or associative array.
  The keys are atomic items, and each key in the map is unique (there is no other key
to which it is equal). Each key is associated with a value that may be any sequence 
of zero or more items. There is no uniqueness constraint on
values, only on keys. The semantics of equality when comparing keys are described in
<a href="https://qt4cg.org/specifications/xpath-functions-40/#func-atomic-equal">Section 14.2.1 fn:atomic-equal</a><sup><small>FO</small></sup>.</p>
               <p>[<a id="dt-entry" title="entry">Definition</a>: The key/value pairs in a map are
    referred to as <b>entries</b>.]</p>
               <p>Considered as a <a title="function item" class="termref" href="#dt-function-item">function item</a>, a map is a function from
  atomic items to values: if <var>M</var> is a map and <var>K</var> is an atomic item,
  then the function call <code><var>M</var>(<var>K</var>)</code> returns the
  value associated with the key <var>K</var>, if present, or an empty sequence otherwise. More specifically,
    the properties of a map when considered as a function item are:</p>
               <ul>
                  <li>
                     <p>
      <b>name</b>:
      <a title="absent" class="termref" href="#dt-absent">absent</a>. 
    </p>
                  </li>
                  <li>
                     <p>
      <b>identity</b>: <a title="implementation       dependent" class="termref" href="#dt-implementation-dependent">implementation       dependent</a>.
    </p>
                  </li>
                  <li>
                     <p>
      <b>signature</b>: <code>function(xs:anyAtomicType) as item()*</code>.
    </p>
                  </li>
                  <li>
                     <p>
      <b>annotations</b>: none.
    </p>
                  </li>
                  <li>
                     <p>
      <b>body</b>: equivalent to a call on <span class="function">map:get</span>.
    </p>
                  </li>
                  <li>
                     <p>
      <b>captured context</b>: empty.
    </p>
                  </li>
               </ul>
               <p>[<a id="dt-single-entry-map" title="single-entry map">Definition</a>: A map containing exactly
    one entry is referred to as a <b>single-entry map</b>.]</p>
               <p>[<a id="dt-empty-map" title="empty map">Definition</a>: A map containing no entries 
    is referred to as an <b>empty map</b>.]</p>
               <div class="note">
                  <p class="prefix"><b>Note:</b></p>
                  <p>Maps have no intrinsic identity separate from their content. A map can be given
  a transient identity, represented by an <code>id</code> property in its label, by applying the
  <code>fn:pin</code> function. This property is expected to be used in defining
  operations for deep update of maps.
</p>
               </div>
               <p>[<a id="dt-entry-order" title="entry order">Definition</a>: The order of entries in a map
            is referred to as <b>entry order</b>.]
  The entry order affects the result of functions such as <span class="function">map:keys</span>
  and <span class="function">map:for-each</span>, and also determines the order of entries
  when a map is serialized using the JSON output method.</p>
               <p>Constructor and accessor functions for maps are defined in the following sections.</p>
               <div class="div3">
                  
                  <h4><a id="dm-empty-map"></a>7.2.1 <a href="#dm-empty-map" style="text-decoration: none"><code>empty-map</code> Constructor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>empty-map</code>()<code class="as">&nbsp;as&nbsp;</code><code class="return-type">map(*)</code></div>
                  </div>
                  <p>The <code>dm:empty-map</code> constructor returns an <a title="empty map" class="termref" href="#dt-empty-map">empty map</a>,
      that is, a map containing no key/value pairs.</p>
                  <div class="note">
                     <p class="prefix"><b>Note:</b></p>
                     <p>In XPath an <a title="empty map" class="termref" href="#dt-empty-map">empty map</a> may be constructed using the expression <code>{}</code>
    or <code>map {}</code>.</p>
                  </div>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-map-put"></a>7.2.2 <a href="#dm-map-put" style="text-decoration: none"><code>map-put</code> Constructor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>map-put</code>(<code class="arg">$map</code><code class="as">&nbsp;as&nbsp;</code><code class="type">map(*)</code>, <code class="arg">$key</code><code class="as">&nbsp;as&nbsp;</code><code class="type">xs:anyAtomicType</code>, <code class="arg">$value</code><code class="as">&nbsp;as&nbsp;</code><code class="type">item()*</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">map(*)</code></div>
                  </div>
                  <p>The <code>dm:map-put</code> constructor returns a map based on the contents of a supplied map.</p>
                  <p>The key/value pairs in the returned map are as follows, in order:</p>
                  <ol class="enumar">
                     <li>
                        <p>If <code>$map</code> includes a key/value pair (call it <var>E<sub>0</sub></var>) whose key is
      atomic-equal to <code>$key</code>, then:</p>
                        <ol class="enumla">
                           <li>
                              <p>All the key/value pairs in <code>$map</code> that precede <var>E<sub>0</sub></var> in 
        <a title="entry order" class="termref" href="#dt-entry-order">entry order</a>.</p>
                           </li>
                           <li>
                              <p>A key/value pair whose key is either <code>$key</code> or the existing key of <var>E<sub>0</sub></var>, and
        whose value part is <code>$value</code>. It is <a title="implementation       dependent" class="termref" href="#dt-implementation-dependent">implementation       dependent</a>
        which key is chosen.</p>
                              <div class="note">
                                 <p class="prefix"><b>Note:</b></p>
                                 <p>Most commonly, the two keys will be indistinguishable. However, they may
        have different type annotations (for example, <code>xs:string</code> versus <code>xs:untypedAtomic</code>,
        or they may be date/time values in different timezones.</p>
                              </div>
                           </li>
                           <li>
                              <p>All the key/value pairs in <code>$map</code> that follow <var>E<sub>0</sub></var> in 
        <a title="entry order" class="termref" href="#dt-entry-order">entry order</a>.</p>
                           </li>
                        </ol>
                     </li>
                     <li>
                        <p>Otherwise:</p>
                        <ol class="enumla">
                           <li>
                              <p>All the key/value pairs in <code>$map</code>.</p>
                           </li>
                           <li>
                              <p>A key/value pair whose key is <code>$key</code> and
        whose value part is <code>$value</code>.</p>
                           </li>
                        </ol>
                     </li>
                  </ol>
                  <div class="note">
                     <p class="prefix"><b>Note:</b></p>
                     <p>The <a title="entry order" class="termref" href="#dt-entry-order">entry order</a> in the returned
      map reflects the <a title="entry order" class="termref" href="#dt-entry-order">entry order</a> in the supplied <code>$map</code>. If the key of
      the new entry was present in <code>$map</code> then the new entry replaces that entry retaining
      its current position; otherwise, the new entry is added after all existing entries.</p>
                  </div>
                  <p>The function is exposed in XPath through the function <span class="function">map:put</span>.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-iterate-map"></a>7.2.3 <a href="#dm-iterate-map" style="text-decoration: none"><code>iterate-map</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto">
                        <table>
                           <tr>
                              <td rowspan="2"><code class="function"><span class="prefix">dm:</span>iterate-map</code>(</td>
                              <td><code class="arg">$map</code></td>
                              <td><code class="as">&nbsp;as&nbsp;</code><code class="type">map(*)</code>,</td>
                           </tr>
                           <tr>
                              <td><code class="arg">$action</code></td>
                              <td><code class="as">&nbsp;as&nbsp;</code><code class="type">function(xs:anyAtomicType, item()*) as item()*</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">item()*</code></td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>The <code>dm:iterate-map</code> accessor calls the supplied <code>$action</code>
      function once for each key/value pair in <code>$map</code>,
      and returns the sequence concenation of the results. The order in which entries
    are processed is the <a title="entry order" class="termref" href="#dt-entry-order">entry order</a> of the map.</p>
                  <p>The function is exposed in XPath most directly through the function <span class="function">map:for-each</span>, but
      it also underpins all other functions giving access to maps, such as <span class="function">map:size</span>,
      <span class="function">map:contains</span>, and <span class="function">map:get</span>.</p>
               </div>
            </div>
            <div class="div2">
               
               <h3><a id="array-items"></a>7.3 <a href="#array-items" style="text-decoration: none">Array Items</a></h3>
               <div class="changes">
                  <p class="changesHeading">Changes in 4.0&nbsp;<a href="#map-items">⬆</a></p>
                  <ol>
                     <li>
                        <p>Constructors are added, and the single accessor function
    is now an iterator over the members of the array.<i>&nbsp;&nbsp;[Issue <a href="https://github.com/qt4cg/qtspecs/issues/1335">1335</a>&nbsp;&nbsp;20 July 2024]</i></p>
                     </li>
                  </ol>
               </div>
               <p>[<a id="dt-array-item" title="array item">Definition</a>: An <b>array item</b> 
  (also called simply an <b>array</b>)
is a <a title="function item" class="termref" href="#dt-function-item">function item</a> that represents an array.]
[<a id="dt-member" title="member">Definition</a>: An array is an ordered list of values; these values are called the
<b>members</b> of the array.] Unlike sequences, a member of an array can be
any value (including a sequence or an array). The number of members in
an array is called its size, and they are referenced by their
position, in the range 1 to the size of the array.</p>
               <p>Considered as a <a title="function item" class="termref" href="#dt-function-item">function item</a>, an array is a function from
  integers to values: if <var>A</var> is an array and <var>N</var> is an integer,
  then the function call <code><var>A</var>(<var>N</var>)</code> returns the
  <var>N</var>th member of the array (counting from one). More specifically,
  the properties of an array, considered as a function item, are:</p>
               <p>Considered as a <a title="function item" class="termref" href="#dt-function-item">function item</a>, a map is a function from
  atomic items to values: if <var>M</var> is a map and <var>K</var> is an atomic item,
  then the function call <code><var>M</var>(<var>K</var>)</code> returns the
  value associated with the key <var>K</var>, if present, or an empty sequence otherwise. More specifically,
    the properties of a map when considered as a function item are:</p>
               <ul>
                  <li>
                     <p>
      <b>name</b>:
      <a title="absent" class="termref" href="#dt-absent">absent</a>. 
    </p>
                  </li>
                  <li>
                     <p>
      <b>identity</b>: <a title="implementation       dependent" class="termref" href="#dt-implementation-dependent">implementation       dependent</a>.
    </p>
                  </li>
                  <li>
                     <p>
      <b>signature</b>: <code>function(xs:integer) as item()*</code>.
    </p>
                  </li>
                  <li>
                     <p>
      <b>annotations</b>: none.
    </p>
                  </li>
                  <li>
                     <p>
      <b>body</b>: equivalent to a call on <span class="function">array:get</span>.
    </p>
                  </li>
                  <li>
                     <p>
      <b>captured context</b>: empty.
    </p>
                  </li>
               </ul>
               <p>[<a id="dt-single-member-array" title="single-member array">Definition</a>: An array containing exactly
    one member is referred to as a <b>single-member array</b>.]</p>
               <p>[<a id="dt-empty-array" title="empty array">Definition</a>: An array containing no members 
    is referred to as an <b>empty array</b>.]</p>
               <div class="note">
                  <p class="prefix"><b>Note:</b></p>
                  <p>Arrays have no intrinsic identity separate from their content. An array can be given
    a transient identity, represented by an <code>id</code> property in its label, by applying the
    <code>fn:pin</code> function. This property is expected to be used in defining
    operations for deep update of arrays.
  </p>
               </div>
               <p>Constructor and accessor functions for arrays are defined in the following sections.</p>
               <div class="div3">
                  
                  <h4><a id="dm-empty-array"></a>7.3.1 <a href="#dm-empty-array" style="text-decoration: none"><code>empty-array</code> Constructor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>empty-array</code>()<code class="as">&nbsp;as&nbsp;</code><code class="return-type">array(*)</code></div>
                  </div>
                  <p>The <code>dm:empty-array</code> constructor returns an <a title="empty array" class="termref" href="#dt-empty-array">empty array</a>,
      that is, an array item containing no members.</p>
                  <p>The function is exposed in XPath as an empty array constructor, written <code>[]</code>
    or <code>array {}</code>.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-array-append"></a>7.3.2 <a href="#dm-array-append" style="text-decoration: none"><code>array-append</code> Constructor</a></h4>
                  <div class="exampleInner">
                     <div class="proto"><code class="function"><span class="prefix">dm:</span>array-append</code>(<code class="arg">$array</code><code class="as">&nbsp;as&nbsp;</code><code class="type">array(*)</code>, <code class="arg">$member</code><code class="as">&nbsp;as&nbsp;</code><code class="type">item()*</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">array(*)</code></div>
                  </div>
                  <p>The <code>dm:array-append</code> constructor returns an array based on the contents of a supplied array.</p>
                  <p>The returned array contains:</p>
                  <ul>
                     <li>
                        <p>One member for every member present in <code>$array</code>, at the same position; plus</p>
                     </li>
                     <li>
                        <p>One additional member, <code>$member</code>, as the last member in the returned array.</p>
                     </li>
                  </ul>
                  <p>The function is exposed in XPath through the function <code>array:append</code>.</p>
               </div>
               <div class="div3">
                  
                  <h4><a id="dm-iterate-array"></a>7.3.3 <a href="#dm-iterate-array" style="text-decoration: none"><code>iterate-array</code> Accessor</a></h4>
                  <div class="exampleInner">
                     <div class="proto">
                        <table>
                           <tr>
                              <td rowspan="2"><code class="function"><span class="prefix">dm:</span>iterate-array</code>(</td>
                              <td><code class="arg">$array</code></td>
                              <td><code class="as">&nbsp;as&nbsp;</code><code class="type">array(*)</code>,</td>
                           </tr>
                           <tr>
                              <td><code class="arg">$action</code></td>
                              <td><code class="as">&nbsp;as&nbsp;</code><code class="type">function(item()*, xs:integer) as item()*</code>)<code class="as">&nbsp;as&nbsp;</code><code class="return-type">item()*</code></td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>The <code>dm:iterate-array</code> accessor calls the supplied <code>$action</code>
      function once for each member in <code>$array</code>, in order,
      and returns the sequence concenation of the results. The <code>$action</code> function
      is called with two arguments. The first argument is the array member (an arbitrary sequence),
      and the second is its 1-based ordinal position within the array.</p>
                  <p>The function is exposed in XPath most directly through the function <code>array:for-each</code> (but
        note that <code>array:for-each</code> delivers an array rather than a sequence). 
        It also underpins all other functions giving access to arrays, such as <code>array:size</code>
       and <code>array:get</code>.</p>
               </div>
            </div>
         </div>
         <div class="div1">
            
            <h2><a id="conformance"></a>8 <a href="#conformance" style="text-decoration: none">Conformance</a></h2>
            <p>The data model is intended primarily as a component that can be
used by other specifications. Therefore, the data model relies on
specifications that use it (such as <a href="#xpath-40">[XML Path Language (XPath) 4.0]</a>,
<a href="#xslt-40">[XSL Transformations (XSLT) Version 4.0]</a>, and <a href="#xquery-40">[XQuery 4.0: An XML Query Language]</a>) to specify conformance
criteria for the data model in their respective environments.
Specifications that set conformance criteria for their use of the data
model must not relax the constraints expressed in this
specification.</p>
            <p>Authors of conformance criteria for the use of the data
model should pay particular attention to the following features of
the data model:</p>
            <ol class="enumar">
               <li>
                  <p>Support for the normative construction from an infoset described in
<a href="#const-infoset"><b>6.5.2 Construction from an Infoset</b></a>.
</p>
               </li>
               <li>
                  <p>Support for the normative construction from a PSVI described in
<a href="#const-psvi"><b>6.5.3 Construction from a PSVI</b></a>.
</p>
               </li>
               <li>
                  <p>Support for XML 1.0 and XML 1.1.
</p>
               </li>
               <li>
                  <p>Support for data types in XML Schema 1.0 and XML Schema 1.1.
</p>
               </li>
               <li>
                  <p>How namespaces are supported, through nodes or through the
alternative, implementation-dependent representation.</p>
               </li>
            </ol>
            <div class="note">
               <p class="prefix"><b>Note:</b></p>
               <p>In addition, the <span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span> 
and <span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span> accessors are required by functions in <a href="#xpath-functions-40">[XQuery and XPath Functions and Operators 4.0]</a>.
These refer to the specifications  <a href="#xml-id">[xml:id]</a>
and <a href="#xmlbase">[XML Base]</a> respectively.</p>
            </div>
         </div>
      </div>
      <div class="back">
         <div class="div1">
            
            <h2><a id="infoset-conformance"></a>A <a href="#infoset-conformance" style="text-decoration: none">XML Information Set Conformance</a></h2>
            <p>This specification conforms to the XML Information Set
<a href="#xml-infoset">[Infoset]</a>.
The following information items <span class="verb">must</span> be exposed
by the infoset producer to construct a data model unless they are explicitly
identified as optional:</p>
            <ul>
               <li>
                  <p>The <b class="info-item">Document Information Item</b> with
           <b class="infoset-property">[base URI]</b>,
           <b class="infoset-property">[children]</b>, and, optionally,
           <b class="infoset-property">[unparsed entities]</b>
           properties. If the
           <b class="infoset-property">[unparsed entities]</b> property
	   is supported, the <b class="info-item">Unparsed Entity
           Information Items</b> must also be supported.</p>
               </li>
               <li>
                  <p><b class="info-item">Element Information Items</b> with
           <b class="infoset-property">[base URI]</b>,
           <b class="infoset-property">[children]</b>,
           <b class="infoset-property">[attributes]</b>,
           <b class="infoset-property">[in-scope namespaces]</b>,
           <b class="infoset-property">[prefix]</b>,
           <b class="infoset-property">[local name]</b>,
           <b class="infoset-property">[namespace name]</b>,
           <b class="infoset-property">[parent]</b> properties.</p>
               </li>
               <li>
                  <p><b class="info-item">Attribute Information Items</b> with
           <b class="infoset-property">[namespace name]</b>,
           <b class="infoset-property">[prefix]</b>,
           <b class="infoset-property">[local name]</b>,
           <b class="infoset-property">[normalized value]</b>,
           <b class="infoset-property">[attribute type]</b>, and
           <b class="infoset-property">[owner element]</b> properties.</p>
               </li>
               <li>
                  <p><b class="info-item">Character Information Items</b> with
           <b class="infoset-property">[character code]</b>,
           <b class="infoset-property">[parent]</b>, and, optionally,
           <b class="infoset-property">[element content whitespace]</b>
           properties.</p>
               </li>
               <li>
                  <p><b class="info-item">Processing Instruction Information Items</b> with
           <b class="infoset-property">[base URI]</b>,
           <b class="infoset-property">[target]</b>,
           <b class="infoset-property">[content]</b> and
           <b class="infoset-property">[parent]</b> properties.</p>
               </li>
               <li>
                  <p><b class="info-item">Comment Information Items</b> with
           <b class="infoset-property">[content]</b> and
           <b class="infoset-property">[parent]</b> properties.</p>
               </li>
               <li>
                  <p><b class="info-item">Namespace Information Items</b> with
           <b class="infoset-property">[prefix]</b> and
           <b class="infoset-property">[namespace name]</b> properties.</p>
               </li>
            </ul>
            <p>Other information items and properties made available by the
Infoset processor are ignored.  In addition to the properties above,
the following PSVI properties are required
on
<b class="info-item">Element Information Items</b> and
<b class="info-item">Attribute Information Items</b>
if the data model is constructed from a PSVI:</p>
            <ul>
               <li>
                  <p><b class="infoset-property">[validity]</b>,
  <b class="infoset-property">[validation attempted]</b>,
  <b class="infoset-property">[type definition]</b>,
  <b class="infoset-property">[type definition namespace]</b>,
  <b class="infoset-property">[type definition name]</b>,
  <b class="infoset-property">[type definition anonymous]</b>,
  <b class="infoset-property">[nil]</b>,
  <b class="infoset-property">[member type definition]</b>,
  <b class="infoset-property">[member type definition namespace]</b>,
  <b class="infoset-property">[member type definition name]</b>,
  <b class="infoset-property">[member type definition anonymous]</b> and
  <b class="infoset-property">[schema normalized value]</b>.</p>
               </li>
            </ul>
         </div>
         <div class="div1">
            
            <h2><a id="references"></a>B <a href="#references" style="text-decoration: none">References</a></h2>
            <div class="div2">
               
               <h3><a id="normative-references"></a>B.1 <a href="#normative-references" style="text-decoration: none">Normative References</a></h3>
               <dl>
                  <dt class="label"><span><a id="xml"></a>XML</span></dt>
                  <dd>
                     <div>
                        <a href="http://www.w3.org/TR/xml/"><cite>Extensible Markup Language (XML) 1.0 (Fifth Edition)</cite></a>, Tim Bray, Jean Paoli, Michael Sperberg-McQueen, <em>et. al.</em>, Editors. World Wide Web Consortium, 26&nbsp;Nov&nbsp;2008. This version is http://www.w3.org/TR/2008/REC-xml-20081126/.
                        The <a href="http://www.w3.org/TR/xml/">latest version</a> is available at http://www.w3.org/TR/xml.</div>
                  </dd>
                  <dt class="label"><span><a id="xml-infoset"></a>Infoset</span></dt>
                  <dd>
                     <div>
                        <a href="http://www.w3.org/TR/xml-infoset/"><cite>XML Information Set (Second Edition)</cite></a>, John Cowan and Richard Tobin, Editors. World Wide Web Consortium, 04&nbsp;Feb&nbsp;2004. This
                        version is http://www.w3.org/TR/2004/REC-xml-infoset-20040204. The <a href="http://www.w3.org/TR/xml-infoset">latest version</a> is available at http://www.w3.org/TR/xml-infoset.</div>
                  </dd>
                  <dt class="label"><span><a id="xml-names"></a>Namespaces in XML</span></dt>
                  <dd>
                     <div>
                        <a href="http://www.w3.org/TR/xml-names/"><cite>Namespaces in XML 1.0 (Third Edition)</cite></a>, Tim Bray, Dave Hollander, Andrew Layman, <em>et. al.</em>, Editors. World Wide Web Consortium, 08&nbsp;Dec&nbsp;2009. This version is http://www.w3.org/TR/2009/REC-xml-names-20091208/.
                        The <a href="http://www.w3.org/TR/xml-names/">latest version</a> is available at http://www.w3.org/TR/xml-names/.</div>
                  </dd>
                  <dt class="label"><span><a id="xml-names11"></a>Namespaces in XML 1.1</span></dt>
                  <dd>
                     <div>
                        <a href="http://www.w3.org/TR/xml-names11/"><cite>Namespaces in XML 1.1 (Second Edition)</cite></a>, Tim Bray, Dave Hollander, Andrew Layman, and Richard Tobin, Editors. World Wide
                        Web Consortium, 16&nbsp;Aug&nbsp;2006. This version is http://www.w3.org/TR/2006/REC-xml-names11-20060816.
                        The <a href="http://www.w3.org/TR/xml-names11/">latest version</a> is available at http://www.w3.org/TR/xml-names11/.</div>
                  </dd>
                  <dt class="label"><span><a id="xml-id"></a>xml:id</span></dt>
                  <dd>
                     <div>
                        <a href="http://www.w3.org/TR/xml-id/"><cite>xml:id Version 1.0</cite></a>, Jonathan Marsh, Daniel Veillard, and Norman Walsh, Editors. World Wide Web Consortium,
                        09&nbsp;Sep&nbsp;2005. This version is http://www.w3.org/TR/2005/REC-xml-id-20050909/. The <a href="http://www.w3.org/TR/xml-id/">latest version</a> is available at http://www.w3.org/TR/xml-id/.</div>
                  </dd>
                  <dt class="label"><span><a id="xpath-datamodel"></a>XQuery 1.0 and XPath 2.0 Data Model (XDM)</span></dt>
                  <dd>
                     <div>
                        <a href="https://www.w3.org/TR/xpath-datamodel/"><cite>XQuery 1.0 and XPath 2.0 Data Model (XDM) (Second Edition)</cite></a>,
                        Norman Walsh, Mary Fernández, Ashok Malhotra, <em>et. al.</em>, Editors.
                        World Wide Web Consortium,
                        14 December 2010.
                        This version is https://www.w3.org/TR/2010/REC-xpath-datamodel-20101214/.
                        The <a href="https://www.w3.org/TR/xpath-datamodel/">latest version</a>
                        is available at https://www.w3.org/TR/xpath-datamodel/.</div>
                  </dd>
                  <dt class="label"><span><a id="xpath-40"></a>XML Path Language (XPath) 4.0</span></dt>
                  <dd>
                     <div>
                        <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html"><cite>XML Path Language (XPath) 4.0</cite></a>,
                        XSLT Extensions Community Group,
                        World Wide Web Consortium.</div>
                  </dd>
                  <dt class="label"><span><a id="xpath-functions-40"></a>XQuery and XPath Functions and Operators 4.0</span></dt>
                  <dd>
                     <div>
                        <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html"><cite>XQuery and XPath Functions and Operators 4.0</cite></a>,
                        XSLT Extensions Community Group,
                        World Wide Web Consortium.</div>
                  </dd>
                  <dt class="label"><span><a id="xmlschema-1"></a>Schema Part 1</span></dt>
                  <dd>
                     <div>
                        <a href="http://www.w3.org/TR/xmlschema-1/"><cite>XML Schema Part 1: Structures Second Edition</cite></a>, Henry Thompson, David Beech, Murray Maloney, and Noah Mendelsohn, Editors. World
                        Wide Web Consortium, 28&nbsp;Oct&nbsp;2004. This version is http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/.
                        The <a href="http://www.w3.org/TR/xmlschema-1/">latest version</a> is available at http://www.w3.org/TR/xmlschema-1/.</div>
                  </dd>
                  <dt class="label"><span><a id="xmlschema-2"></a>Schema Part 2</span></dt>
                  <dd>
                     <div>
                        <a href="http://www.w3.org/TR/xmlschema-2/"><cite>XML Schema Part 2: Datatypes Second Edition</cite></a>, Paul V. Biron and Ashok Malhotra, Editors. World Wide Web Consortium, 28&nbsp;Oct&nbsp;2004.
                        This version is http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/. The <a href="http://www.w3.org/TR/xmlschema-2/">latest version</a> is available at http://www.w3.org/TR/xmlschema-2/.</div>
                  </dd>
                  <dt class="label"><span><a id="xmlschema11-1"></a>Schema 1.1 Part 1</span></dt>
                  <dd>
                     <div>
                        <a href="http://www.w3.org/TR/xmlschema11-1/"><cite>W3C XML Schema Definition Language (XSD) 1.1 Part 1: Structures</cite></a>, Sandy Gao, Michael Sperberg-McQueen, Henry Thompson, <em>et. al.</em>, Editors. World Wide Web Consortium, 05&nbsp;Apr&nbsp;2012. This version is http://www.w3.org/TR/2012/REC-xmlschema11-1-20120405/.
                        The <a href="http://www.w3.org/TR/xmlschema11-1/">latest version</a> is available at http://www.w3.org/TR/xmlschema11-1/.</div>
                  </dd>
                  <dt class="label"><span><a id="xmlschema11-2"></a>Schema 1.1 Part 2</span></dt>
                  <dd>
                     <div>
                        <a href="http://www.w3.org/TR/xmlschema11-2/"><cite>W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes</cite></a>, David Peterson, Sandy Gao, Ashok Malhotra, <em>et. al.</em>, Editors. World Wide Web Consortium, 05&nbsp;Apr&nbsp;2012. This version is http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/.
                        The <a href="http://www.w3.org/TR/xmlschema11-2/">latest version</a> is available at http://www.w3.org/TR/xmlschema11-2/.</div>
                  </dd>
                  <dt class="label"><span><a id="xslt-xquery-serialization-40"></a>XSLT and XQuery Serialization 4.0</span></dt>
                  <dd>
                     <div>
                        <a href="https://qt4cg.org/specifications/xslt-xquery-serialization-40/Overview.html"><cite>XSLT and XQuery Serialization 4.0</cite></a>,
                        XSLT Extensions Community Group,
                        World Wide Web Consortium.</div>
                  </dd>
                  <dt class="label"><span><a id="xquery-semantics"></a>XQuery 1.0 and XPath 2.0 Formal Semantics</span></dt>
                  <dd>
                     <div>
                        <a href="https://www.w3.org/TR/xquery-semantics/"><cite>XQuery 1.0 and XPath 2.0 Formal Semantics (Second Edition)</cite></a>,
                        Jérôme Siméon, Denise Draper, Peter Frankhauser, <em>et. al.</em>, Editors.
                        World Wide Web Consortium,
                        14 December 2010.
                        This version is https://www.w3.org/TR/2010/REC-xquery-semantics-20101214/.
                        The <a href="https://www.w3.org/TR/xquery-semantics/">latest version</a>
                        is available at https://www.w3.org/TR/xquery-semantics/.</div>
                  </dd>
                  <dt class="label"><span><a id="RFC2119"></a>RFC 2119</span></dt>
                  <dd>
                     <div>
                        <a href="http://www.ietf.org/rfc/rfc2119.txt"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>,
                        S. Bradner.
                        Network Working Group, IETF,
                        Mar 1997.
                        </div>
                  </dd>
                  <dt class="label"><span><a id="RFC3986"></a>RFC 3986</span></dt>
                  <dd>
                     <div>
                        <a href="http://www.ietf.org/rfc/rfc3986.txt"><cite>Uniform Resource Identifier (URI): Generic Syntax</cite></a>,
                        T. Berners-Lee, R. Fielding, and L. Masinter.
                        Network Working Group, IETF,
                        Jan 2005.
                        </div>
                  </dd>
                  <dt class="label"><span><a id="RFC3987"></a>RFC 3987</span></dt>
                  <dd>
                     <div>
                        <a href="http://www.ietf.org/rfc/rfc3987.txt"><cite>Internationalized Resource Identifiers (IRIs)</cite></a>,
                        M. Duerst and M. Suignard.
                        Network Working Group, IETF,
                        Jan 2005.
                        </div>
                  </dd>
                  <dt class="label"><span><a id="charmod"></a>Character Model</span></dt>
                  <dd>
                     <div>
                        <a href="http://www.w3.org/TR/charmod/"><cite>Character Model for the World Wide Web 1.0: Fundamentals</cite></a>, Martin Dürst, François Yergeau, Richard Ishida, <em>et. al.</em>, Editors. World Wide Web Consortium, 15&nbsp;Feb&nbsp;2005. This version is http://www.w3.org/TR/2005/REC-charmod-20050215/.
                        The <a href="http://www.w3.org/TR/charmod/">latest version</a> is available at http://www.w3.org/TR/charmod/.</div>
                  </dd>
               </dl>
            </div>
            <div class="div2">
               
               <h3><a id="informative-references"></a>B.2 <a href="#informative-references" style="text-decoration: none">Other References</a></h3>
               <dl>
                  <dt class="label"><span><a id="xmlbase"></a>XML Base</span></dt>
                  <dd>
                     <div>
                        <a href="http://www.w3.org/TR/xmlbase/"><cite>XML Base (Second Edition)</cite></a>, Jonathan Marsh and Richard Tobin, Editors. World Wide Web Consortium, 28&nbsp;Jan&nbsp;2009.
                        This version is http://www.w3.org/TR/2009/REC-xmlbase-20090128/. The <a href="http://www.w3.org/TR/xmlbase/">latest version</a> is available at http://www.w3.org/TR/xmlbase/.</div>
                  </dd>
                  <dt class="label"><span><a id="xslt-40"></a>XSL Transformations (XSLT) Version 4.0</span></dt>
                  <dd>
                     <div>
                        <a href="https://qt4cg.org/specifications/xslt-40/Overview.html"><cite>XSL Transformations (XSLT) Version 4.0</cite></a>,
                        XSLT Extensions Community Group,
                        World Wide Web Consortium.</div>
                  </dd>
                  <dt class="label"><span><a id="XQWG"></a>XML Query Working Group</span></dt>
                  <dd>
                     <div>
                        <a href="https://www.w3.org/XML/Query/"><cite>XML Query Working Group</cite></a>,
                        World Wide Web Consortium.
                        Home page: https://www.w3.org/XML/Query/
                        </div>
                  </dd>
                  <dt class="label"><span><a id="XSLWG"></a>XSLT Working Group</span></dt>
                  <dd>
                     <div>
                        <a href="https://www.w3.org/Style/XSL/"><cite>XSL Working Group</cite></a>,
                        World Wide Web Consortium.
                        Home page: https://www.w3.org/Style/XSL/
                        </div>
                  </dd>
                  <dt class="label"><span><a id="xquery-40"></a>XQuery 4.0: An XML Query Language</span></dt>
                  <dd>
                     <div>
                        <a href="https://qt4cg.org/specifications/xquery-40/xquery-40.html"><cite>XQuery 4.0: An XML Query Language</cite></a>,
                        XSLT Extensions Community Group,
                        World Wide Web Consortium.</div>
                  </dd>
                  <dt class="label"><span><a id="ISO8601"></a>ISO 8601</span></dt>
                  <dd>
                     <div>ISO (International Organization for Standardization).
                        <em>Representations of dates and times, 2000-08-03.</em>
                        Available from: <a href="http://www.iso.org/">http://www.iso.org/</a>
                        </div>
                  </dd>
               </dl>
            </div>
         </div>
         <div class="div1">
            
            <h2><a id="glossary"></a>C <a href="#glossary" style="text-decoration: none">Glossary</a> (Non-Normative)</h2>
            <dl>
               <dt><a href="#dt-absent">absent</a></dt>
               <dd>
                  <p>When a property has no value, we
        say that it is <b>absent</b>.</p>
               </dd>
               <dt><a href="#dt-array-item">array item</a></dt>
               <dd>
                  <p>An <b>array item</b> 
  (also called simply an <b>array</b>)
is a <a title="function item" class="termref" href="#dt-function-item">function item</a> that represents an array.</p>
               </dd>
               <dt><a href="#dt-atomic-item">atomic item</a></dt>
               <dd>
                  <p>An
<b>atomic item</b> is a pair (<var>T</var>, <var>D</var>) where <var>T</var> (the <a title="type annotation" class="termref" href="#dt-type-annotation">type annotation</a>)
  is an <a title="atomic type" class="termref" href="#dt-atomic-type">atomic type</a>, and <var>D</var> (the <a title="datum" class="termref" href="#dt-datum">datum</a>)
  is a point in the value space of <var>T</var>.</p>
               </dd>
               <dt><a href="#dt-atomic-type">atomic type</a></dt>
               <dd>
                  <p>An <b>atomic type</b>
is either a <a title="primitive simple type" class="termref" href="#dt-primitive-simple-type">primitive simple type</a>
  <span>with variety <code>atomic</code>,</span>
or a type derived by restriction from
another atomic type.</p>
               </dd>
               <dt><a href="#dt-character">character</a></dt>
               <dd>
                  <p>A
<b>character</b> is any Unicode character.</p>
               </dd>
               <dt><a href="#dt-codepoint">codepoint</a></dt>
               <dd>
                  <p>A
<b>codepoint</b> is a non-negative integer assigned to a
<a title="character" class="termref" href="#dt-character">character</a> by the Unicode
consortium, or reserved for future assignment to a
character.</p>
               </dd>
               <dt><a href="#dt-schema-compatible">compatible (of schemas)</a></dt>
               <dd>
                  <p>Two 
    <a title="schema" class="termref" href="#dt-schema">schemas</a> 
    <var>X</var> and <var>Y</var> are 
    <b>compatible</b> if the union of 
    <var>X</var> and <var>Y</var> is a valid <a title="schema" class="termref" href="#dt-schema">schema</a>.</p>
               </dd>
               <dt><a href="#dt-datum">datum</a></dt>
               <dd>
                  <p>The <b>datum</b> of an <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a>
      is a point in the value space of its type, which is also a point in the value space of
      the primitive type from which that type is derived.</p>
               </dd>
               <dt><a href="#dt-document">document</a></dt>
               <dd>
                  <p>A
tree whose root node is a document node is referred to as a
<b>document</b>.</p>
               </dd>
               <dt><a href="#dt-document-order">document order</a></dt>
               <dd>
                  <p>A
<b>document order</b> is defined among all the nodes
accessible during a given query or transformation. Document order is a
total ordering, although the relative order of some nodes is
implementation-dependent. Informally, document order is the order in
which nodes appear in the XML serialization of a document.</p>
               </dd>
               <dt><a href="#dt-empty-array">empty array</a></dt>
               <dd>
                  <p>An array containing no members 
    is referred to as an <b>empty array</b>.</p>
               </dd>
               <dt><a href="#dt-empty-map">empty map</a></dt>
               <dd>
                  <p>A map containing no entries 
    is referred to as an <b>empty map</b>.</p>
               </dd>
               <dt><a href="#dt-entry">entry</a></dt>
               <dd>
                  <p>The key/value pairs in a map are
    referred to as <b>entries</b>.</p>
               </dd>
               <dt><a href="#dt-entry-order">entry order</a></dt>
               <dd>
                  <p>The order of entries in a map
            is referred to as <b>entry order</b>.</p>
               </dd>
               <dt><a href="#dt-expanded-qname">expanded QName</a></dt>
               <dd>
                  <p>An
<b>expanded QName</b> is a  
  <span>triple</span> consisting of a
  possibly <span>absent</span> prefix, a possibly 
  <span>absent</span> namespace URI, and a local
name.</p>
               </dd>
               <dt><a href="#dt-fragment">fragment</a></dt>
               <dd>
                  <p>A tree whose root node is not a document node is
referred to as a <b>fragment</b>.</p>
               </dd>
               <dt><a href="#dt-function-annotation">function annotation</a></dt>
               <dd>
                  <p>A <b>function annotation</b> 
      consists of an annotation name (an instance of <code>xs:QName</code>) and an annotation value
      (an arbitrary sequence of atomic items).</p>
               </dd>
               <dt><a href="#dt-function-arity">function arity</a></dt>
               <dd>
                  <p>
  The <b>arity</b> of a <a title="function item" class="termref" href="#dt-function-item">function item</a> is the number of its parameters.
</p>
               </dd>
               <dt><a href="#dt-function-item">function item</a></dt>
               <dd>
                  <p>
  A <b>function item</b> is an item that can be <b>called</b>.
</p>
               </dd>
               <dt><a href="#dt-signature">function signature</a></dt>
               <dd>
                  <p>
        A <b>function signature</b>
        represents the type of a
        <a title="function item" class="termref" href="#dt-function-item">function</a>.</p>
               </dd>
               <dt><a href="#dt-implementation-defined">implementation       defined</a></dt>
               <dd>
                  <p><b>Implementation-defined</b> indicates an aspect that
      may differ between implementations, but must be specified by the
      implementer for each particular implementation.</p>
               </dd>
               <dt><a href="#dt-implementation-dependent">implementation       dependent</a></dt>
               <dd>
                  <p><b>Implementation-dependent</b> indicates an aspect
      that may differ between implementations, is not specified by this or
      any W3C specification, and is not required to be specified by the
      implementer for any particular implementation.</p>
               </dd>
               <dt><a href="#dt-incompletely-validated">incompletely validated</a></dt>
               <dd>
                  <p>An
<b>incompletely validated</b> document is an XML document that has a
corresponding schema but whose schema-validity assessment has resulted
in one or more element or attribute information items being assigned
values other than ‘valid’ for the <b class="infoset-property">[validity]</b>
property in the PSVI.</p>
               </dd>
               <dt><a href="#dt-instance">instance of the data model</a></dt>
               <dd>
                  <p>Every
<b>instance of the data model</b> is a
<a title="sequence" class="termref" href="#dt-sequence">sequence</a>.</p>
               </dd>
               <dt><a href="#dt-item">item</a></dt>
               <dd>
                  <p>An <b>item</b>
is either
a <a title="node" class="termref" href="#dt-node">node</a>,
a <a title="function item" class="termref" href="#dt-function-item">function</a>,
or an <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a>.</p>
               </dd>
               <dt><a href="#dt-item-type">item type</a></dt>
               <dd>
                  <p>An <b>item type</b> represents
a class of <a title="item" class="termref" href="#dt-item">items</a>.</p>
               </dd>
               <dt><a href="#dt-labeled-item">labeled item</a></dt>
               <dd>
                  <p>A <b>labeled item</b>
    is a pair (<var>S</var>, <var>L</var>) where <var>S</var> (called the subject)
    is any item, and <var>L</var> (called the label) is a map containing supplementary
    information about the item.</p>
               </dd>
               <dt><a href="#dt-map-item">map item</a></dt>
               <dd>
                  <p>A <b>map item</b>
(also called simply a <b>map</b>)
is a <a title="function item" class="termref" href="#dt-function-item">function item</a> that represents an ordered sequence of key/value pairs,
in which the keys are unique.</p>
               </dd>
               <dt><a href="#dt-member">member</a></dt>
               <dd>
                  <p>An array is an ordered list of values; these values are called the
<b>members</b> of the array.</p>
               </dd>
               <dt><a href="#dt-namespace-uri">Namespace URI</a></dt>
               <dd>
                  <p> This
specification uses the term <b>Namespace URI</b> to refer to a
namespace name, whether or not it is a valid URI or IRI</p>
               </dd>
               <dt><a href="#dt-node">node</a></dt>
               <dd>
                  <p>There are seven kinds of
<b>nodes</b> in the data model:
<a href="#DocumentNode">document</a>,
<a href="#ElementNode">element</a>,
<a href="#AttributeNode">attribute</a>,
<a href="#TextNode">text</a>,
<a href="#NamespaceNode">namespace</a>,
<a href="#ProcessingInstructionNode">processing instruction</a>, and
<a href="#CommentNode">comment</a>.</p>
               </dd>
               <dt><a href="#dt-primitive-simple-type">primitive simple type</a></dt>
               <dd>
                  <p>The
<b>primitive simple types</b> are the types defined
in <a href="#xs-types"><b>4.1.1 Types adopted from XML Schema</b></a>.</p>
               </dd>
               <dt><a href="#dt-root-node">root node</a></dt>
               <dd>
                  <p>The
<b>root node</b> is the topmost node of a tree, the node with no
parent.</p>
               </dd>
               <dt><a href="#dt-schema">schema</a></dt>
               <dd>
                  <p>Following the terminology of <a href="#xmlschema-1">[Schema Part 1]</a>,
  a <b>schema</b> is defined as set of schema components. Schema components include,
  for example, element declarations and type definitions.</p>
               </dd>
               <dt><a href="#dt-schema-type">schema type</a></dt>
               <dd>
                  <p>A
  <b>schema type</b> corresponds to a <b>type definition component</b>
  as defined in XSD.</p>
               </dd>
               <dt><a href="#dt-sequence">sequence</a></dt>
               <dd>
                  <p>A <b>sequence</b>
is an ordered collection of zero or more <a title="item" class="termref" href="#dt-item">items</a>.</p>
               </dd>
               <dt><a href="#dt-sequence-type">sequence type</a></dt>
               <dd>
                  <p>A <b>sequence type</b>
    constrains the set of permitted sequences, by defining the permitted 
    <a title="item type" class="termref" href="#dt-item-type">item types</a>
  and the permitted number of items in the sequence (exactly zero, exactly one, zero-or-more,
  one-or-more, zero-or-one).</p>
               </dd>
               <dt><a href="#dt-single-entry-map">single-entry map</a></dt>
               <dd>
                  <p>A map containing exactly
    one entry is referred to as a <b>single-entry map</b>.</p>
               </dd>
               <dt><a href="#dt-single-member-array">single-member array</a></dt>
               <dd>
                  <p>An array containing exactly
    one member is referred to as a <b>single-member array</b>.</p>
               </dd>
               <dt><a href="#dt-stable">stable</a></dt>
               <dd>
                  <p>Document order is
<b>stable</b>, which means that the relative order of two
nodes will not change during the processing of a given query or
transformation, even if this order is implementation-dependent.</p>
               </dd>
               <dt><a href="#dt-string">string</a></dt>
               <dd>
                  <p>A
<b>string</b>
is a sequence of zero or more
<a title="character" class="termref" href="#dt-character">characters</a>.</p>
               </dd>
               <dt><a href="#dt-type-annotation">type annotation</a></dt>
               <dd>
                  <p>The term <b>type annotation</b> has
      two slightly different meanings. For an <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a>, the type annotation of the value
      is the most specific <a title="atomic type" class="termref" href="#dt-atomic-type">atomic type</a> that it is an instance of (it is also an instance of every type from which that
      type is derived). For an element or attribute node, the type annotation is the <a title="schema type" class="termref" href="#dt-schema-type">schema type</a>
      (a simple or complex type) against which the node has been validated, defaulting to
      <code>xs:untypedAtomic</code> for unvalidated attribute nodes, and <code>xs:untyped</code>
      for unvalidated element nodes.</p>
               </dd>
               <dt><a href="#dt-value">value</a></dt>
               <dd>
                  <p>Because every value is a sequence, the term
    <b>value</b> is used synonymously with <a title="sequence" class="termref" href="#dt-sequence">sequence</a>.</p>
               </dd>
            </dl>
         </div>
         <div class="div1">
            
            <h2><a id="example"></a>D <a href="#example" style="text-decoration: none">Example</a> (Non-Normative)</h2>
            <p>The following XML document is used to illustrate the information
contained in a data model:</p>
            <div class="exampleInner">
               <pre>&lt;?xml version="1.0"?&gt;
&lt;?xml-stylesheet type="text/xsl" href="dm-example.xsl"?&gt;
&lt;catalog xmlns="http://www.example.com/catalog"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://www.example.com/catalog
                             dm-example.xsd"
         xml:lang="en"
         version="0.1"&gt;

&lt;!-- This example is for data model illustration only.
     It does not demonstrate good schema design. --&gt;

&lt;tshirt code="T1534017" label=" Staind : Been Awhile "
        xlink:href="http://example.com/0,,1655091,00.html"
        sizes="M L XL"&gt;
  &lt;title&gt; Staind: Been Awhile Tee Black (1-sided) &lt;/title&gt;
  &lt;description&gt;
    &lt;html:p&gt;
      Lyrics from the hit song 'It's Been Awhile'
      are shown in white, beneath the large
      'Flock &amp;amp; Weld' Staind logo.
    &lt;/html:p&gt;
  &lt;/description&gt;
  &lt;price&gt; 25.00 &lt;/price&gt;
&lt;/tshirt&gt;

&lt;album code="A1481344" label=" Staind : Its Been A While "
       formats="CD"&gt;
  &lt;title&gt; It's Been A While &lt;/title&gt;
  &lt;description xsi:nil="true" /&gt;
  &lt;price currency="USD"&gt; 10.99 &lt;/price&gt;
  &lt;artist&gt; Staind &lt;/artist&gt;
&lt;/album&gt;

&lt;/catalog&gt;</pre>
            </div>
            <p>The document is associated with the URI
“http://www.example.com/catalog.xml”,
and is valid with respect to the following XML schema:</p>
            <div class="exampleInner">
               <pre>&lt;?xml version="1.0"?&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           xmlns:cat="http://www.example.com/catalog"
           xmlns:xlink="http://www.w3.org/1999/xlink"
           targetNamespace="http://www.example.com/catalog"
           elementFormDefault="qualified"&gt;

&lt;xs:import namespace="http://www.w3.org/XML/1998/namespace"
           schemaLocation="http://www.w3.org/2001/xml.xsd" /&gt;

&lt;xs:import namespace="http://www.w3.org/1999/xlink"
           schemaLocation="https://www.w3.org/XML/2008/06/xlink.xsd" /&gt;

&lt;xs:element name="catalog"&gt;
  &lt;xs:complexType&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element ref="cat:_item" maxOccurs="unbounded" /&gt;
    &lt;/xs:sequence&gt;
    &lt;xs:attribute name="version" type="xs:string" fixed="0.1" use="required" /&gt;
    &lt;xs:attribute ref="xml:base" /&gt;
    &lt;xs:attribute ref="xml:lang" /&gt;
  &lt;/xs:complexType&gt;
&lt;/xs:element&gt;

&lt;xs:element name="_item" type="cat:itemType" abstract="true" /&gt;

&lt;xs:complexType name="itemType"&gt;
  &lt;xs:sequence&gt;
    &lt;xs:element name="title" type="xs:token" /&gt;
    &lt;xs:element name="description" type="cat:description" nillable="true" /&gt;
    &lt;xs:element name="price" type="cat:price" maxOccurs="unbounded" /&gt;
  &lt;/xs:sequence&gt;
  &lt;xs:attribute name="label" type="xs:token" /&gt;
  &lt;xs:attribute name="code" type="xs:ID" use="required" /&gt;
  &lt;xs:attributeGroup ref="xlink:simpleAttrs" /&gt;
&lt;/xs:complexType&gt;

&lt;xs:element name="tshirt" type="cat:tshirtType" substitutionGroup="cat:_item" /&gt;

&lt;xs:complexType name="tshirtType"&gt;
  &lt;xs:complexContent&gt;
    &lt;xs:extension base="cat:itemType"&gt;
      &lt;xs:attribute name="sizes" type="cat:clothesSizes" use="required" /&gt;
      &lt;xs:attribute ref="xml:lang" use="optional"/&gt;
    &lt;/xs:extension&gt;
  &lt;/xs:complexContent&gt;
&lt;/xs:complexType&gt;

&lt;xs:simpleType name="clothesSizes"&gt;
  &lt;xs:union memberTypes="cat:sizeList"&gt;
    &lt;xs:simpleType&gt;
      &lt;xs:restriction base="xs:token"&gt;
        &lt;xs:enumeration value="oneSize" /&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:simpleType&gt;
  &lt;/xs:union&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name="sizeList"&gt;
  &lt;xs:restriction&gt;
    &lt;xs:simpleType&gt;
      &lt;xs:list itemType="cat:clothesSize" /&gt;
    &lt;/xs:simpleType&gt;
    &lt;xs:minLength value="1" /&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name="clothesSize"&gt;
  &lt;xs:union memberTypes="cat:numberedSize cat:categorySize" /&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name="numberedSize"&gt;
  &lt;xs:restriction base="xs:integer"&gt;
    &lt;xs:enumeration value="4" /&gt;
    &lt;xs:enumeration value="6" /&gt;
    &lt;xs:enumeration value="8" /&gt;
    &lt;xs:enumeration value="10" /&gt;
    &lt;xs:enumeration value="12" /&gt;
    &lt;xs:enumeration value="14" /&gt;
    &lt;xs:enumeration value="16" /&gt;
    &lt;xs:enumeration value="18" /&gt;
    &lt;xs:enumeration value="20" /&gt;
    &lt;xs:enumeration value="22" /&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name="categorySize"&gt;
  &lt;xs:restriction base="xs:token"&gt;
    &lt;xs:enumeration value="XS" /&gt;
    &lt;xs:enumeration value="S" /&gt;
    &lt;xs:enumeration value="M" /&gt;
    &lt;xs:enumeration value="L" /&gt;
    &lt;xs:enumeration value="XL" /&gt;
    &lt;xs:enumeration value="XXL" /&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;xs:element name="album" type="cat:albumType" substitutionGroup="cat:_item" /&gt;

&lt;xs:complexType name="albumType"&gt;
  &lt;xs:complexContent&gt;
    &lt;xs:extension base="cat:itemType"&gt;
      &lt;xs:sequence&gt;
        &lt;xs:element name="artist" type="xs:string" /&gt;
      &lt;/xs:sequence&gt;
      &lt;xs:attribute name="formats" type="cat:formatsType" use="required" /&gt;
      &lt;xs:attribute ref="xml:lang" use="optional"/&gt;
    &lt;/xs:extension&gt;
  &lt;/xs:complexContent&gt;
&lt;/xs:complexType&gt;

&lt;xs:simpleType name="formatsType"&gt;
  &lt;xs:list itemType="cat:formatType" /&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name="formatType"&gt;
  &lt;xs:restriction base="xs:token"&gt;
    &lt;xs:enumeration value="CD" /&gt;
    &lt;xs:enumeration value="MiniDisc" /&gt;
    &lt;xs:enumeration value="tape" /&gt;
    &lt;xs:enumeration value="vinyl" /&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;xs:complexType name="description" mixed="true"&gt;
  &lt;xs:sequence&gt;
    &lt;xs:any namespace="http://www.w3.org/1999/xhtml" processContents="lax"
            minOccurs="0" maxOccurs="unbounded" /&gt;
  &lt;/xs:sequence&gt;
  &lt;xs:attribute ref="xml:lang" use="optional"/&gt;
&lt;/xs:complexType&gt;

&lt;xs:complexType name="price"&gt;
  &lt;xs:simpleContent&gt;
    &lt;xs:extension base="cat:monetaryAmount"&gt;
      &lt;xs:attribute name="currency" type="cat:currencyType" default="USD" /&gt;
    &lt;/xs:extension&gt;
  &lt;/xs:simpleContent&gt;
&lt;/xs:complexType&gt;

&lt;xs:simpleType name="currencyType"&gt;
  &lt;xs:restriction base="xs:token"&gt;
    &lt;xs:pattern value="[A-Z]{3}" /&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name="monetaryAmount"&gt;
  &lt;xs:restriction base="xs:decimal"&gt;
    &lt;xs:fractionDigits value="3" /&gt;
    &lt;xs:pattern value="\d+(\.\d{2,3})?" /&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;/xs:schema&gt;</pre>
            </div>
            <p>The schema is associated with the URI
“http://www.example.com/dm-example.xsd”.</p>
            <p>This example exposes the data model for a document that has an associated
schema and has been validated successfully against it.
In general, an XML Schema is not required,
that is, the data model can represent a schemaless, well-formed XML
document with the rules described in <a href="#types"><b>4.1 Schema Information</b></a>.</p>
            <p>The XML document is represented by the nodes described below.
The value <em>D1</em> represents a document node;
the values <em>E1, E2, etc.</em> represent element nodes;
the values <em>A1, A2, etc.</em> represent attribute nodes;
the values <em>N1, N2, etc.</em> represent namespace nodes;
the values <em>P1, P2, etc.</em> represent processing instruction nodes;
the values <em>T1, T2, etc.</em> represent text nodes.</p>
            <p>For brevity:</p>
            <ul>
               <li>
                  <p>Text nodes in the data model that contain only white space are not shown.</p>
               </li>
               <li>
                  <p>Literal strings are shown in quotes without the <code>xs:string()</code>
constructor.
</p>
               </li>
               <li>
                  <p>Literal decimals are shown without the <code>xs:decimal()</code>
constructor.
</p>
               </li>
               <li>
                  <p>Nodes are referred to using the syntax <code>[nodeID].</code>
</p>
               </li>
               <li>
                  <p>xs:QNames are used with the following prefixes bindings:</p>
                  <table>
                     <tbody>
                        <tr>
                           <td rowspan="1" colspan="1">xs</td>
                           <td rowspan="1" colspan="1">http://www.w3.org/2001/XMLSchema</td>
                        </tr>
                        <tr>
                           <td rowspan="1" colspan="1">xsi</td>
                           <td rowspan="1" colspan="1">http://www.w3.org/2001/XMLSchema-instance</td>
                        </tr>
                        <tr>
                           <td rowspan="1" colspan="1">cat</td>
                           <td rowspan="1" colspan="1">http://www.example.com/catalog</td>
                        </tr>
                        <tr>
                           <td rowspan="1" colspan="1">xlink</td>
                           <td rowspan="1" colspan="1">http://www.w3.org/1999/xlink</td>
                        </tr>
                        <tr>
                           <td rowspan="1" colspan="1">html</td>
                           <td rowspan="1" colspan="1">http://www.w3.org/1999/xhtml</td>
                        </tr>
                        <tr>
                           <td rowspan="1" colspan="1">anon</td>
                           <td rowspan="1" colspan="1">An implementation-dependent prefix associated with
                              anonymous type names</td>
                        </tr>
                     </tbody>
                  </table>
               </li>
               <li>
                  <p>The abbreviation “<code>\n</code>” is used in string literals
to represent a newline character; this is not supported in XPath, but it makes
this presentation clearer.</p>
               </li>
               <li>
                  <p>Accessors that return the empty sequence have been omitted.</p>
               </li>
               <li>
                  <p>To simplify the presentation, we assume an implementation
that does not expose the namespace axis. Therefore,
namespace nodes are shared across multiple elements.
See <a href="#NamespaceNode"><b>6.6.4 Namespace nodes</b></a>.</p>
               </li>
            </ul>
            <table>
               <tbody>
                  <tr id="ex-D1" class="document">
                     <td colspan="3" rowspan="1">// Document node D1</td>
                  </tr>
                  <tr class="document">
                     <td rowspan="1" colspan="1">dm:base-uri(D1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="document">
                     <td rowspan="1" colspan="1">dm:node-kind(D1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"document"</td>
                  </tr>
                  <tr class="document">
                     <td rowspan="1" colspan="1">dm:string-value(D1)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"&nbsp; Staind:&nbsp; Been&nbsp; Awhile&nbsp; Tee&nbsp; Black&nbsp; (1-sided)&nbsp; \n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lyrics&nbsp; from&nbsp; the&nbsp;
                        hit&nbsp; song&nbsp; 'It's&nbsp; Been&nbsp; Awhile'\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; are&nbsp; shown&nbsp; in&nbsp; white,&nbsp; beneath&nbsp; the&nbsp;
                        large\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Flock&nbsp; &amp;&nbsp; Weld'&nbsp; Staind&nbsp; logo.\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 25.00&nbsp; &nbsp; It's&nbsp; Been&nbsp;
                        A&nbsp; While&nbsp; &nbsp; 10.99&nbsp; &nbsp; Staind&nbsp; "</td>
                  </tr>
                  <tr class="document">
                     <td rowspan="1" colspan="1">dm:typed-value(D1)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">xs:untypedAtomic("&nbsp; Staind:&nbsp; Been&nbsp; Awhile&nbsp; Tee&nbsp; Black&nbsp; (1-sided)&nbsp; \n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lyrics&nbsp;
                        from&nbsp; the&nbsp; hit&nbsp; song&nbsp; 'It's&nbsp; Been&nbsp; Awhile'\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; are&nbsp; shown&nbsp; in&nbsp; white,&nbsp; beneath&nbsp;
                        the&nbsp; large\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Flock&nbsp; &amp;&nbsp; Weld'&nbsp; Staind&nbsp; logo.\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 25.00&nbsp; &nbsp; It's&nbsp;
                        Been&nbsp; A&nbsp; While&nbsp; &nbsp; 10.99&nbsp; &nbsp; Staind&nbsp; ")</td>
                  </tr>
                  <tr class="document">
                     <td rowspan="1" colspan="1">dm:children(D1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-P1">P1</a>], [<a href="#ex-E1">E1</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-N1" class="namespace">
                     <td colspan="3" rowspan="1">// Namespace node N1</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:node-kind(N1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"namespace"</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:node-name(N1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">()</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:string-value(N1)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"http://www.example.com/catalog"</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:typed-value(N1)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"http://www.example.com/catalog"</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-N2" class="namespace">
                     <td colspan="3" rowspan="1">// Namespace node N2</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:node-kind(N2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"namespace"</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:node-name(N2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("", "html")</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:string-value(N2)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"http://www.w3.org/1999/xhtml"</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:typed-value(N2)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"http://www.w3.org/1999/xhtml"</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-N3" class="namespace">
                     <td colspan="3" rowspan="1">// Namespace node N3</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:node-kind(N3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"namespace"</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:node-name(N3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("", "xlink")</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:string-value(N3)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"http://www.w3.org/1999/xlink"</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:typed-value(N3)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"http://www.w3.org/1999/xlink"</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-N4" class="namespace">
                     <td colspan="3" rowspan="1">// Namespace node N4</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:node-kind(N4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"namespace"</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:node-name(N4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("", "xsi")</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:string-value(N4)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"http://www.w3.org/2001/XMLSchema-instance"</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:typed-value(N4)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"http://www.w3.org/2001/XMLSchema-instance"</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-N5" class="namespace">
                     <td colspan="3" rowspan="1">// Namespace node N5</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:node-kind(N5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"namespace"</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:node-name(N5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("", "xml")</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:string-value(N5)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"http://www.w3.org/XML/1998/namespace"</td>
                  </tr>
                  <tr class="namespace">
                     <td rowspan="1" colspan="1">dm:typed-value(N5)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"http://www.w3.org/XML/1998/namespace"</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-P1">
                     <td colspan="3" rowspan="1">// Processing Instruction node P1</td>
                  </tr>
                  <tr class="processing-instruction">
                     <td rowspan="1" colspan="1">dm:base-uri(P1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="processing-instruction">
                     <td rowspan="1" colspan="1">dm:node-kind(P1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"processing-instruction"</td>
                  </tr>
                  <tr class="processing-instruction">
                     <td rowspan="1" colspan="1">dm:node-name(P1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("", "xml-stylesheet")</td>
                  </tr>
                  <tr class="processing-instruction">
                     <td rowspan="1" colspan="1">dm:string-value(P1)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"type="text/xsl"&nbsp; href="dm-example.xsl""</td>
                  </tr>
                  <tr class="processing-instruction">
                     <td rowspan="1" colspan="1">dm:typed-value(P1)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"type="text/xsl"&nbsp; href="dm-example.xsl""</td>
                  </tr>
                  <tr class="processing-instruction">
                     <td rowspan="1" colspan="1">dm:parent(P1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-D1">D1</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-E1" class="element">
                     <td colspan="3" rowspan="1">// Element node E1</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:base-uri(E1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-kind(E1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"element"</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-name(E1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("http://www.example.com/catalog", "catalog")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:string-value(E1)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"&nbsp; Staind:&nbsp; Been&nbsp; Awhile&nbsp; Tee&nbsp; Black&nbsp; (1-sided)&nbsp; \n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lyrics&nbsp; from&nbsp; the&nbsp;
                        hit&nbsp; song&nbsp; 'It's&nbsp; Been&nbsp; Awhile'\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; are&nbsp; shown&nbsp; in&nbsp; white,&nbsp; beneath&nbsp; the&nbsp;
                        large\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Flock&nbsp; &amp;&nbsp; Weld'&nbsp; Staind&nbsp; logo.\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 25.00&nbsp; &nbsp; It's&nbsp; Been&nbsp;
                        A&nbsp; While&nbsp; &nbsp; 10.99&nbsp; &nbsp; Staind&nbsp; "</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:typed-value(E1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">fn:error()</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:type-name(E1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">anon:TYP000001</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-id(E1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-idrefs(E1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:parent(E1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-D1">D1</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:children(E1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-C1">C1</a>], [<a href="#ex-E2">E2</a>], [<a href="#ex-E7">E7</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:attributes(E1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-A1">A1</a>], [<a href="#ex-A2">A2</a>], [<a href="#ex-A3">A3</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-nodes(E1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-bindings(E1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">("",&nbsp;"http://www.example.com/catalog", "html",&nbsp;"http://www.w3.org/1999/xhtml", "xlink",&nbsp;"http://www.w3.org/1999/xlink",
                        "xsi",&nbsp;"http://www.w3.org/2001/XMLSchema-instance", "xml",&nbsp;"http://www.w3.org/XML/1998/namespace")</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-A1" class="attribute">
                     <td colspan="3" rowspan="1">// Attribute node A1</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-kind(A1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"attribute"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-name(A1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("http://www.w3.org/2001/XMLSchema-instance", "xsi:schemaLocation")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:string-value(A1)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"http://www.example.com/catalog&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; dm-example.xsd"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:typed-value(A1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">(xs:anyURI("http://www.example.com/catalog"), xs:anyURI("catalog.xsd"))</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:type-name(A1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">anon:TYP000002</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-id(A1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-idrefs(A1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:parent(A1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-A2" class="attribute">
                     <td colspan="3" rowspan="1">// Attribute node A2</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-kind(A2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"attribute"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-name(A2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("http://www.w3.org/XML/1998/namespace", "xml:lang")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:string-value(A2)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"en"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:typed-value(A2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"en"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:type-name(A2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:NMTOKEN</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-id(A2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-idrefs(A2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:parent(A2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-A3" class="attribute">
                     <td colspan="3" rowspan="1">// Attribute node A3</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-kind(A3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"attribute"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-name(A3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("", "version")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:string-value(A3)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"0.1"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:typed-value(A3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"0.1"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:type-name(A3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:string</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-id(A3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-idrefs(A3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:parent(A3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-C1" class="comment">
                     <td colspan="3" rowspan="1">// Comment node C1</td>
                  </tr>
                  <tr class="comment">
                     <td rowspan="1" colspan="1">dm:base-uri(C1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="comment">
                     <td rowspan="1" colspan="1">dm:node-kind(C1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"comment"</td>
                  </tr>
                  <tr class="comment">
                     <td rowspan="1" colspan="1">dm:string-value(C1)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"&nbsp; This&nbsp; example&nbsp; is&nbsp; for&nbsp; data&nbsp; model&nbsp; illustration&nbsp; only.\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; It&nbsp; does&nbsp; not&nbsp;
                        demonstrate&nbsp; good&nbsp; schema&nbsp; design.&nbsp; "</td>
                  </tr>
                  <tr class="comment">
                     <td rowspan="1" colspan="1">dm:typed-value(C1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"&nbsp; This&nbsp; example&nbsp; is&nbsp; for&nbsp; data&nbsp; model&nbsp; illustration&nbsp; only.\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; It&nbsp; does&nbsp; not&nbsp;
                        demonstrate&nbsp; good&nbsp; schema&nbsp; design.&nbsp; "</td>
                  </tr>
                  <tr class="comment">
                     <td rowspan="1" colspan="1">dm:parent(C1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-E2" class="element">
                     <td colspan="3" rowspan="1">// Element node E2</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:base-uri(E2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-kind(E2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"element"</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-name(E2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("http://www.example.com/catalog", "tshirt")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:string-value(E2)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"&nbsp; Staind:&nbsp; Been&nbsp; Awhile&nbsp; Tee&nbsp; Black&nbsp; (1-sided)&nbsp; \n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lyrics&nbsp; from&nbsp; the&nbsp;
                        hit&nbsp; song&nbsp; 'It's&nbsp; Been&nbsp; Awhile'\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; are&nbsp; shown&nbsp; in&nbsp; white,&nbsp; beneath&nbsp; the&nbsp;
                        large\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Flock&nbsp; &amp;&nbsp; Weld'&nbsp; Staind&nbsp; logo.\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 25.00&nbsp; "</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:typed-value(E2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">fn:error()</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:type-name(E2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">cat:tshirtType</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-id(E2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-idrefs(E2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:parent(E2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:children(E2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E3">E3</a>], [<a href="#ex-E4">E4</a>], [<a href="#ex-E6">E6</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:attributes(E2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-A4">A4</a>], [<a href="#ex-A5">A5</a>], [<a href="#ex-A6">A6</a>], [<a href="#ex-A7">A7</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-nodes(E2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-bindings(E2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">("",&nbsp;"http://www.example.com/catalog", "html",&nbsp;"http://www.w3.org/1999/xhtml", "xlink",&nbsp;"http://www.w3.org/1999/xlink",
                        "xsi",&nbsp;"http://www.w3.org/2001/XMLSchema-instance", "xml",&nbsp;"http://www.w3.org/XML/1998/namespace")</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-A4" class="attribute">
                     <td colspan="3" rowspan="1">// Attribute node A4</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-kind(A4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"attribute"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-name(A4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("", "code")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:string-value(A4)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"T1534017"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:typed-value(A4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:ID("T1534017")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:type-name(A4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:ID</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-id(A4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">true</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-idrefs(A4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:parent(A4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-A5" class="attribute">
                     <td colspan="3" rowspan="1">// Attribute node A5</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-kind(A5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"attribute"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-name(A5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("", "label")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:string-value(A5)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"Staind&nbsp; :&nbsp; Been&nbsp; Awhile"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:typed-value(A5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:token("Staind : Been Awhile")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:type-name(A5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:token</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-id(A5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-idrefs(A5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:parent(A5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-A6" class="attribute">
                     <td colspan="3" rowspan="1">// Attribute node A6</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-kind(A6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"attribute"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-name(A6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("http://www.w3.org/1999/xlink", "xlink:href")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:string-value(A6)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"http://example.com/0,,1655091,00.html"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:typed-value(A6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://example.com/0,,1655091,00.html")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:type-name(A6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-id(A6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-idrefs(A6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:parent(A6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-A7" class="attribute">
                     <td colspan="3" rowspan="1">// Attribute node A7</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-kind(A7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"attribute"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-name(A7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("", "sizes")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:string-value(A7)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"M&nbsp; L&nbsp; XL"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:typed-value(A7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">(xs:token("M"), xs:token("L"), xs:token("XL"))</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:type-name(A7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">cat:sizeList</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-id(A7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-idrefs(A7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:parent(A7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-E3" class="element">
                     <td colspan="3" rowspan="1">// Element node E3</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:base-uri(E3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-kind(E3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"element"</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-name(E3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("http://www.example.com/catalog", "title")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:string-value(E3)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"Staind:&nbsp; Been&nbsp; Awhile&nbsp; Tee&nbsp; Black&nbsp; (1-sided)"</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:typed-value(E3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:token("Staind: Been Awhile Tee Black (1-sided)")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:type-name(E3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:token</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-id(E3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-idrefs(E3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:parent(E3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:children(E3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-T1">T1</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:attributes(E3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">()</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-nodes(E3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-bindings(E3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">("",&nbsp;"http://www.example.com/catalog", "html",&nbsp;"http://www.w3.org/1999/xhtml", "xlink",&nbsp;"http://www.w3.org/1999/xlink",
                        "xsi",&nbsp;"http://www.w3.org/2001/XMLSchema-instance", "xml",&nbsp;"http://www.w3.org/XML/1998/namespace")</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-T1" class="text">
                     <td colspan="3" rowspan="1">// Text node T1</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:base-uri(T1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:node-kind(T1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"text"</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:string-value(T1)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"Staind:&nbsp; Been&nbsp; Awhile&nbsp; Tee&nbsp; Black&nbsp; (1-sided)"</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:typed-value(T1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:untypedAtomic("Staind:&nbsp; Been&nbsp; Awhile&nbsp; Tee&nbsp; Black&nbsp; (1-sided)")</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:type-name(T1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:untypedAtomic</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:parent(T1)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E3">E3</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-E4" class="element">
                     <td colspan="3" rowspan="1">// Element node E4</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:base-uri(E4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-kind(E4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"element"</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-name(E4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("http://www.example.com/catalog", "description")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:string-value(E4)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lyrics&nbsp; from&nbsp; the&nbsp; hit&nbsp; song&nbsp; 'It's&nbsp; Been&nbsp; Awhile'\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; are&nbsp;
                        shown&nbsp; in&nbsp; white,&nbsp; beneath&nbsp; the&nbsp; large\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Flock&nbsp; &amp;&nbsp; Weld'&nbsp; Staind&nbsp; logo.\n&nbsp;
                        &nbsp; &nbsp; &nbsp; "</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:typed-value(E4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:untypedAtomic("\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lyrics&nbsp; from&nbsp; the&nbsp; hit&nbsp; song&nbsp; 'It's&nbsp; Been&nbsp; Awhile'\n&nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; are&nbsp; shown&nbsp; in&nbsp; white,&nbsp; beneath&nbsp; the&nbsp; large\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Flock&nbsp; &amp;&nbsp; Weld'&nbsp;
                        Staind&nbsp; logo.\n&nbsp; &nbsp; &nbsp; &nbsp; ")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:type-name(E4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">cat:description</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-id(E4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-idrefs(E4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:parent(E4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:children(E4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E5">E5</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:attributes(E4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">()</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-nodes(E4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-bindings(E4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">("",&nbsp;"http://www.example.com/catalog", "html",&nbsp;"http://www.w3.org/1999/xhtml", "xlink",&nbsp;"http://www.w3.org/1999/xlink",
                        "xsi",&nbsp;"http://www.w3.org/2001/XMLSchema-instance", "xml",&nbsp;"http://www.w3.org/XML/1998/namespace")</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-E5" class="element">
                     <td colspan="3" rowspan="1">// Element node E5</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:base-uri(E5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-kind(E5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"element"</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-name(E5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("http://www.w3.org/1999/xhtml", "html:p")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:string-value(E5)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lyrics&nbsp; from&nbsp; the&nbsp; hit&nbsp; song&nbsp; 'It's&nbsp; Been&nbsp; Awhile'\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; are&nbsp;
                        shown&nbsp; in&nbsp; white,&nbsp; beneath&nbsp; the&nbsp; large\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Flock&nbsp; &amp;&nbsp; Weld'&nbsp; Staind&nbsp; logo.\n&nbsp;
                        &nbsp; &nbsp; &nbsp; "</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:typed-value(E5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:untypedAtomic("\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lyrics&nbsp; from&nbsp; the&nbsp; hit&nbsp; song&nbsp; 'It's&nbsp; Been&nbsp; Awhile'\n&nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; are&nbsp; shown&nbsp; in&nbsp; white,&nbsp; beneath&nbsp; the&nbsp; large\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Flock&nbsp; &amp;&nbsp; Weld'&nbsp;
                        Staind&nbsp; logo.\n&nbsp; &nbsp; &nbsp; &nbsp; ")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:type-name(E5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyType</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-id(E5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-idrefs(E5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:parent(E5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E4">E4</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:children(E5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-T2">T2</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:attributes(E5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">()</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-nodes(E5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-bindings(E5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">("",&nbsp;"http://www.example.com/catalog", "html",&nbsp;"http://www.w3.org/1999/xhtml", "xlink",&nbsp;"http://www.w3.org/1999/xlink",
                        "xsi",&nbsp;"http://www.w3.org/2001/XMLSchema-instance", "xml",&nbsp;"http://www.w3.org/XML/1998/namespace")</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-T2" class="text">
                     <td colspan="3" rowspan="1">// Text node T2</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:base-uri(T2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:node-kind(T2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"text"</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:string-value(T2)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lyrics&nbsp; from&nbsp; the&nbsp; hit&nbsp; song&nbsp; 'It's&nbsp; Been&nbsp; Awhile'\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; are&nbsp;
                        shown&nbsp; in&nbsp; white,&nbsp; beneath&nbsp; the&nbsp; large\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Flock&nbsp; &amp;&nbsp; Weld'&nbsp; Staind&nbsp; logo.\n&nbsp;
                        &nbsp; &nbsp; &nbsp; "</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:typed-value(T2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:untypedAtomic("\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lyrics&nbsp; from&nbsp; the&nbsp; hit&nbsp; song&nbsp; 'It's&nbsp; Been&nbsp; Awhile'\n&nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; are&nbsp; shown&nbsp; in&nbsp; white,&nbsp; beneath&nbsp; the&nbsp; large\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Flock&nbsp; &amp;&nbsp; Weld'&nbsp;
                        Staind&nbsp; logo.\n&nbsp; &nbsp; &nbsp; &nbsp; ")</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:type-name(T2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:untypedAtomic</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:parent(T2)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E5">E5</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-E6" class="element">
                     <td colspan="3" rowspan="1">// Element node E6</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:base-uri(E6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-kind(E6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"element"</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-name(E6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("http://www.example.com/catalog", "price")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:string-value(E6)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"25.00"</td>
                  </tr>
                  <tr class="element">
                     <td colspan="3" rowspan="1">// The typed-value is based on the content type of the complex type for the element</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:typed-value(E6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">cat:monetaryAmount(25.0)</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:type-name(E6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">cat:price</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-id(E6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-idrefs(E6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:parent(E6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:children(E6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-T3">T3</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:attributes(E6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">()</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-nodes(E6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-bindings(E6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">("",&nbsp;"http://www.example.com/catalog", "html",&nbsp;"http://www.w3.org/1999/xhtml", "xlink",&nbsp;"http://www.w3.org/1999/xlink",
                        "xsi",&nbsp;"http://www.w3.org/2001/XMLSchema-instance", "xml",&nbsp;"http://www.w3.org/XML/1998/namespace")</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-T3" class="text">
                     <td colspan="3" rowspan="1">// Text node T3</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:base-uri(T3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:node-kind(T3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"text"</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:string-value(T3)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"25.00"</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:typed-value(T3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:untypedAtomic("25.00")</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:type-name(T3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:untypedAtomic</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:parent(T3)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E6">E6</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-E7" class="element">
                     <td colspan="3" rowspan="1">// Element node E7</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:base-uri(E7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-kind(E7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"element"</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-name(E7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("http://www.example.com/catalog", "album")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:string-value(E7)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"&nbsp; It's&nbsp; Been&nbsp; A&nbsp; While&nbsp; &nbsp; 10.99&nbsp; &nbsp; Staind&nbsp; "</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:typed-value(E7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">fn:error()</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:type-name(E7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">cat:albumType</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-id(E7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-idrefs(E7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:parent(E7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:children(E7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E8">E8</a>], [<a href="#ex-E9">E9</a>], [<a href="#ex-E10">E10</a>], [<a href="#ex-E11">E11</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:attributes(E7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-A8">A8</a>], [<a href="#ex-A9">A9</a>], [<a href="#ex-A10">A10</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-nodes(E7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-bindings(E7)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">("",&nbsp;"http://www.example.com/catalog", "html",&nbsp;"http://www.w3.org/1999/xhtml", "xlink",&nbsp;"http://www.w3.org/1999/xlink",
                        "xsi",&nbsp;"http://www.w3.org/2001/XMLSchema-instance", "xml",&nbsp;"http://www.w3.org/XML/1998/namespace")</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-A8" class="attribute">
                     <td colspan="3" rowspan="1">// Attribute node A8</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-kind(A8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"attribute"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-name(A8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("", "code")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:string-value(A8)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"A1481344"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:typed-value(A8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:ID("A1481344")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:type-name(A8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:ID</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-id(A8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">true</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-idrefs(A8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:parent(A8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-A9" class="attribute">
                     <td colspan="3" rowspan="1">// Attribute node A9</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-kind(A9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"attribute"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-name(A9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("", "label")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:string-value(A9)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"Staind&nbsp; :&nbsp; Its&nbsp; Been&nbsp; A&nbsp; While"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:typed-value(A9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:token("Staind : Its Been A While")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:type-name(A9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:token</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-id(A9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-idrefs(A9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:parent(A9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-A10" class="attribute">
                     <td colspan="3" rowspan="1">// Attribute node A10</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-kind(A10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"attribute"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-name(A10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("", "formats")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:string-value(A10)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"CD"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:typed-value(A10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">cat:formatType("CD")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:type-name(A10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">cat:formatType</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-id(A10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-idrefs(A10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:parent(A10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-E8" class="element">
                     <td colspan="3" rowspan="1">// Element node E8</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:base-uri(E8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-kind(E8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"element"</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-name(E8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("http://www.example.com/catalog", "title")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:string-value(E8)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"It's&nbsp; Been&nbsp; A&nbsp; While"</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:typed-value(E8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:token("It's Been A While")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:type-name(E8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:token</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-id(E8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-idrefs(E8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:parent(E8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:children(E8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-T4">T4</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:attributes(E8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">()</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-nodes(E8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-bindings(E8)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">("",&nbsp;"http://www.example.com/catalog", "html",&nbsp;"http://www.w3.org/1999/xhtml", "xlink",&nbsp;"http://www.w3.org/1999/xlink",
                        "xsi",&nbsp;"http://www.w3.org/2001/XMLSchema-instance", "xml",&nbsp;"http://www.w3.org/XML/1998/namespace")</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-T4" class="text">
                     <td colspan="3" rowspan="1">// Text node T4</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:base-uri(T4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:node-kind(T4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"text"</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:string-value(T4)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"It's&nbsp; Been&nbsp; A&nbsp; While"</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:typed-value(T4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:untypedAtomic("It's&nbsp; Been&nbsp; A&nbsp; While")</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:type-name(T4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:untypedAtomic</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:parent(T4)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E8">E8</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-E9" class="element">
                     <td colspan="3" rowspan="1">// Element node E9</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:base-uri(E9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-kind(E9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"element"</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-name(E9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("http://www.example.com/catalog", "description")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:string-value(E9)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">""</td>
                  </tr>
                  <tr class="element">
                     <td colspan="3" rowspan="1">// xsi:nil is true so the typed value is the empty sequence</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:typed-value(E9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">()</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:type-name(E9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">cat:description</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-id(E9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-idrefs(E9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:parent(E9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:children(E9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">()</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:attributes(E9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-A11">A11</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-nodes(E9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-bindings(E9)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">("",&nbsp;"http://www.example.com/catalog", "html",&nbsp;"http://www.w3.org/1999/xhtml", "xlink",&nbsp;"http://www.w3.org/1999/xlink",
                        "xsi",&nbsp;"http://www.w3.org/2001/XMLSchema-instance", "xml",&nbsp;"http://www.w3.org/XML/1998/namespace")</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-A11" class="attribute">
                     <td colspan="3" rowspan="1">// Attribute node A11</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-kind(A11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"attribute"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-name(A11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("http://www.w3.org/2001/XMLSchema-instance", "xsi:nil")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:string-value(A11)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"true"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:typed-value(A11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:boolean("true")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:type-name(A11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:boolean</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-id(A11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-idrefs(A11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:parent(A11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E9">E9</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-E10" class="element">
                     <td colspan="3" rowspan="1">// Element node E10</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:base-uri(E10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-kind(E10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"element"</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-name(E10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("http://www.example.com/catalog", "price")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:string-value(E10)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"10.99"</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:typed-value(E10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">cat:monetaryAmount(10.99)</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:type-name(E10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">cat:price</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-id(E10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-idrefs(E10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:parent(E10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:children(E10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-T5">T5</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:attributes(E10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-A12">A12</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-nodes(E10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-bindings(E10)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">("",&nbsp;"http://www.example.com/catalog", "html",&nbsp;"http://www.w3.org/1999/xhtml", "xlink",&nbsp;"http://www.w3.org/1999/xlink",
                        "xsi",&nbsp;"http://www.w3.org/2001/XMLSchema-instance", "xml",&nbsp;"http://www.w3.org/XML/1998/namespace")</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-A12" class="attribute">
                     <td colspan="3" rowspan="1">// Attribute node A12</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-kind(A12)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"attribute"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:node-name(A12)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("", "currency")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:string-value(A12)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"USD"</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:typed-value(A12)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">cat:currencyType("USD")</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:type-name(A12)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">cat:currencyType</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-id(A12)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:is-idrefs(A12)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="attribute">
                     <td rowspan="1" colspan="1">dm:parent(A12)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E10">E10</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-T5" class="text">
                     <td colspan="3" rowspan="1">// Text node T5</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:base-uri(T5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:node-kind(T5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"text"</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:string-value(T5)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"10.99"</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:typed-value(T5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:untypedAtomic("10.99")</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:type-name(T5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:untypedAtomic</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:parent(T5)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E10">E10</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-E11" class="element">
                     <td colspan="3" rowspan="1">// Element node E11</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:base-uri(E11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-kind(E11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"element"</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:node-name(E11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:QName("http://www.example.com/catalog", "artist")</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:string-value(E11)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"&nbsp; Staind&nbsp; "</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:typed-value(E11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">" Staind "</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:type-name(E11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:string</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-id(E11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:is-idrefs(E11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">false</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:parent(E11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:children(E11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-T6">T6</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:attributes(E11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">()</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-nodes(E11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td>
                  </tr>
                  <tr class="element">
                     <td rowspan="1" colspan="1">dm:namespace-bindings(E11)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">("",&nbsp;"http://www.example.com/catalog", "html",&nbsp;"http://www.w3.org/1999/xhtml", "xlink",&nbsp;"http://www.w3.org/1999/xlink",
                        "xsi",&nbsp;"http://www.w3.org/2001/XMLSchema-instance", "xml",&nbsp;"http://www.w3.org/XML/1998/namespace")</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
                  <tr id="ex-T6" class="text">
                     <td colspan="3" rowspan="1">// Text node T6</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:base-uri(T6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:node-kind(T6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">"text"</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:string-value(T6)</td>
                     <td rowspan="1" colspan="1">=</td>
                     <td rowspan="1" colspan="1">"&nbsp; Staind&nbsp; "</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:typed-value(T6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:untypedAtomic("&nbsp; Staind&nbsp; ")</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:type-name(T6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">xs:untypedAtomic</td>
                  </tr>
                  <tr class="text">
                     <td rowspan="1" colspan="1">dm:parent(T6)</td>
                     <td rowspan="1" colspan="1"> =&nbsp;</td>
                     <td rowspan="1" colspan="1">([<a href="#ex-E11">E11</a>])</td>
                  </tr>
                  <tr>
                     <td colspan="3" rowspan="1">&nbsp;</td>
                  </tr>
               </tbody>
            </table>
            <p>A graphical representation of the data model for the preceding
example is shown below. Document order in this representation can be
found by following the traditional left-to-right,
depth-first traversal; however, because the image has been rotated for
easier presentation, this appears to be bottom-to-top,
depth-first order.</p>
            <table>
               <tbody>
                  <tr>
                     <td rowspan="1" colspan="1">
                        <next-match></next-match>
                        </td>
                  </tr>
                  <tr>
                     <td rowspan="1" colspan="1">Graphic representation of the data model.
                        [<a href="dm-example-large.png">large view</a>,
                        <a href="dm-example.svg">SVG</a>]
                        </td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div class="div1">
            
            <h2><a id="impl-summary"></a>E <a href="#impl-summary" style="text-decoration: none">Implementation-Defined and Implementation-Dependent Items</a> (Non-Normative)</h2>
            <div class="div2">
               
               <h3><a id="implementation-defined"></a>E.1 <a href="#implementation-defined" style="text-decoration: none">Implementation-Defined Items</a></h3>
               <p>The following items are
<a title="implementation       defined" class="termref" href="#dt-implementation-defined">implementation-defined</a>.
</p>
               <ol>
                  <li>Support for additional user-defined or
                     implementation-defined types is implementation-defined. (See <a href="#types-representation"><b>4.1.3 Representation of Types</b></a>)</li>
                  <li>When converting from an
                     <code>xs:string</code> to an <code>xs:float</code> or
                     <code>xs:double</code>, it is implementation-defined whether the
                     lexical value “-0” (and similar forms such as “-0.0”) convert to
                     negative zero or to positive zero in the value space. (See <a href="#NegativeZero"><b>5.2 Negative Zero</b></a>)</li>
                  <li>Data model construction from sources other than
                     an Infoset or PSVI is implementation-defined. (See <a href="#construction"><b>6.5 Document Construction</b></a>)</li>
                  <li>Some typed values in the data model are <em>absent</em>.
                     Attempting to access an absent typed value is an error. Behavior
                     in these cases is implementation defined and the host language is responsible
                     for determining the result. (See <a href="#accessors"><b>6.7 Accessors</b></a>)</li>
               </ol>
            </div>
            <div class="div2">
               
               <h3><a id="implementation-dependent"></a>E.2 <a href="#implementation-dependent" style="text-decoration: none">Implementation-Dependent Items</a></h3>
               <p>The following items are
<a title="implementation       dependent" class="termref" href="#dt-implementation-dependent">implementation-dependent</a>.
</p>
               <ol>
                  <li>The names of anonymous types are implementation-dependent.
                     (See <a href="#types-representation"><b>4.1.3 Representation of Types</b></a>)</li>
                  <li>The relative order of namespace nodes nodes is
                     stable but implementation-dependent. (See <a href="#document-order"><b>6.3 Document Order</b></a>)</li>
                  <li>The relative order of attribute nodes nodes is
                     stable but implementation-dependent. (See <a href="#document-order"><b>6.3 Document Order</b></a>)</li>
                  <li>The relative order of distinct trees is
                     stable but implementation-dependent. (See <a href="#document-order"><b>6.3 Document Order</b></a>)</li>
                  <li>The prefix associated with type names is
                     implementation-dependent.
                     (See <a href="#PSVI2NodeTypes"><b>6.5.3.1.1 Element and Attribute Node Types</b></a>)</li>
               </ol>
            </div>
         </div>
         <div class="div1">
            
            <h2><a id="ChangeLog"></a>F <a href="#ChangeLog" style="text-decoration: none">Change Log</a> (Non-Normative)</h2>
            <p>The following substantive changes have been made to this document since the
   <a href="https://www.w3.org/TR/xpath-datamodel-31/">XPath and XQuery Data Model 3.1 Recommendation of 21 March 2017</a>.</p>
            <ol>
               <li>
                  <p>Use the arrows to browse significant changes since the 3.1 version of this specification.</p>
                  <p>See <a href="#intro"><b>1 Introduction</b></a></p>
               </li>
               <li>
                  <p>Sections with significant changes are marked Δ in the table of contents.</p>
                  <p>See <a href="#intro"><b>1 Introduction</b></a></p>
               </li>
               <li>
                  <p>Constructors are added, and the single accessor function
    is now an iterator over the key/value pairs in the map.</p>
                  <p>See <a href="#map-items"><b>7.2 Map Items</b></a></p>
                  <p>Constructors are added, and the single accessor function
    is now an iterator over the members of the array.</p>
                  <p>See <a href="#array-items"><b>7.3 Array Items</b></a></p>
               </li>
               <li>
                  <p>
      The <b>parameter names</b> property of a function item is dropped;
      the property never had any effect on the semantics of the language.
    </p>
                  <p>See <a href="#function-items"><b>7.1 Function Items</b></a></p>
               </li>
               <li>
                  <p>PR <a href="https://github.com/qt4cg/qtspecs/pull/232">232&nbsp;</a></p>
                  <p>
        Clarified the terminology concerning atomic types and type annotations.
      </p>
                  <p>See <a href="#basic-concepts"><b>3.1 Basic Concepts</b></a></p>
               </li>
               <li>
                  <p>PR <a href="https://github.com/qt4cg/qtspecs/pull/525">525&nbsp;</a></p>
                  <p>
      Introduced the concept of function identity.
    </p>
                  <p>See <a href="#function-items"><b>7.1 Function Items</b></a></p>
               </li>
               <li>
                  <p>PR <a href="https://github.com/qt4cg/qtspecs/pull/546">546&nbsp;</a></p>
                  <p>
      Relaxed the rules regarding use of non-XML characters in instances of <code>xs:string</code>.
    </p>
                  <p>See <a href="#xml-and-xsd-versions"><b>4.1.5 XML and XSD Versions</b></a></p>
               </li>
               <li>
                  <p>PR <a href="https://github.com/qt4cg/qtspecs/pull/988">988&nbsp;</a></p>
                  <p>
        Introduced the concept of labeled items.
      </p>
                  <p>See <a href="#id-LabeledItems"><b>3.3 Labeled Items</b></a></p>
               </li>
               <li>
                  <p>PR <a href="https://github.com/qt4cg/qtspecs/pull/1361">1361&nbsp;</a></p>
                  <p>
        The term <b>atomic value</b> has been replaced by <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a>.
      </p>
                  <p>See <a href="#basic-concepts"><b>3.1 Basic Concepts</b></a></p>
                  <p>See <a href="#atomic-items"><b>5 Atomic Items</b></a></p>
               </li>
               <li>
                  <p>PR <a href="https://github.com/qt4cg/qtspecs/pull/1703">1703&nbsp;</a></p>
                  <p>Ordered maps are introduced.</p>
                  <p>See <a href="#map-items"><b>7.2 Map Items</b></a></p>
               </li>
            </ol>
         </div>
         <div class="div1">
            
            <h2><a id="id-accessor-summary"></a>G <a href="#id-accessor-summary" style="text-decoration: none">Accessor Summary</a> (Non-Normative)</h2>
            <p>This section summarizes the return values of each accessor by node type.</p>
            <div>
               <h3 id="acc-summ-attributes">G.1 <a href="#dm-attributes"><em>dm:</em>attributes</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">attributes</b> property. The order of
attribute nodes is stable but implementation dependent.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
               </dl>
            </div>
            <div>
               <h3 id="acc-summ-base-uri">G.2 <a href="#dm-base-uri"><em>dm:</em>base-uri</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">base-uri</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">base-uri</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>If the attribute has a parent, returns the value of the
<span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span> of its parent; otherwise it returns
the empty sequence.</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">base-uri</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>If the comment has a parent, returns the value of the
<span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span> of its parent; otherwise, returns
the empty sequence.</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>If the text node has a parent, returns the value of the
<span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span> of its parent; otherwise, returns
the empty sequence.</p>
                  </dd>
               </dl>
            </div>
            <div>
               <h3 id="acc-summ-children">G.3 <a href="#dm-children"><em>dm:</em>children</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">children</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">children</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
               </dl>
            </div>
            <div>
               <h3 id="acc-summ-document-uri">G.4 <a href="#dm-document-uri"><em>dm:</em>document-uri</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the absolute URI of the resource from which the document node was
constructed, or the empty sequence if no such absolute URI is available.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
               </dl>
            </div>
            <div>
               <h3 id="acc-summ-is-id">G.5 <a href="#dm-is-id"><em>dm:</em>is-id</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">is-id</b>
property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">is-id</b>
property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
               </dl>
            </div>
            <div>
               <h3 id="acc-summ-is-idrefs">G.6 <a href="#dm-is-idrefs"><em>dm:</em>is-idrefs</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">is-idrefs</b>
property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">is-idrefs</b>
property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
               </dl>
            </div>
            <div>
               <h3 id="acc-summ-namespace-nodes">G.7 <a href="#dm-namespace-nodes"><em>dm:</em>namespace-nodes</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">namespaces</b> property as a sequence of
namespace nodes. The order of
namespace nodes is stable but implementation dependent.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
               </dl>
            </div>
            <div>
               <h3 id="acc-summ-nilled">G.8 <a href="#dm-nilled"><em>dm:</em>nilled</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">nilled</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
               </dl>
            </div>
            <div>
               <h3 id="acc-summ-node-kind">G.9 <a href="#dm-node-kind"><em>dm:</em>node-kind</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns “<code>document</code>”.</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns “<code>element</code>”.</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns “<code>attribute</code>”.</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns “<code>namespace</code>”.</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns “<code>processing-instruction</code>”.</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns “<code>comment</code>”.</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns “<code>text</code>”.</p>
                  </dd>
               </dl>
            </div>
            <div>
               <h3 id="acc-summ-node-name">G.10 <a href="#dm-node-name"><em>dm:</em>node-name</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">node-name</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">node-name</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>If the <b class="dm-node-prop">prefix</b> is not empty,
returns an <code>xs:QName</code> with the value of the <b class="dm-node-prop">prefix</b> property
in the local-name and an empty namespace name, otherwise returns
the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns an <code>xs:QName</code> with the value of the <b class="dm-node-prop">target</b>
property in the local-name and an empty namespace URI and empty prefix.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
               </dl>
            </div>
            <div>
               <h3 id="acc-summ-parent">G.11 <a href="#dm-parent"><em>dm:</em>parent</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">parent</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">parent</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">parent</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">parent</b> property.</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">parent</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">parent</b> property.
</p>
                  </dd>
               </dl>
            </div>
            <div>
               <h3 id="acc-summ-string-value">G.12 <a href="#dm-string-value"><em>dm:</em>string-value</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">string-value</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">string-value</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">string-value</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">uri</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">content</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">content</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">content</b> property.
</p>
                  </dd>
               </dl>
            </div>
            <div>
               <h3 id="acc-summ-type-name">G.13 <a href="#dm-type-name"><em>dm:</em>type-name</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">schema-type</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">schema-type</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns <code>xs:untypedAtomic</code>.
</p>
                  </dd>
               </dl>
            </div>
            <div>
               <h3 id="acc-summ-typed-value">G.14 <a href="#dm-typed-value"><em>dm:</em>typed-value</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">typed-value</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">typed-value</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">typed-value</b> property.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">uri</b> property as an
<code>xs:string</code>.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">content</b> property as a
<code>xs:string</code>.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">content</b> property as a
<code>xs:string</code>.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the value of the <b class="dm-node-prop">content</b> property as an
<code>xs:untypedAtomic</code>.
</p>
                  </dd>
               </dl>
            </div>
            <div>
               <h3 id="acc-summ-unparsed-entity-public-id">G.15 <a href="#dm-unparsed-entity-public-id"><em>dm:</em>unparsed-entity-public-id</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the public identifier of the specified unparsed entity or
the empty sequence if no such entity exists.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
               </dl>
            </div>
            <div>
               <h3 id="acc-summ-unparsed-entity-system-id">G.16 <a href="#dm-unparsed-entity-system-id"><em>dm:</em>unparsed-entity-system-id</a> Accessor</h3>
               <dl>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the system identifier of the specified unparsed entity or
the empty sequence if no such entity exists.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
                  <dt><a href="#node-kinds">Node Kinds</a></dt>
                  <dd>
                     <p>Returns the empty sequence.
</p>
                  </dd>
               </dl>
            </div>
         </div>
         <div class="div1">
            
            <h2><a id="id-infoset-construction-summary"></a>H <a href="#id-infoset-construction-summary" style="text-decoration: none">Infoset Construction Summary</a> (Non-Normative)</h2>
            <p>This section summarizes data model construction from an Infoset for each
  kind of information item. General notes <a href="#const-infoset">occur
  elsewhere</a>.</p>
            <div>
               <h3><a id="auto-const-infoset"></a>H.1 Document Construction Information Items</h3>
               <p>An instance of the data model can be constructed from an infoset
that satisfies the
following general constraints:</p>
               <ul>
                  <li>
                     <p>All general and external parsed entities must be fully expanded. The
Infoset must not contain any <b class="info-item">unexpanded entity
reference information items</b>.</p>
                  </li>
                  <li>
                     <p>The infoset <span class="verb">must</span> provide all of the properties identified as
“required” in this document.
The properties identified as “optional”
may be used, if they are present. All other properties are ignored.</p>
                  </li>
               </ul>
               <p>An instance of the data model constructed from an information set
<span class="verb">must</span> be consistent with the description provided
for each node kind.</p>
               <p>Furthermore, construction of an instance
of the data model from an Infoset is guaranteed to be
well-defined only for those Infosets that could have been derived from a
conforming XML document.</p>
            </div>
         </div>
         <div class="div1">
            
            <h2><a id="id-psvi-construction-summary"></a>I <a href="#id-psvi-construction-summary" style="text-decoration: none">PSVI Construction Summary</a> (Non-Normative)</h2>
            <p>This section summarizes data model construction from a PSVI
  for each kind of information item. General notes
  <a href="#const-psvi">occur elsewhere</a>.</p>
            <div>
               <h3><a id="auto-const-psvi"></a>I.1 Document Construction Information Items</h3>
               <p>An instance of the data model can be constructed from a PSVI, whose
element and attribute information items have been strictly assessed,
laxly assessed, or have not been assessed. Constructing an instance of
the data model from a PSVI <span class="verb">must</span> be consistent with
the description provided in this section and with the description
provided for each node kind.</p>
               <p>Data model construction requires that the PSVI provide unique names
for all anonymous schema types.</p>
               <div class="note">
                  <p class="prefix"><b>Note:</b></p>
                  <p><a href="#xmlschema-1">[Schema Part 1]</a> does not require all schema processors to
provide unique names for anonymous schema types. In order to build an
instance of the data model
from a PSVI produced by a processor that does not provide the names,
some post-processing will be required in order to ensure that they are
all uniquely identified before construction begins.</p>
               </div>
               <p>[<a id="dt-incompletely-validated" title="incompletely validated">Definition</a>: An
<b>incompletely validated</b> document is an XML document that has a
corresponding schema but whose schema-validity assessment has resulted
in one or more element or attribute information items being assigned
values other than ‘valid’ for the <b class="infoset-property">[validity]</b>
property in the PSVI.]</p>
               <p>The data model supports incompletely validated documents. Elements
and attributes that are not valid are treated as having unknown types.</p>
               <p>The most significant difference between Infoset construction and PSVI
construction occurs in the area of schema type assignment. Other differences
can also arise from schema processing: default attribute and element values
may be provided, white space normalization of element content may occur, and the
user-supplied lexical form of elements and attributes with atomic schema types
may be lost.</p>
               <div class="div4">
                  
                  <h5><a id="PSVI2Types"></a>6.5.3.1 <a href="#PSVI2Types" style="text-decoration: none">Mapping PSVI Additions to Node Properties</a></h5>
                  <p>A PSVI element or attribute information item may have a
<b class="infoset-property">[validity]</b> property.
The <b class="infoset-property">[validity]</b> property may be
“<em>valid</em> ”, “<em>invalid</em> ”,
or “<em>notKnown</em> ”
and reflects the outcome of schema-validity assessment. In the data
model, precise schema type information is exposed for element and
attribute nodes that are “<em>valid</em> ”. Nodes
that are not “<em>valid</em> ” are treated as if they
were simply well-formed XML and only very general schema type
information is associated with them.
</p>
                  <div class="div5">
                     
                     <h6><a id="PSVI2NodeTypes"></a>6.5.3.1.1 <a href="#PSVI2NodeTypes" style="text-decoration: none">Element and Attribute Node Types</a></h6>
                     <p>The precise definition of the schema type of an element or attribute
information item depends on the properties of the PSVI.
In the PSVI, <a href="#xmlschema-1">[Schema Part 1]</a>
defines a
<b class="infoset-property">[type definition]</b> property
as well as the
<b class="infoset-property">[type definition namespace]</b>,
<b class="infoset-property">[type definition name]</b> and
<b class="infoset-property">[type definition anonymous]</b>
properties, which are effectively short-cut terms for properties of
the type definition.
Further, the <b class="infoset-property">[element declaration]</b> and
<b class="infoset-property">[attribute declaration]</b>
properties are defined for elements and attributes, respectively.
These declarations in turn will identify the
<b class="infoset-property">[type definition]</b>
declared for the element or attribute. To distinguish the
<b class="infoset-property">[type definition]</b>
given in the PSVI for the element or attribute instance
from the <b class="infoset-property">[type definition]</b> associated
with the declaration, the former is referred to below as the actual
type and the latter as the declared type of the element or attribute
instance in question.
</p>
                     <p>The type depends on the declared type, the actual type, and the
<b class="infoset-property">[validity]</b> and
<b class="infoset-property">[validation attempted]</b> properties in
the PSVI. If:</p>
                     <ul>
                        <li>
                           <p>The <b class="infoset-property">[validity]</b> and
<b class="infoset-property">[validation attempted]</b> properties exist
and have the values “<em>valid</em> ” and
“<em>full</em> ”, respectively, the
schema type of an element or attribute information item is
represented by an <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a>
whose namespace and local name correspond
to the first applicable items in the following list:
</p>
                           <ul>
                              <li>
                                 <p>If the declared type exists and is a union and the actual type is (not the
same as the declared type, and not a type derived from the declared
type, but) one of the member types of the union, or derived from one
of its member types:
</p>
                                 <ul>
                                    <li>
                                       <p>If the {name} property of the declared type is present: the
  {target namespace} and {name} properties of the declared type.
  </p>
                                    </li>
                                    <li>
                                       <p>If the {name} property of the declared type is absent: the
  namespace and local name of the anonymous type name supplied for the
  declared type.
  </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>If there is no declared type, and the actual type is a union, then:</p>
                                 <ul>
                                    <li>
                                       <p>If the {name} property of the actual type is present: the {target
  namespace} and {name} properties of the actual type.
  </p>
                                    </li>
                                    <li>
                                       <p>If the {name} property of the actual type is absent: the
  namespace and local name of the anonymous type name supplied for the
  actual type.</p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Otherwise:</p>
                                 <ul>
                                    <li>
                                       <p>If <b class="infoset-property">[type definition anonymous]</b>
  is false: the {target namespace} and {name} properties of the actual type.
  </p>
                                    </li>
                                    <li>
                                       <p>If <b class="infoset-property">[type definition anonymous]</b> is true:
  the namespace and local name of the anonymous type name supplied for
  the actual type.</p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>The <b class="infoset-property">[validity]</b> property exists
and is “<em>invalid</em> ”, or the
<b class="infoset-property">[validation attempted]</b> property exists
and is “<em>partial</em> ”, the schema type of an element
is <code>xs:anyType</code> and the type of an attribute is
<code>xs:anySimpleType</code>.</p>
                        </li>
                        <li>
                           <p>The <b class="infoset-property">[validity]</b> property exists and is
“<em>notKnown</em> ”, the schema type of an element is
<code>xs:anyType</code> and the type of an attribute is
<code>xs:anySimpleType</code>.
</p>
                        </li>
                        <li>
                           <p>The <b class="infoset-property">[validity]</b> or
<b class="infoset-property">[validation attempted]</b> properties do not
exist, the schema type of an element is
<code>xs:untyped</code> and the type of an attribute is
<code>xs:untypedAtomic</code>.
</p>
                        </li>
                     </ul>
                     <p>The prefix associated with the type names is implementation-dependent.</p>
                  </div>
                  <div class="div5">
                     
                     <h6><a id="TypedValueDetermination"></a>6.5.3.1.2 <a href="#TypedValueDetermination" style="text-decoration: none">Typed Value Determination</a></h6>
                     <p>This section describes how the typed value of an element or
attribute node is computed from an element or attribute PSVI
information item, where the information item has either a simple type
or a complex type with simple content. For other kinds of
element nodes, see <a href="#const-psvi-element"><b>6.6.2.4 Construction from a PSVI</b></a>; for other kinds of
attribute nodes, see <a href="#const-psvi-attribute"><b>6.6.3.4 Construction from a PSVI</b></a>.</p>
                     <p>The typed value of attribute nodes and some element nodes is a
sequence of <a title="atomic item" class="termref" href="#dt-atomic-item">atomic items</a>. The
types of the items in the typed value of a node may differ from
the type of the node itself. This section describes how the typed
value of a node is derived from the properties of an information item
in a PSVI.</p>
                     <p>The types of the items in the typed value of a node are determined as follows.
The process begins with a type, <code>T</code>. If the schema type of the node itself, as
represented in the PSVI, is a complex type with simple content, then <code>T</code> is the
{content type} of the schema type of the node; otherwise, <code>T</code> is the schema type
of the node itself. For each primitive or ordinary simple type <code>T</code>, the W3C XML
Schema specification defines a function <code>M</code> mapping the lexical representation of
a value onto the value itself.</p>
                     <div class="note">
                        <p class="prefix"><b>Note:</b></p>
                        <p>For atomic and list types, the mapping is the “lexical mapping”
defined for <code>T</code> in
<a href="#xmlschema-2">[Schema Part 2]</a>; for union types, the mapping is the
lexical mapping defined in
<a href="#xmlschema-2">[Schema Part 2]</a> modified
as appropriate by any applicable rules in
<a href="#xmlschema-1">[Schema Part 1]</a>. The mapping, so modified, is a function
(in the mathematical sense) which maps to a single value even
in cases where the lexical mapping proper maps to multiple values.
</p>
                     </div>
                     <p>The typed value is determined as follows:</p>
                     <ul>
                        <li>
                           <p>If the <b class="dm-node-prop">nilled</b> property of the node in question is
<code>true</code>, then the typed value is the empty sequence.
</p>
                        </li>
                        <li>
                           <p>If <code>T</code> is <code>xs:anySimpleType</code> or
<code>xs:anyAtomicType</code>, the typed value
is the <b class="infoset-property">[schema normalized value]</b> as
an instance of <code>xs:untypedAtomic</code>.
</p>
                        </li>
                        <li>
                           <p>Otherwise, the typed value is the result of applying <code>M</code>
to the string value as an instance of the appropriate value type,
where the appropriate value type is the <b class="infoset-property">[member
type definition]</b> if <code>T</code> is a union type, otherwise it
is simply <code>T</code>.
</p>
                        </li>
                     </ul>
                     <p>The typed value determination process is guaranteed to result in a
sequence of <a title="atomic item" class="termref" href="#dt-atomic-item">atomic items</a>, 
  each having a well-defined atomic type. This
sequence of atomic items, in turn, determines the
typed-value property of the node in the data model.</p>
                  </div>
                  <div class="div5">
                     
                     <h6><a id="typed-string-relationships"></a>6.5.3.1.3 <a href="#typed-string-relationships" style="text-decoration: none">Relationship Between Typed-Value and String-Value</a></h6>
                     <p>Element and attribute nodes have both typed-value and string-value
properties (the terms <b>typed value</b> and <b>string value</b> are 
defined at <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#id-typed-value">Section 2.5.2 Typed Value and String Value</a><sup><small>XP</small></sup> of <a href="#xpath-40">[XML Path Language (XPath) 4.0]</a>). 
However, implementations are allowed some flexibility in
how these properties are stored. An implementation may choose to store
the string-value property only and derive the typed-value property from it, or to store
the typed-value property only and derive the string-value property from it, or to store
both the string-value property and the typed-value property.</p>
                     <p>To permit these various implementation strategies, some
variations in the string value of a node are defined as insignificant.
Implementations that store only the typed value of a node are permitted to
return a string value that is different from the original lexical form of
the node content. For example, consider the following element:</p>
                     <div class="exampleInner">
                        <pre>&lt;offset xsi:type="xs:integer"&gt;0030&lt;/offset&gt;</pre>
                     </div>
                     <p>Assuming that the node is valid, it has a typed value of 30 as an
<code>xs:integer</code>. An implementation may return either “<code>30</code>” or
“<code>0030</code>” as the string value of the node. Any string that is a valid
lexical representation of the typed value is acceptable. In this
specification, we express this rule by saying that the relationship
between the string value of a node and its typed value must be
“consistent with schema validation.”</p>
                     <p>If an implementation stores only the string value of a node, the
following considerations apply:</p>
                     <ul>
                        <li>
                           <p>Where union types occur, the implementation must be able to deliver
the typed value as an instance of the appropriate member type. For
example, if the type of 
an element node is <code>my:integer-or-string</code>, which is
defined as a union of <code>xs:integer</code> and <code>xs:string</code>, and the string value
of the node is “47”, the implementation must be able to deliver the
typed value of the node as either the integer <code>47</code> or the string <code>"47"</code>,
depending on which member type validated the element.</p>
                        </li>
                        <li>
                           <p>Where types of <code>xs:QName</code>, <code>xs:NOTATION</code>, or
types derived from one of these types occur, the implementation must
be able to deliver the typed value as a triple consisting of a local name,
a namespace prefix, and a namespace URI, even though the namespace URI
is not part of the string-value (see
<a href="#qnames-and-notations"><b>5.4 QNames and NOTATIONS</b></a>).</p>
                        </li>
                        <li>
                           <p>Where an element with a complex type and element-only content
occurs, it is an error to attempt to access the typed-value of the
element node.</p>
                        </li>
                     </ul>
                     <p>If an implementation stores only the typed value of a node, it must
be prepared to construct string values from not only the node, but in
some cases also the descendants of that node. For example, an element
with a complex type and element-only content has no typed value but
does have a string value that is the concatenation of the
string values of all its text node descendants in document order.</p>
                     <p>A further caveat applies if an implementation stores the typed
value of a node. If a new data model is constructed by copying
portions of another data model, and the copy operation does not
preserve inherited namespaces, and the type is a union type that is
sensitive to the namespace context, then the typed value may be
different than what would be obtained by revalidating the node within
its new namespace context. Although this may stretch the semantics of
“consistent with schema validation”, we accept this possibility; it
is not an error.</p>
                  </div>
                  <div class="div5">
                     
                     <h6><a id="pattern-facets"></a>6.5.3.1.4 <a href="#pattern-facets" style="text-decoration: none">Pattern Facets</a></h6>
                     <p>Creating a subtype by restriction generally reduces the
<em>value</em> space of the original schema type. For example,
expressing a hat size as a restriction of decimal with a minimum value
of 6.5 and maximum value of 8.0 creates a schema type whose valid values are
only those in the range 6.5 to 8.0.</p>
                     <p>The pattern facet is different because it restricts the
<em>lexical</em> space of the schema type, not its value space.
Expressing a three-digit number as a restriction of integer with the
pattern facet “[0-9]{3}” creates a schema type whose valid values
are only those with a lexical form consisting of three digits.</p>
                     <p>The pattern facet is not reversible in practice. A given point in
the value space might have several lexical representations. In
general, there is no practical way to determine which, if any, of these
representations satisfies the pattern facet of the type.</p>
                     <p>As a consequence, pattern facets are not respected when mapping to
an Infoset or during serialization, and values in the data model that
were originally valid with respect to a schema that contains
pattern-based restrictions may be invalid after serialization.</p>
                  </div>
               </div>
            </div>
         </div>
         <div class="div1">
            
            <h2><a id="id-infoset-mapping-summary"></a>J <a href="#id-infoset-mapping-summary" style="text-decoration: none">Infoset Mapping Summary</a> (Non-Normative)</h2>
            <p>This section summarizes the infoset mapping for each kind of node.</p>
         </div>
      </div><script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script><script src="js/toc.js"></script></body>
</html>