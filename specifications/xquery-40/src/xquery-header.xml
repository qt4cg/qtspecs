<?xml version="1.0" encoding="utf-8"?>
<header id="id-spec-header">

<title>&language-title;</title>
<version>&version;</version>
<w3c-designation>&doc.w3c-designation;</w3c-designation>
<w3c-doctype>W3C &doc.w3c-doctype-full;</w3c-doctype>
<pubdate>
 <day>&date.day;</day>
 <month>&date.month;</month>
 <year>&date.year;</year>
</pubdate>

<publoc>
<loc href="&doc.publoc;">&doc.publoc;</loc>
</publoc>

<!-- These altlocs URIs are computed from the concatenation of doc.public, doc.shortname, and either '.xml' or
     '-diff-from-yyyymmdd.html', where 'yyyymmdd' is the earlier version of the spec from which a diff has been produced -->
<altlocs>
   <loc xmlns:xlink="http://www.w3.org/1999/xlink" href="&doc.shortname;.xml" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">XML</loc>
</altlocs>

<!-- The latestloc URI is computed from doc.latestloc -->
<!--<latestloc doc="&language;">
  <loc xmlns:xlink="http://www.w3.org/1999/xlink" href="&doc.latestloc;" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">&doc.latestloc;</loc>
</latestloc>-->

<!-- These prevlocs URIs are always hard-coded and are never computed from entities -->
<!-- Pubrules doesn't like FPWD to have a prevloc, not even a previous Recommendation -->
<!--<prevlocs doc="&language;">
  <loc role="xquery" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2017/PR-xquery-31-20170117/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2017/PR-xquery-31-20170117/</loc>
  <loc role="xquery" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2016/CR-xquery-31-20161213/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2016/CR-xquery-31-20161213/</loc>
  <loc role="xquery" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2015/CR-xquery-31-20151217/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2015/CR-xquery-31-20151217/</loc>
  <loc role="xquery" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2014/CR-xquery-31-20141218/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2014/CR-xquery-31-20141218/</loc>
  <loc role="xquery" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2014/WD-xquery-31-20141007/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2014/WD-xquery-31-20141007/</loc>
  <loc role="xquery" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2014/WD-xquery-31-20140424/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2014/WD-xquery-31-20140424/</loc>
  <loc role="xpath" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2017/PR-xpath-31-20170117/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2017/PR-xpath-31-20170117/</loc>
  <loc role="xpath" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2016/CR-xpath-31-20161213/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2016/CR-xpath-31-20161213/</loc>
  <loc role="xpath" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2015/CR-xpath-31-20151217/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2015/CR-xpath-31-20151217/</loc>
  <loc role="xpath" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2014/CR-xpath-31-20141218/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2014/CR-xpath-31-20141218/</loc>
  <loc role="xpath" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2014/WD-xpath-31-20141007/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2014/WD-xpath-31-20141007/</loc>
  <loc role="xpath" xmlns:xlink="http://www.w3.org/1999/xlink" href="https://www.w3.org/TR/2014/WD-xpath-31-20140424/" xlink:type="simple" xlink:show="replace" xlink:actuate="onRequest">https://www.w3.org/TR/2014/WD-xpath-31-20140424/</loc>
</prevlocs>
-->

<!--
<latestloc-major doc="&language-major;">
  <loc href="&doc.latestloc-major;">&doc.latestloc-major;</loc>
</latestloc-major>
-->
<latestloc-tech doc="&language-tech;">
  <loc href="&doc.latestloc-tech;">&doc.latestloc-tech;</loc>
</latestloc-tech>
<prevrec doc="&language-tech;">
  <loc role="xpath" href="https://www.w3.org/TR/2017/REC-xpath-31-20170321/">https://www.w3.org/TR/2017/REC-xpath-31-20170321/</loc>
  <loc role="xquery" href="https://www.w3.org/TR/2017/REC-xquery-31-20170321/">https://www.w3.org/TR/2017/REC-xquery-31-20170321/</loc>
</prevrec>

<authlist>
         <author>
            <name>Michael Kay</name>
            <affiliation>Saxonica</affiliation>
            <email href="http://www.saxonica.com/">http://www.saxonica.com/</email>
         </author>
      </authlist>

      <status>
         <p><emph>This section describes the status of this document at the time of its publication.
               Other documents may supersede this document.</emph></p>

<p>This document is a working draft developed and maintained by a W3C Community
Group, the <loc href="https://www.w3.org/community/xslt-40/">XQuery and XSLT
Extensions Community Group</loc> unofficially known as QT4CG (where "QT" denotes
Query and Transformation). This draft is work in progress and should not be
considered either stable or complete. Standard W3C copyright and patent
conditions apply.</p>

<p>This draft is a snapshot of the specification representing the consensus of
the Community Group at the time of publication. It is published with a dated URL
and will remain available at that URL so that users and implementors can refer
to this as a versioned draft, confident that it won’t change. However, the work
is not finished, and the specification is under active development. For links to
the most recent specifications, see <loc href="https://qt4cg.org/"/>.</p>

<p>Some areas where it is known that further work is needed are flagged within
the text using annotations such as "Editorial Note" or "TODO"; others are
identified by open issues in the GitHub repository.</p>
         
         <p>The community group welcomes comments on the specification. Comments are best submitted
         as issues on the group's <loc href="https://github.com/qt4cg/qtspecs/issues">GitHub repository</loc>.</p>

         <?at-risk?>
         
         <p>The community group maintains two extensive test suites, 
            one oriented to XQuery and XPath, the other to XSLT.
         These can be found at <loc href="https://github.com/qt4cg/qt4tests">qt4tests</loc> and
         <loc href="https://github.com/qt4cg/xslt40-test">xslt40-test</loc> respectively. New tests,
         or suggestions for correcting existing tests, are welcome. The test suites include extensive metadata
         describing the conditions for applicability of each test case as well as the expected results. They
         do not include any test drivers for executing the tests: each implementation is expected to provide
         its own test driver.</p>

         
<note role="dedication" id="dedication">
<p role="xpath">The publications of this community group are dedicated to our co-chair,
Michael Sperberg-McQueen (1954–2024).</p>
<p role="xpath">Michael was central to the development of XML and many related technologies.
He brought a polymathic breadth of knowledge and experience to everything he
did. This, combined with his indefatigable curiosity and appetite for learning,
made him an invaluable contributor to our project, along with many others. We
have lost a brilliant thinker, a patient teacher, and a loyal friend.</p>
<p role="xquery">The publications of this community group 
<loc href="xpath-40.html#dedication">are dedicated</loc> to our co-chair,
Michael Sperberg-McQueen (1954–2024).</p>
</note>
      </status>

<!--* N.B. the value of the errataloc href attribute is set in
    * ../style/assemble-spec.xsl
    * when the XQuery or XPath spec is assembled.  If it changes,
    * change it THERE.
    *-->
<!--<errataloc
 role="spec-conditional"
 href="https://www.w3.org/XML/2017/qt-errata/xquery-31-errata.html"
 xlink:type="simple"/>


<translationloc
 role="spec-conditional"
 href="http://www.w3.org/2003/03/Translations/byTechnology?technology=xquery-31"/>
-->
<!--&status-section;-->
  <!--<status>
    <p>This is a draft prepared by the QT4CG (officially registered in W3C as the
      XSLT Extensions Community Group). Comments are invited.</p>
-->

<!--</status>-->

<abstract id="id-abstract"><p role="xpath" diff="chg">

&language; is an expression language that allows the processing of
values conforming to the data model defined in
<bibref ref="xpath-datamodel-40"/>. The name of the language derives
from its most distinctive feature, the path expression, which provides
a means of hierarchic addressing of the nodes in an XML tree.  As well
as modeling the tree structure of XML, the data model also includes
atomic items, function items, maps, arrays, and sequences.  This version of XPath
supports JSON as well as XML, and adds many new functions in <bibref ref="xpath-functions-40"/>.</p>
  
<p role="xpath" diff="chg">&language; is a superset of XPath 3.1. A detailed list of changes
made since XPath 3.1 can be found in <specref ref="id-revision-log"/>. 
</p>

<p role="xquery">XML is a versatile markup language, capable of labeling the
information content of diverse data sources, including structured and
semi-structured documents, relational databases, and object
repositories. A query language that uses the structure of XML
intelligently can express queries across all these kinds of data,
whether physically stored in XML or viewed as XML via middleware.
This specification describes a query language called XQuery, which is
designed to be broadly applicable across many types of XML data
sources.</p>

<p role="xquery" diff="add">A list of changes made since XQuery 3.1 can be found in <specref ref="id-revision-log"/>. 
</p>

</abstract>

<langusage>
<language id="EN">English</language>
<!--
<language id="ebnf">EBNF</language>
-->
</langusage>
<revisiondesc id="id-DOESNOTEXIST">
<slist>
<sitem>XQuery 4.0 First Public Working Draft. (#####)</sitem>
</slist>
</revisiondesc>
</header>
