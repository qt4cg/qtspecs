<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="minutes-10-08"><h2>QT4 CG meeting 093 draft minutes<span class="toot-id"> #minutes-10-08</span></h2><div class="pubdate">08 Oct at 16:20:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/10-08">https://qt4cg.org/meeting/minutes/2024/10-08</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-1474"><h2>Issue #1474 closed<span class="toot-id"> #closed-1474</span></h2><div class="pubdate">08 Oct at 16:15:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1474">https://github.com/qt4cg/qtspecs/issues/1474</a></div><p>xml-to-json: strip leading plus signs</p></div>
<div class="toot" id="closed-1476"><h2>Issue #1476 closed<span class="toot-id"> #closed-1476</span></h2><div class="pubdate">08 Oct at 16:15:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1476">https://github.com/qt4cg/qtspecs/pull/1476</a></div><p>1474 xml-to-json: ensure numbers are JSON conformant</p></div>
<div class="toot" id="closed-1477"><h2>Issue #1477 closed<span class="toot-id"> #closed-1477</span></h2><div class="pubdate">08 Oct at 16:12:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1477">https://github.com/qt4cg/qtspecs/pull/1477</a></div><p>1475 Stylesheet change to mark optional fields with '?'</p></div>
<div class="toot" id="closed-1475"><h2>Issue #1475 closed<span class="toot-id"> #closed-1475</span></h2><div class="pubdate">08 Oct at 16:12:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1475">https://github.com/qt4cg/qtspecs/issues/1475</a></div><p>In rendered named record types, optional fields are not so marked</p></div>
<div class="toot" id="closed-1448"><h2>Issue #1448 closed<span class="toot-id"> #closed-1448</span></h2><div class="pubdate">08 Oct at 16:09:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1448">https://github.com/qt4cg/qtspecs/issues/1448</a></div><p>Operations on the dateTime family of types</p></div>
<div class="toot" id="closed-1481"><h2>Issue #1481 closed<span class="toot-id"> #closed-1481</span></h2><div class="pubdate">08 Oct at 16:09:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1481">https://github.com/qt4cg/qtspecs/pull/1481</a></div><p>1448 Component extraction on gregorian types</p></div>
<div class="toot" id="closed-1468"><h2>Issue #1468 closed<span class="toot-id"> #closed-1468</span></h2><div class="pubdate">08 Oct at 16:07:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1468">https://github.com/qt4cg/qtspecs/issues/1468</a></div><p>Understanding the xsl:array constructor</p></div>
<div class="toot" id="closed-1482"><h2>Issue #1482 closed<span class="toot-id"> #closed-1482</span></h2><div class="pubdate">08 Oct at 16:07:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1482">https://github.com/qt4cg/qtspecs/pull/1482</a></div><p>1468 Revise the xsl:array instruction</p></div>
<div class="toot" id="closed-1351"><h2>Issue #1351 closed<span class="toot-id"> #closed-1351</span></h2><div class="pubdate">08 Oct at 16:03:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1351">https://github.com/qt4cg/qtspecs/issues/1351</a></div><p>declare item type → item-type</p></div>
<div class="toot" id="closed-1277"><h2>Issue #1277 closed<span class="toot-id"> #closed-1277</span></h2><div class="pubdate">08 Oct at 16:03:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1277">https://github.com/qt4cg/qtspecs/issues/1277</a></div><p>Declare named record types</p></div>
<div class="toot" id="closed-1355"><h2>Issue #1355 closed<span class="toot-id"> #closed-1355</span></h2><div class="pubdate">08 Oct at 16:03:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1355">https://github.com/qt4cg/qtspecs/pull/1355</a></div><p>1351 Add "declare record" in XQuery</p></div>
<div class="toot" id="created-1485"><h2>Issue #1485 created<span class="toot-id"> #created-1485</span></h2><div class="pubdate">08 Oct at 15:59:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1485">https://github.com/qt4cg/qtspecs/issues/1485</a></div><details><summary>Record declarations in XSLT</summary><div class="markup"><p>In PR #1355 we have added "declare record" syntax to XQuery.</p>
<p>We should now do the same for XSLT.</p>
</div></details></div>
<div class="toot" id="closed-46"><h2>Issue #46 closed<span class="toot-id"> #closed-46</span></h2><div class="pubdate">08 Oct at 11:48:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/46">https://github.com/qt4cg/qtspecs/issues/46</a></div><p>xsl:sequence: @as</p></div>
<div class="toot" id="closed-1403"><h2>Issue #1403 closed<span class="toot-id"> #closed-1403</span></h2><div class="pubdate">08 Oct at 11:20:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1403">https://github.com/qt4cg/qtspecs/issues/1403</a></div><p>Align AnyMapTest, AnyArrayTest and with ElementTest</p></div>
<div class="toot" id="created-1484"><h2>Issue #1484 created<span class="toot-id"> #created-1484</span></h2><div class="pubdate">08 Oct at 08:47:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1484">https://github.com/qt4cg/qtspecs/issues/1484</a></div><details><summary>Functions that expect a record type should make it extensible</summary><div class="markup"><p>In general a function (or other operation, e.g. an XSLT instruction) that expects a record type as input should make that record type extensible. For example, <code>array:of-members</code> should accept <code>record(value as item()*, *)</code> rather than <code>record(value as item()*)</code> as currently defined; similarly <code>map:of-pairs</code> should accept <code>record(key, value, *)</code>.</p>
<p>Two reasons: (a) it avoids the user having to remove extraneous fields from records if they happen to be present, and (b) it avoids the system having to check whether extraneous fields are present.</p>
<p>For example, it now becomes legal (and perhaps sometimes useful) to write <code>array:of-members(map:pairs($map))</code>; currently this fails because the result of <code>map:pairs</code> includes <code>key</code> fields which <code>array:of-members</code> does not permit.</p>
</div></details></div>
<div class="toot" id="agenda-10-08"><h2>QT4 CG meeting 093 draft agenda<span class="toot-id"> #agenda-10-08</span></h2><div class="pubdate">07 Oct at 13:00:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/10-08">https://qt4cg.org/meeting/agenda/2024/10-08</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1483"><h2>Issue #1483 created<span class="toot-id"> #created-1483</span></h2><div class="pubdate">07 Oct at 09:29:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1483">https://github.com/qt4cg/qtspecs/issues/1483</a></div><details><summary>Type `none`</summary><div class="markup"><p>The function <code>fn:error</code> uses <code>none</code> as return type. This type is only defined in the outdated <a href="https://www.w3.org/TR/xquery-semantics/">XQuery 1.0 and XPath 2.0 Formal Semantics</a> specification:</p>
<ol>
<li>Do we want to live with the current state?</li>
<li>Should we include a better definition in the current specifications?</li>
<li>Should we simply use <code>item()*</code> as return type, even if the function never returns anything?</li>
</ol>
<p>If we keep <code>none</code>, the test case generator should be revised for <a href="https://github.com/qt4cg/qt4tests/blob/b0d8df63d57ab0ab9f985217178811487f0b74ae/misc/BuiltInKeywords.xml#L74C21-L82">Keywords-fn-error-1</a>.</p>
</div></details></div>
<div class="toot" id="created-1482"><h2>Pull request #1482 created<span class="toot-id"> #created-1482</span></h2><div class="pubdate">04 Oct at 16:32:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1482">https://github.com/qt4cg/qtspecs/pull/1482</a></div><details><summary>1468 Revise the xsl:array instruction</summary><div class="markup"><p>Attempts an improved (more intuitive) specification for the xsl:array instruction.</p>
<p>Fix #1468</p>
</div></details></div>
<div class="toot" id="closed-1239"><h2>Issue #1239 closed<span class="toot-id"> #closed-1239</span></h2><div class="pubdate">04 Oct at 15:37:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1239">https://github.com/qt4cg/qtspecs/issues/1239</a></div><p>XSLT xsl:next-match with select attribute</p></div>
<div class="toot" id="closed-1273"><h2>Issue #1273 closed<span class="toot-id"> #closed-1273</span></h2><div class="pubdate">04 Oct at 15:36:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1273">https://github.com/qt4cg/qtspecs/issues/1273</a></div><p>Generalize for-each-pair to work with any number of input sequences</p></div>
<div class="toot" id="created-1481"><h2>Pull request #1481 created<span class="toot-id"> #created-1481</span></h2><div class="pubdate">03 Oct at 11:51:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1481">https://github.com/qt4cg/qtspecs/pull/1481</a></div><details><summary>1448 Component extraction on gregorian types</summary><div class="markup"><p>Fix #1448</p>
</div></details></div>
<div class="toot" id="created-1480"><h2>Pull request #1480 created<span class="toot-id"> #created-1480</span></h2><div class="pubdate">03 Oct at 11:07:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1480">https://github.com/qt4cg/qtspecs/pull/1480</a></div><details><summary>1450 Disallow reserved names in element/attribute constructors</summary><div class="markup"><p>Fix #1450</p>
</div></details></div>
<div class="toot" id="created-1479"><h2>Issue #1479 created<span class="toot-id"> #created-1479</span></h2><div class="pubdate">03 Oct at 09:24:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1479">https://github.com/qt4cg/qtspecs/issues/1479</a></div><details><summary>Default element namespace in XQuery: interaction of 'fixed' and '##any'</summary><div class="markup"><p>In §5.14 we document two changes to "declare default element namespace":</p>
<ol>
<li>
<p>The [default namespace for elements and types] can now be declared to be <code>fixed</code> for a query module, meaning it is unaffected by a namespace declaration appearing on a direct element constructor. [citation missing - should be issue #65, PR #753]</p>
</li>
<li>
<p>The [default namespace for elements and types] can be set to the value ##any, allowing unprefixed names in axis steps to match elements with a given local name in any namespace.   [Issue #296 PR #1181]</p>
</li>
</ol>
<p>We don't discuss how these two options interact. Are they completely orthogonal?</p>
<p>The description of <code>##any</code> says its effect is that "an unprefixed name appearing in any other context where an element or type name is expected is treated as being in no namespace." This deserves a mention in the rules for direct and computed element constructors.</p>
<p>In §2.2.1 we have added the statement: <em>The statically known namespaces may include a binding for the zero-length prefix; however, this is used only in limited circumstances because the rules for resolving unprefixed QNames depend on how such a name is used.</em></p>
<p>It's not clear how such a binding can come into existence. It can't be done using any of the prolog declarations that bind  a prefix. And under the current rules, I don't think it can be done using a namespace declaration attribute on a fixed element constructor. Perhaps it was the intent that <code>xmlns="abc"</code> would do this if "fixed" is set, but that's not the case currently.</p>
<p>Section §4.12.1.2 Namespace Declaration Attributes could do with a "changes" section explaining what has changed.</p>
<p>In §4.12.1, Direct Element Constructors, we say "If the element name has no namespace prefix, the namespace binding for the zero-length prefix in the [statically known namespaces] is used; if there is no such binding, the element name will be in no namespace." That can't be right, there's no mention of the default element/type namespace at all.</p>
<p>In §4.12.3.1 Computed Element Constructors, the same problem arises for a bare unprefixed NCName, but for a dynamically-computed name, we use the default element/type namespace.</p>
</div></details></div>
<div class="toot" id="created-1478"><h2>Issue #1478 created<span class="toot-id"> #created-1478</span></h2><div class="pubdate">02 Oct at 16:52:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1478">https://github.com/qt4cg/qtspecs/issues/1478</a></div><details><summary>Drop variadic functions</summary><div class="markup"><p>We've made a decision -- for good reasons of maintaining extensibility -- not to make any of the functions in the system function library variadic.</p>
<p>I think this raises the question of whether the feature is worth retaining. And we already had the situation that many functions that were obvious candidates for variadicity (min, max, distinct-values, sum) couldn't use the feature because they already had additional optional arguments.</p>
<p>If it's not a good design principle for system-defined functions, then the same applies equally to user-defined functions.</p>
<p>We could drop the feature and just revert to defining concat() as a special case. It would remove a significant amount of complexity.</p>
</div></details></div>
<div class="toot" id="created-1477"><h2>Pull request #1477 created<span class="toot-id"> #created-1477</span></h2><div class="pubdate">02 Oct at 16:43:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1477">https://github.com/qt4cg/qtspecs/pull/1477</a></div><details><summary>1475 Stylesheet change to mark optional fields with '?'</summary><div class="markup"><p>Fix #1475</p>
</div></details></div>
<div class="toot" id="created-1476"><h2>Pull request #1476 created<span class="toot-id"> #created-1476</span></h2><div class="pubdate">02 Oct at 11:52:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1476">https://github.com/qt4cg/qtspecs/pull/1476</a></div><details><summary>1474 xml-to-json: ensure numbers are JSON conformant</summary><div class="markup"><p>Fix #1474</p>
<p>Describes the changes that might be needed to supplied numbers to ensure the output conforms with JSON syntax.</p>
<p>Independently, adds a note to appendix to G.4 to affirm that changes to argument keywords have no backwards compatibility implication, satisfying action  QT4CG-091-01</p>
</div></details></div>
<div class="toot" id="closed-1464"><h2>Issue #1464 closed<span class="toot-id"> #closed-1464</span></h2><div class="pubdate">02 Oct at 06:42:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1464">https://github.com/qt4cg/qtspecs/issues/1464</a></div><p>Inconsistent spelling: implementer or implementor?</p></div>
<div class="toot" id="closed-1466"><h2>Issue #1466 closed<span class="toot-id"> #closed-1466</span></h2><div class="pubdate">02 Oct at 06:42:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1466">https://github.com/qt4cg/qtspecs/pull/1466</a></div><p>1464 Standardize on "implementer" spelling</p></div>
<div class="toot" id="created-1475"><h2>Issue #1475 created<span class="toot-id"> #created-1475</span></h2><div class="pubdate">01 Oct at 19:46:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1475">https://github.com/qt4cg/qtspecs/issues/1475</a></div><details><summary>In rendered named record types, optional fields are not so marked</summary><div class="markup"><p>For example in uri-structure-record as shown beneath the signatures of fn:build-uri and fn:parse-uri, the field names are not marked "?" to indicate the field is optional.</p>
<p>The underlying XML contains this information correctly.</p>
</div></details></div></div><p>See 2947
            more statuses in yearly archives.</p></article></main></body></html>