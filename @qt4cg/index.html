<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2025/">2025</a>, <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="minutes-12-02"><h2>QT4 CG meeting 144 draft minutes<span class="toot-id"> #minutes-12-02</span></h2><div class="pubdate">02 Dec at 17:15:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2025/12-02">https://qt4cg.org/meeting/minutes/2025/12-02</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-2256"><h2>Issue #2256 closed<span class="toot-id"> #closed-2256</span></h2><div class="pubdate">02 Dec at 17:08:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2256">https://github.com/qt4cg/qtspecs/pull/2256</a></div><p>2216 All atomic types become ordered</p></div>
<div class="toot" id="closed-2301"><h2>Issue #2301 closed<span class="toot-id"> #closed-2301</span></h2><div class="pubdate">02 Dec at 17:06:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2301">https://github.com/qt4cg/qtspecs/pull/2301</a></div><p>2198 Add cdata attribute to xsl:text and xsl:value-of</p></div>
<div class="toot" id="closed-2280"><h2>Issue #2280 closed<span class="toot-id"> #closed-2280</span></h2><div class="pubdate">02 Dec at 17:04:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2280">https://github.com/qt4cg/qtspecs/issues/2280</a></div><p>Usability problems with xsl:array-member</p></div>
<div class="toot" id="closed-2281"><h2>Issue #2281 closed<span class="toot-id"> #closed-2281</span></h2><div class="pubdate">02 Dec at 17:04:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2281">https://github.com/qt4cg/qtspecs/pull/2281</a></div><p>2280 Usability of xsl:array-member</p></div>
<div class="toot" id="closed-2311"><h2>Issue #2311 closed<span class="toot-id"> #closed-2311</span></h2><div class="pubdate">02 Dec at 17:02:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2311">https://github.com/qt4cg/qtspecs/issues/2311</a></div><p>XSLT default priorities for patterns</p></div>
<div class="toot" id="closed-2319"><h2>Issue #2319 closed<span class="toot-id"> #closed-2319</span></h2><div class="pubdate">02 Dec at 17:02:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2319">https://github.com/qt4cg/qtspecs/pull/2319</a></div><p>2311 Change default XSLT pattern priorities</p></div>
<div class="toot" id="closed-2317"><h2>Issue #2317 closed<span class="toot-id"> #closed-2317</span></h2><div class="pubdate">02 Dec at 16:59:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2317">https://github.com/qt4cg/qtspecs/issues/2317</a></div><p>Arguments of fn:civil-timezone</p></div>
<div class="toot" id="closed-2318"><h2>Issue #2318 closed<span class="toot-id"> #closed-2318</span></h2><div class="pubdate">02 Dec at 16:59:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2318">https://github.com/qt4cg/qtspecs/pull/2318</a></div><p>2317 Correct signature of fn:civil-timezone</p></div>
<div class="toot" id="closed-2310"><h2>Issue #2310 closed<span class="toot-id"> #closed-2310</span></h2><div class="pubdate">02 Dec at 16:57:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2310">https://github.com/qt4cg/qtspecs/issues/2310</a></div><p>Inconsistency in XPath description of // expansion</p></div>
<div class="toot" id="closed-2320"><h2>Issue #2320 closed<span class="toot-id"> #closed-2320</span></h2><div class="pubdate">02 Dec at 16:57:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2320">https://github.com/qt4cg/qtspecs/pull/2320</a></div><p>2310 Reinstate spec for infix // operator</p></div>
<div class="toot" id="agenda-12-02"><h2>QT4 CG meeting 144 draft agenda<span class="toot-id"> #agenda-12-02</span></h2><div class="pubdate">01 Dec at 11:40:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2025/12-02">https://qt4cg.org/meeting/agenda/2025/12-02</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-2325"><h2>Issue #2325 created<span class="toot-id"> #created-2325</span></h2><div class="pubdate">01 Dec at 11:13:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2325">https://github.com/qt4cg/qtspecs/issues/2325</a></div><details><summary>Specify evaluation more tight and more formal to disallow unsane cases</summary><div class="markup"><blockquote>
<blockquote>
<blockquote>
<p>I think it's very hard to change the spec to disallow over-optimization of a construct like <code>if ($x &gt; 0) then "positive" else error()</code></p>
</blockquote>
<p>Could you please clarify which over-optimization do you mean?</p>
</blockquote>
<p>Technically a processor can determine when it starts evaluating this expression that the only possible outcome is either the string "positive" or an error, and it can therefore return "positive" immediately.</p>
<p>We just have to assume that no sane implementor is going to do that. I can't see an easy way to change the rules to mandate this.</p>
</blockquote>
<p><em>Originally posted by @michaelhkay in <a href="https://github.com/qt4cg/qtspecs/issues/2314#issuecomment-3595888452">#2314</a></em></p>
<p>This is about the rule from 2.5.4 <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#id-errors-and-opt">Errors and Optimization</a>:</p>
<ul>
<li>
<blockquote>
<p>if [...] there are only two possible outcomes of evaluating <em>Q</em>, namely the value <em>V</em> or an error, then the processor may deliver the result <em>V</em> without evaluating further items in the operand <em>E</em>.</p>
</blockquote>
</li>
</ul>
<p>In a filtering expression <code>E[ P ]</code>, this rule allows to filter out those items in <em>E</em>, examining of which raises an error.</p>
<p>What are negative consequences if  the rules are changed so an error during obtaining an item from <em>E</em> cannot be ignored, but an error during examining an item in <em>P</em> may be interpreted as false() (i.e., the item may be filtered out) ?</p>
</div></details></div>
<div class="toot" id="created-2324"><h2>Pull request #2324 created<span class="toot-id"> #created-2324</span></h2><div class="pubdate">01 Dec at 09:32:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2324">https://github.com/qt4cg/qtspecs/pull/2324</a></div><details><summary>2278 bin:infer-encoding, bin:decode-string</summary><div class="markup"><ul>
<li>The latest version of <code>bin:decode-string</code> takes advantage of <code>bin:part</code> and passes a supplied encoding to <code>bin:infer-encoding</code>.</li>
<li><code>bin:infer-encoding</code> accepts an optional encoding argument, which is considered when chosing the effective encoding.</li>
</ul>
<p>Closes #2278</p>
</div></details></div>
<div class="toot" id="created-2323"><h2>Pull request #2323 created<span class="toot-id"> #created-2323</span></h2><div class="pubdate">30 Nov at 20:53:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2323">https://github.com/qt4cg/qtspecs/pull/2323</a></div><details><summary>2322 Generalize simplified stylesheets</summary><div class="markup"><p>Fix #2322</p>
</div></details></div>
<div class="toot" id="created-2322"><h2>Issue #2322 created<span class="toot-id"> #created-2322</span></h2><div class="pubdate">30 Nov at 13:53:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2322">https://github.com/qt4cg/qtspecs/issues/2322</a></div><details><summary>Relax the rules for simplified stylesheets</summary><div class="markup"><p>Simplified stylesheets are currently constrained to have a literal result element as the outermost element. There's no real reason for this: we could allow any instruction. For generating JSON, <code>xsl:array</code> or <code>xsl:map</code> would be reasonable choices.</p>
<p>Perhaps we could also change the spec of <code>xsl:result-document</code> to allow serialization parameters such as <code>method="json"</code> to be used for a simplified stylesheet: that doesn't work currently because <code>xsl:result-document</code> always creates an XML document node. An "as" attribute with similar semantics to <code>xsl:variable</code> might work.</p>
<p>Defining the implicit template rule for a simplified stylesheet to use <code>match="."</code> rather than <code>match="/"</code> would also allow them to take parsed JSON documents as input.</p>
</div></details></div>
<div class="toot" id="created-2321"><h2>Issue #2321 created<span class="toot-id"> #created-2321</span></h2><div class="pubdate">30 Nov at 12:29:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2321">https://github.com/qt4cg/qtspecs/issues/2321</a></div><details><summary>Make `fn:trace` non-deterministic</summary><div class="markup"><p>The function <code>fn:trace</code> is currently defined as deterministic. I think we should change this, as it is side-effecting. Next, if someone writes…</p>
<pre><code class="language-xquery">let $x := trace('x')
for $i in 1 to 10
return $x
</code></pre>
<p>…optimizers should not be motivated to rewrite it to…</p>
<pre><code class="language-xquery">for $i in 1 to 10
return trace('x')
</code></pre>
<p>…or vice versa.</p>
<p>Even if the specifiation does not clarify how optimization differs for (non)deterministic code, it is obvious that the rewriting above would not be allowed for a node constructor (which is non-deterministic with respect to node identity).</p>
</div></details></div>
<div class="toot" id="created-2320"><h2>Pull request #2320 created<span class="toot-id"> #created-2320</span></h2><div class="pubdate">29 Nov at 23:19:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2320">https://github.com/qt4cg/qtspecs/pull/2320</a></div><details><summary>2310 Reinstate spec for infix // operator</summary><div class="markup"><p>Fix #2310</p>
</div></details></div>
<div class="toot" id="created-2319"><h2>Pull request #2319 created<span class="toot-id"> #created-2319</span></h2><div class="pubdate">29 Nov at 22:26:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2319">https://github.com/qt4cg/qtspecs/pull/2319</a></div><details><summary>2311 Change default XSLT pattern priorities</summary><div class="markup"><p>Fix #2311</p>
</div></details></div>
<div class="toot" id="created-2318"><h2>Pull request #2318 created<span class="toot-id"> #created-2318</span></h2><div class="pubdate">29 Nov at 22:07:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2318">https://github.com/qt4cg/qtspecs/pull/2318</a></div><details><summary>2317 Correct signature of fn:civil-timezone</summary><div class="markup"><p>Fix #2317</p>
</div></details></div>
<div class="toot" id="created-2317"><h2>Issue #2317 created<span class="toot-id"> #created-2317</span></h2><div class="pubdate">27 Nov at 14:44:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2317">https://github.com/qt4cg/qtspecs/issues/2317</a></div><details><summary>Arguments of fn:civil-timezone</summary><div class="markup"><p>The second argument, <code>$place</code>, should be typed as <code>xs:string?</code> rather than <code>xs:string</code>.</p>
<p>It might also make sense for the first argument to default to <code>current-dateTime()</code></p>
</div></details></div>
<div class="toot" id="created-2316"><h2>Issue #2316 created<span class="toot-id"> #created-2316</span></h2><div class="pubdate">27 Nov at 09:03:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2316">https://github.com/qt4cg/qtspecs/issues/2316</a></div><details><summary>fn:load-xquery-module: return type in function signature</summary><div class="markup"><p>Extracted from the incremental editorial notes in https://github.com/qt4cg/qtspecs/issues/2195#issuecomment-3435632540:</p>
<hr>
<p>The function signatures that return records look as follows:</p>
<pre><code>fn:load-xquery-module(
  $module-uri  as xs:string,	
  $options     as map(*)?    := {}
) as load-xquery-module-record
</code></pre>
<p>We should add the <code>fn:</code> prefix to parameter and return types, in alignment with the function name.</p>
<p>MHK: This is complicated by the fact that type-ref and return-type-ref are defined as ID attributes in the schema. The prefix probably needs to be added by the stylesheet. Also, however we are inconsistent about using type= or type-ref=.</p>
</div></details></div>
<div class="toot" id="created-2315"><h2>Issue #2315 created<span class="toot-id"> #created-2315</span></h2><div class="pubdate">26 Nov at 21:52:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2315">https://github.com/qt4cg/qtspecs/issues/2315</a></div><details><summary>Optimization of the workflow action checkout</summary><div class="markup"><p>https://github.com/qt4cg/qtspecs/blob/11f17414d317121b333aa2b56553c7f6fea91fc2/.github/workflows/build-pr.yml#L15-L19</p>
<p>@ndw, is it really necessary to <a href="https://github.com/actions/checkout?tab=readme-ov-file#checkout-v4">fetch</a> the entire history for all branches and tags?  This step is quite long (<a href="https://github.com/qt4cg/qtspecs/actions/runs/19700321991/job/56435838465">example</a>) since the full repo is huge.</p>
<p>If only the latest version is needed, the line <code>fetch-depth: 0</code> can be changed to <code>fetch-depth: 1</code> or removed (in all occurrences).</p>
</div></details></div>
<div class="toot" id="created-2314"><h2>Issue #2314 created<span class="toot-id"> #created-2314</span></h2><div class="pubdate">26 Nov at 11:33:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2314">https://github.com/qt4cg/qtspecs/issues/2314</a></div><details><summary>`fn:error`: return type `xs:error` ?</summary><div class="markup"><p>The current return type of <code>fn:error</code> is <code>item()*</code>. I assume we should change it to <code>xs:error</code>?</p>
<p>This would also align with what the spec says in <a href="https://qt4cg.org/specifications/xquery-40/xquery-40.html#id-xs-error">3.2.10. The type xs:error</a>:</p>
<blockquote>
<p>The practical uses of <code>xs:error</code> as a sequence type are limited, but they do exist. For instance, an error-handling function that always raises a dynamic error never returns a value, so <code>xs:error</code> is a good choice for the return type of the function.</p>
</blockquote>
</div></details></div>
<div class="toot" id="closed-2289"><h2>Issue #2289 closed<span class="toot-id"> #closed-2289</span></h2><div class="pubdate">26 Nov at 09:04:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2289">https://github.com/qt4cg/qtspecs/pull/2289</a></div><p>2195 (partial) Editorial notes (incremental)</p></div>
<div class="toot" id="closed-2259"><h2>Issue #2259 closed<span class="toot-id"> #closed-2259</span></h2><div class="pubdate">26 Nov at 09:01:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2259">https://github.com/qt4cg/qtspecs/pull/2259</a></div><p>938 Canonical serialization</p></div>
<div class="toot" id="closed-2047"><h2>Issue #2047 closed<span class="toot-id"> #closed-2047</span></h2><div class="pubdate">26 Nov at 08:59:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2047">https://github.com/qt4cg/qtspecs/issues/2047</a></div><p>external resource-accessing functions, available resources, and error codes</p></div>
<div class="toot" id="closed-2213"><h2>Issue #2213 closed<span class="toot-id"> #closed-2213</span></h2><div class="pubdate">26 Nov at 08:59:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2213">https://github.com/qt4cg/qtspecs/pull/2213</a></div><p>2047 External resources and security</p></div>
<div class="toot" id="closed-2303"><h2>Issue #2303 closed<span class="toot-id"> #closed-2303</span></h2><div class="pubdate">26 Nov at 08:57:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2303">https://github.com/qt4cg/qtspecs/pull/2303</a></div><p>2195 Fix some more simple editorial errors</p></div>
<div class="toot" id="closed-2296"><h2>Issue #2296 closed<span class="toot-id"> #closed-2296</span></h2><div class="pubdate">26 Nov at 08:55:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2296">https://github.com/qt4cg/qtspecs/pull/2296</a></div><p>2288 XSLT implicit document nodes</p></div></div><p>See 4755
            more statuses in yearly archives.</p></article></main></body></html>