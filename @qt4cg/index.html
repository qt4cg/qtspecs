<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-10-10"><h2>QT4 CG meeting 049 draft agenda<span class="toot-id"> #agenda-10-10</span></h2><div class="pubdate">09 Oct at 11:10:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2023/10-10">https://qt4cg.org/meeting/agenda/2023/10-10</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-738"><h2>Issue #738 created<span class="toot-id"> #created-738</span></h2><div class="pubdate">08 Oct at 22:04:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/738">https://github.com/qt4cg/qtspecs/issues/738</a></div><details><summary>FO: Why is fn:op under section "17.3 Dynamic loading"</summary><div class="markup"><p>FO: Why is <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-op"><strong><code>fn:op</code></strong></a> under section <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#dynamic-loading">"<strong>17.3 Dynamic loading</strong>"</a> ?</p>
<ol>
<li>
<p>Lexical substitution has little, if anything at all, to do with (dynamic) loading. Nothing is loaded from some external resource, as in the case of <strong><code>fn: load-xquery-module</code></strong> and <strong><code>fn:transform</code></strong>.</p>
</li>
<li>
<p>There is nothing dynamic about having a predefined function that has a predefined set of possible values. In fact this could be defined as a strictly/statically defined <strong><code>map(xs:string, function(item()*, item()*) as item()*)</code></strong> with all allowed possible keys and as their values - the corresponding functions.</p>
</li>
</ol>
<p>Taking this into account it is suggested to move <code>fn:op</code> to a section where it truly belongs. Maybe have in this section also other features of the language that are merely lexical substitution, as for example, function(s) for the creation of type-aliases.</p>
</div></details></div>
<div class="toot" id="created-737"><h2>Pull request #737 created<span class="toot-id"> #created-737</span></h2><div class="pubdate">07 Oct at 22:21:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/737">https://github.com/qt4cg/qtspecs/pull/737</a></div><details><summary>295 Boost the capability of recursive record types</summary><div class="markup"><p>Fix issue #295</p>
<p>The main changes are:</p>
<ul>
<li>In place of the special self-reference syntax "..", we now allow recursive use of type aliases, allowing types to be mutually recursive</li>
<li>We generalise the places that recursive references are allowed, for example the record type used by fn:random-number-generator is now legal</li>
<li>Subtyping rules for recursive record types are now defined (this was previously a gap in the specification). Acknowledgements to a John Snelson blog post for pointing me in the right direction.</li>
</ul>
</div></details></div>
<div class="toot" id="created-736"><h2>Pull request #736 created<span class="toot-id"> #created-736</span></h2><div class="pubdate">06 Oct at 21:33:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/736">https://github.com/qt4cg/qtspecs/pull/736</a></div><details><summary>730: Clarify (and correct) rules for maps as instances of function types</summary><div class="markup"><p>Fix issue #730</p>
<p>Note: the issue led to a wide-ranging discussion about possible enhancements to the type system, for example adding types for empty maps and arrays. I have ignored most of this, and have focussed on fixing the issue as raised (arising originally on the test suite), namely the incorrect use of <code>V?</code> to define a type that allows either an instance of the sequence type V or or an empty sequence.</p>
</div></details></div>
<div class="toot" id="minutes-10-03"><h2>QT4 CG meeting 048 draft minutes<span class="toot-id"> #minutes-10-03</span></h2><div class="pubdate">04 Oct at 14:50:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2023/10-03">https://qt4cg.org/meeting/minutes/2023/10-03</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="created-735"><h2>Issue #735 created<span class="toot-id"> #created-735</span></h2><div class="pubdate">02 Oct at 09:21:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/735">https://github.com/qt4cg/qtspecs/issues/735</a></div><details><summary>Local functions in XSLT</summary><div class="markup"><p>I propose that we should add local functions to XSLT: specifically, allowing an <code>xsl:function</code> declaration to appear within a sequence constructor, declaring a named function that is available for use only within the sequence constructor.</p>
<p>At present this can be achieved by declaring a local variable bound to an anonymous function, but it's clumsy to have to use completely different syntax for local and global functions, and functions defined in this way cannot be mutually recursive.</p>
<p>I propose that such functions should shadow any global functions with the same name, in the same way as happens with local variable declarations. I have an open mind as to whether shadowing of functions in reserved namespaces should be allowed.</p>
<p>The main difficulty is the scoping rules. We don't want the problems Javascript has with "hoisting". I propose that (a) all local function declarations must appear before any instructions (or local variable declarations, but not params) within the sequence constructor, and (b) these function declarations are in-scope throughout the sequence constructor including forwards references from the body of other functions declared earlier within the same sequence constructor.</p>
</div></details></div>
<div class="toot" id="created-734"><h2>Pull request #734 created<span class="toot-id"> #created-734</span></h2><div class="pubdate">30 Sep at 19:15:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/734">https://github.com/qt4cg/qtspecs/pull/734</a></div><details><summary>517: fn:chain</summary><div class="markup"><p>Added fn:chain.</p>
<p>Took much effort to ensure Unix-style line-endings are used.</p>
</div></details></div>
<div class="toot" id="closed-733"><h2>Issue #733 closed<span class="toot-id"> #closed-733</span></h2><div class="pubdate">30 Sep at 19:13:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/733">https://github.com/qt4cg/qtspecs/pull/733</a></div><p>517: fn:chain</p></div>
<div class="toot" id="created-733"><h2>Pull request #733 created<span class="toot-id"> #created-733</span></h2><div class="pubdate">30 Sep at 02:08:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/733">https://github.com/qt4cg/qtspecs/pull/733</a></div><details><summary>517: fn:chain</summary><div class="markup"><p>I added fn:chain, which has been discussed in https://github.com/qt4cg/qtspecs/issues/517</p>
</div></details></div>
<div class="toot" id="created-732"><h2>Pull request #732 created<span class="toot-id"> #created-732</span></h2><div class="pubdate">29 Sep at 16:55:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/732">https://github.com/qt4cg/qtspecs/pull/732</a></div><details><summary>731 Capturing accumulators: Add error conditions, revise streaming rules</summary><div class="markup"><p>Minor tweaks to the spec for capture=yes accumulator rules.</p>
<p>Fix #731</p>
</div></details></div>
<div class="toot" id="created-731"><h2>Issue #731 created<span class="toot-id"> #created-731</span></h2><div class="pubdate">29 Sep at 15:57:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/731">https://github.com/qt4cg/qtspecs/issues/731</a></div><details><summary>Capturing accumulators: a couple of minor errors/omissions</summary><div class="markup"><p>Two little things in the spec for capturing accumulators that we agreed last week:</p>
<p>(a) We should define an error code for use when the capture attribute is present but phase="start".</p>
<p>(b) The streamability rules are too strict. They say that the select attribute must be motionless or consuming, but this is not necessary, because the select attribute is applied to a snapshot tree, which is instantiated in memory and therefore does not need to be streamable.</p>
</div></details></div>
<div class="toot" id="agenda-10-03"><h2>QT4 CG meeting 048 draft agenda<span class="toot-id"> #agenda-10-03</span></h2><div class="pubdate">29 Sep at 13:20:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2023/10-03">https://qt4cg.org/meeting/agenda/2023/10-03</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-211"><h2>Issue #211 closed<span class="toot-id"> #closed-211</span></h2><div class="pubdate">29 Sep at 12:55:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/211">https://github.com/qt4cg/qtspecs/issues/211</a></div><p>XSLT streaming: capturing accumulators</p></div>
<div class="toot" id="closed-717"><h2>Issue #717 closed<span class="toot-id"> #closed-717</span></h2><div class="pubdate">29 Sep at 12:55:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/717">https://github.com/qt4cg/qtspecs/pull/717</a></div><p>211: add capturing accumulators to XSLT</p></div>
<div class="toot" id="created-730"><h2>Issue #730 created<span class="toot-id"> #created-730</span></h2><div class="pubdate">28 Sep at 17:43:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/730">https://github.com/qt4cg/qtspecs/issues/730</a></div><details><summary>Equivalence of map and function types</summary><div class="markup"><p>It is stated in XPath ยง3.6.4.2, and probably elsewhere, that</p>
<p><em>The function signature of a map matching type map(K, V), treated as a function, is function(xs:anyAtomicType) as V?</em></p>
<p>But V is a sequence type, not an item type, so you can't just tag a '?' onto the end of it. What is intended here by <code>V?</code> is a sequence type that is the union of <code>V</code> and <code>empty-sequence()</code>.</p>
</div></details></div>
<div class="toot" id="created-729"><h2>Issue #729 created<span class="toot-id"> #created-729</span></h2><div class="pubdate">28 Sep at 11:50:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/729">https://github.com/qt4cg/qtspecs/issues/729</a></div><details><summary>xsi:schemaLocation</summary><div class="markup"><p>The specifications (XQuery and XSLT) should say something about the effect of requesting validation on a document that contains <code>xsi:schemaLocation</code> and/or <code>xsi:noNamespaceSchemaLocation</code> attributes. At present XQuery says nothing, and XSLT says very little.</p>
<p>XQuery 3.1 says: <em>A validate expression can be used to validate a document node or an element node with respect to the [in-scope schema definitions], using the schema validation process defined in [[XML Schema 1.0]] or [[XML Schema 1.1]].</em> This doesn't really answer the question. The "with respect to" phrase could be read as implying that ONLY the in-scope schema definitions are used. Particular problems occur if xsi:schemaLocation refers to a schema document that attempts to override or redefine the schema components that have been statically imported.</p>
<p>XSLT 3.0 says nothing of interest about what schema (=set of schema components) is used when validation is requested, though it does mention in passing that <code>xsi:schemaLocation</code> attributes might be interpreted in some way by a schema processor.</p>
<p>If we look to the behaviour of Saxon as a reference implementation, then we'll quickly find fault. There's a configuration option to control whether <code>xsi:schemaLocation</code> attributes are considered or ignored; if they are considered, then the schema components referenced are added to a global pool of schema components which are used not only to validate the document in question, but to validate any subsequent documents. We're in the process of redesigning this to do something that makes more sense.</p>
</div></details></div>
<div class="toot" id="created-728"><h2>Pull request #728 created<span class="toot-id"> #created-728</span></h2><div class="pubdate">28 Sep at 11:24:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/728">https://github.com/qt4cg/qtspecs/pull/728</a></div><details><summary>52 Allow record(*)</summary><div class="markup"><p>Fix #52.
Implements decision made at meeting 046.</p>
</div></details></div>
<div class="toot" id="created-727"><h2>Pull request #727 created<span class="toot-id"> #created-727</span></h2><div class="pubdate">27 Sep at 17:38:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/727">https://github.com/qt4cg/qtspecs/pull/727</a></div><details><summary>725 Add clarification note for load-xquery-module</summary><div class="markup"><p>Add a note to clarify the behaviour of load-xquery-module.</p>
<p>Fix #725</p>
</div></details></div>
<div class="toot" id="closed-724"><h2>Issue #724 closed<span class="toot-id"> #closed-724</span></h2><div class="pubdate">27 Sep at 16:13:41 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/724">https://github.com/qt4cg/qtspecs/pull/724</a></div><p>PR 717 with merge conflicts resolved</p></div>
<div class="toot" id="closed-723"><h2>Issue #723 closed<span class="toot-id"> #closed-723</span></h2><div class="pubdate">27 Sep at 15:30:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/723">https://github.com/qt4cg/qtspecs/pull/723</a></div><p>Updated PR for capturing accumulators</p></div>
<div class="toot" id="closed-726"><h2>Issue #726 closed<span class="toot-id"> #closed-726</span></h2><div class="pubdate">27 Sep at 09:41:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/726">https://github.com/qt4cg/qtspecs/pull/726</a></div><p>PR 723 with merge conflicts resolved</p></div>
<div class="toot" id="created-726"><h2>Pull request #726 created<span class="toot-id"> #created-726</span></h2><div class="pubdate">27 Sep at 09:22:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/726">https://github.com/qt4cg/qtspecs/pull/726</a></div><p>PR 723 with merge conflicts resolved</p></div>
<div class="toot" id="created-725"><h2>Issue #725 created<span class="toot-id"> #created-725</span></h2><div class="pubdate">27 Sep at 09:14:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/725">https://github.com/qt4cg/qtspecs/issues/725</a></div><details><summary>Clarification to load-xquery-module</summary><div class="markup"><p>Add a clarification note to load-xquery-module, to correct a misunderstanding by a (very knowledgeable) user: see https://saxonica.plan.io/issues/6209</p>
<p>The function load-query-module does not modify the static or dynamic context in any way. In particular, the variables and functions that are loaded from the query module are not added to the static or dynamic context of the calling code. They are accessible only via the map that is returned from the function call.</p>
</div></details></div>
<div class="toot" id="created-724"><h2>Pull request #724 created<span class="toot-id"> #created-724</span></h2><div class="pubdate">27 Sep at 08:50:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/724">https://github.com/qt4cg/qtspecs/pull/724</a></div><p>PR 717 with merge conflicts resolved</p></div>
<div class="toot" id="minutes-09-26"><h2>QT4 CG meeting 047 draft minutes<span class="toot-id"> #minutes-09-26</span></h2><div class="pubdate">26 Sep at 17:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2023/09-26">https://qt4cg.org/meeting/minutes/2023/09-26</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-722"><h2>Issue #722 closed<span class="toot-id"> #closed-722</span></h2><div class="pubdate">26 Sep at 17:06:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/722">https://github.com/qt4cg/qtspecs/pull/722</a></div><p>This is a test. This is only a test.</p></div>
<div class="toot" id="created-723"><h2>Pull request #723 created<span class="toot-id"> #created-723</span></h2><div class="pubdate">26 Sep at 16:56:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/723">https://github.com/qt4cg/qtspecs/pull/723</a></div><details><summary>Updated PR for capturing accumulators</summary><div class="markup"><p>Updated to take account of comments</p>
</div></details></div>
<div class="toot" id="created-722"><h2>Pull request #722 created<span class="toot-id"> #created-722</span></h2><div class="pubdate">26 Sep at 16:50:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/722">https://github.com/qt4cg/qtspecs/pull/722</a></div><details><summary>This is a test. This is only a test.</summary><div class="markup"><p>Had this been a real emergency, we would have fled in terror and you would not have been informed.</p>
<p>DO NOT MERGE THIS! :-)</p>
</div></details></div>
<div class="toot" id="closed-721"><h2>Issue #721 closed<span class="toot-id"> #closed-721</span></h2><div class="pubdate">26 Sep at 16:49:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/721">https://github.com/qt4cg/qtspecs/pull/721</a></div><p>Attempt to fix the problem with PRE elements in autodiffs</p></div>
<div class="toot" id="created-721"><h2>Pull request #721 created<span class="toot-id"> #created-721</span></h2><div class="pubdate">26 Sep at 16:48:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/721">https://github.com/qt4cg/qtspecs/pull/721</a></div><details><summary>Attempt to fix the problem with PRE elements in autodiffs</summary><div class="markup"><p>Maybe I'm more cleverer today than I was last time I looked into this.</p>
</div></details></div></div><p>See 1346
            more statuses in yearly archives.</p></article></main></body></html>