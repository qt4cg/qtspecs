<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2026/">2026</a>, <a href="2025/">2025</a>, <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-02-10"><h2>QT4 CG meeting 152 draft agenda<span class="toot-id"> #agenda-02-10</span></h2><div class="pubdate">09 Feb at 12:50:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2026/02-10">https://qt4cg.org/meeting/agenda/2026/02-10</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-2454"><h2>Issue #2454 created<span class="toot-id"> #created-2454</span></h2><div class="pubdate">09 Feb at 10:01:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2454">https://github.com/qt4cg/qtspecs/issues/2454</a></div><details><summary>Grammar: literals &amp; constants, negative numbers</summary><div class="markup"><p>I think we could easily tweak the grammar by changing…</p>
<pre><code>Constant     ::=  StringLiteral | ("-"? NumericLiteral) | QNameLiteral | ("true" "(" ")") | ("false" "(" ")")
Literal      ::=  NumericLiteral | StringLiteral | QNameLiteral
</code></pre>
<p>…to:</p>
<pre><code>Constant     ::=  Literal | ("true" "(" ")") | ("false" "(" ")")
Literal      ::=  ("-"? NumericLiteral) | StringLiteral | QNameLiteral
</code></pre>
<p>As a result, a negative number would be returned by the parser as a literal instead of a unary expression (weird constructs like <code>-  - -2344</code> will still be possible), and the key specifier of a lookup expression could be a negative number.</p>
</div></details></div>
<div class="toot" id="created-2453"><h2>Issue #2453 created<span class="toot-id"> #created-2453</span></h2><div class="pubdate">09 Feb at 00:20:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2453">https://github.com/qt4cg/qtspecs/issues/2453</a></div><details><summary>XSLT Patterns: the "child-or-top" adjustment</summary><div class="markup"><p>This issue identifies a bug in XSLT 3.0 (retained in XSLT 4.0).</p>
<p>There is a special rule in XSLT 3.0 designed to ensure that the pattern <code>match="a"</code> will match an <code>a</code> element even if it is parentless. Without the special rule, it would not do so, because "a" expands to <code>child::a</code> which would otherwise only match an element that is a child of something.</p>
<p>The rule is written (in §5.5.3):</p>
<blockquote>
<p>If any PathExprP in the Pattern is a RelativePathExprP, then the first StepExprP PS of this RelativePathExprP is adjusted to allow it to match a parentless element... If PS uses the child axis (explicitly or implicitly), and if the NodeTest in PS is not document-node() (optionally with arguments), then the axis in step PS is replaced by child-or-top, which is defined as follows. If the context node is a parentless element, comment, processing-instruction, or text node then the child-or-top axis selects the context node; otherwise it selects the children of the context node. It is a forwards axis whose principal node kind is element.</p>
</blockquote>
<p>Now consider the pattern <code>match="*/(b union c)"</code>. Clearly <code>b</code> is a PathExprP and a RelativePathExprP, so the adjustment applies to its first StepExprP, namely to <code>b</code>. So the pattern should expand to <code>match="*/(child-or-top::b union child-or-top::c)"</code>, and a literal reading of the semantics of patterns, in conjunction with the semantics of path expressions, means that this should match a parentless <code>b</code> or <code>c</code> element, whereas the clear intention (and the Saxon implementation) is that it matches a <code>b</code> or <code>c</code> element only if it has an element node parent.</p>
<p>Similarly, consider the pattern <code>match="b[b or c]"</code>. Again, the rules suggest that this should be adjusted to <code>match="child-or-top::b[child-or-top::b or child-or-top::c]"</code> which would technically match a parentless <code>b</code> element having no <code>b</code> or <code>c</code> child. This is clearly not intended</p>
<p>Saxon in fact is not applying any syntactic adjustment to the pattern at all. Rather, it is evaluating the pattern steps from right to left, and if a sub pattern has no preceding "/" or "//" operator then it is assuming there are no constraints on the element's ancestry.</p>
<p>I can think of a couple of ways the bug might be fixed.</p>
<p>Firstly, we could try to define more precisely the StepExprP subexpressions that are subjected to this adjustment. It's basically any StepExprP that is not the right-hand operand of "/" or "//", and that is not an operand of a union, intersect, or except expression that is the right hand operand of "/" or "//", and is not contained within a predicate.</p>
<p>Alternatively, we could try to amend the "equivalent expression" rule. We say that a pattern P matches a node N if N has an ancestor-or-self node $A such that the path expression $A//(P) selects N. We could amend this rule to say that if N is parentless, then this rule is evaluated "as if" N had an imaginary parent.</p>
<p>Neither solution is very elegant.</p>
</div></details></div>
<div class="toot" id="created-2452"><h2>Pull request #2452 created<span class="toot-id"> #created-2452</span></h2><div class="pubdate">08 Feb at 13:19:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2452">https://github.com/qt4cg/qtspecs/pull/2452</a></div><details><summary>2450 Add jnode((), *) to match root JNodes</summary><div class="markup"><p>Fix #2450</p>
</div></details></div>
<div class="toot" id="created-2451"><h2>Pull request #2451 created<span class="toot-id"> #created-2451</span></h2><div class="pubdate">07 Feb at 22:44:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2451">https://github.com/qt4cg/qtspecs/pull/2451</a></div><details><summary>2444 Make match="*" and match="N" match element nodes only</summary><div class="markup"><p>Fix #2444</p>
<p>The effect of the change is that simple patterns like <code>match="*"</code> and <code>match="order"</code> will only match element nodes, they will no longer match JNodes.</p>
<p>This is motivated firstly by implementation experience: the current rules cause a performance regression compared with XSLT 3.0 because it's harder to do precise static type inferencing, and some streaming use cases are no longer streamable for the same reason.</p>
<p>However, I think there is also a usability benefit. These simple match patterns are instinctively understood by the entire XSLT user population, and extending their meaning so they match things unexpectedly could be a debugging nightmare. Consider the case of a mature stylesheet with hundreds of template rules designed to process XML elements, which is then extended with a new module to handle a JSON representation of the same data; it's very unlikely the user will actually want or intend the same template rules to process both, and if this is what they want, it's clearer to make this explicit by using a union pattern.</p>
</div></details></div>
<div class="toot" id="created-2450"><h2>Issue #2450 created<span class="toot-id"> #created-2450</span></h2><div class="pubdate">07 Feb at 22:33:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2450">https://github.com/qt4cg/qtspecs/issues/2450</a></div><details><summary>JNode types: matching root JNodes</summary><div class="markup"><p>In the description of JNode types in 3.2.9, there is no explicit statement of what a type like <code>jnode(*, map())</code> means. In particular, it isn't clear (except perhaps from studying examples) whether it matches a JNode whose selector property is absent (i.e. the root of a JTree). The examples suggest that it does.</p>
<p>For pattern matching in XSLT, it would be useful to have a pattern that ONLY matches the root of a JTree. Perhaps the syntax <code>jnode(/, map())</code> might serve this purpose.</p>
</div></details></div>
<div class="toot" id="created-2449"><h2>Pull request #2449 created<span class="toot-id"> #created-2449</span></h2><div class="pubdate">07 Feb at 21:29:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2449">https://github.com/qt4cg/qtspecs/pull/2449</a></div><details><summary>2445 Add rules for xsi namespace elements in element-to-map</summary><div class="markup"><p>Fix #2445</p>
</div></details></div>
<div class="toot" id="created-2448"><h2>Issue #2448 created<span class="toot-id"> #created-2448</span></h2><div class="pubdate">07 Feb at 17:33:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2448">https://github.com/qt4cg/qtspecs/issues/2448</a></div><details><summary>Change title of XPath specification</summary><div class="markup"><p>The title of the XPath specification is</p>
<p><strong>XML Path Language (XPath) 4.0</strong></p>
<p>No-one actually calls it "XML Path Language" -- and it's now a path language for JSON as well.</p>
<p>I propose we change the title to</p>
<p><strong>XPath 4.0</strong></p>
</div></details></div>
<div class="toot" id="created-2447"><h2>Issue #2447 created<span class="toot-id"> #created-2447</span></h2><div class="pubdate">07 Feb at 16:56:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2447">https://github.com/qt4cg/qtspecs/issues/2447</a></div><details><summary>Drop string-literals for names in computed constructors</summary><div class="markup"><p>XQuery 3.1 allowed <code>element foo { "bar" }</code>.</p>
<p>And then we discovered syntax ambiguities, so we allowed <code>element "foo" {"bar"}</code></p>
<p>And then we introduced QName literals, allowing <code>element #foo {"bar"}</code></p>
<p>We then dropped string literals from the grammar, but there are incorrect examples that use it:</p>
<blockquote>
<p>XQuery 4.0 allows the node name to be written in quotation marks (for example, element "book" {}</p>
</blockquote>
<p>in 4.12.3</p>
</div></details></div>
<div class="toot" id="created-2446"><h2>Pull request #2446 created<span class="toot-id"> #created-2446</span></h2><div class="pubdate">07 Feb at 13:17:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2446">https://github.com/qt4cg/qtspecs/pull/2446</a></div><details><summary>2427 Add computed node constructors to XPath</summary><div class="markup"><p>Fix #2427</p>
</div></details></div>
<div class="toot" id="created-2445"><h2>Issue #2445 created<span class="toot-id"> #created-2445</span></h2><div class="pubdate">06 Feb at 23:12:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2445">https://github.com/qt4cg/qtspecs/issues/2445</a></div><details><summary>fn:element-to-map - ignore `xsi:type` and similar attributes</summary><div class="markup"><p>Following discussion in #1948, test <code>element-to-map-017</code> has been changed so it is treated as if the <code>xsi:type</code> attribute were not present. However, I can't see anything in the current spec to justify this behaviour.</p>
<p>I propose changing the spec to say that all attributes in the xsi namespace should be ignored (except to the extent that when the input is schema-validated, they may have affected the choice of a type annotation, which itself may affect the outcome). This means (a) the attribute itself is not included in the result of the conversion, and (b) if all the attributes of an element are in this namespace, the element is treated as having no attributes.</p>
</div></details></div>
<div class="toot" id="created-2444"><h2>Issue #2444 created<span class="toot-id"> #created-2444</span></h2><div class="pubdate">04 Feb at 22:00:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2444">https://github.com/qt4cg/qtspecs/issues/2444</a></div><details><summary>XSLT Patterns for matching JNodes</summary><div class="markup"><p>A pattern such as <code>match="order"</code> currently matches both an element named "order" and a JNode whose selector is "order".</p>
<p>This makes it much more difficult to do type inferencing on the body of the template rule, and it greatly complicates streamability analysis. While usability rightly takes priority over implementation concerns, I don't think this design has usability benefits either. I think in practice users will know whether their template rules are intended to match XNodes or JNodes, and using the same pattern syntax for both is more confusing than helpful. We already offer the syntax `match="jnode(order)" to match JNodes, and I think that is clearer.</p>
<p>Note that the semantics of <code>match="order"</code> already depart from the semantics of the equivalent XPath expression <code>child::order</code> because the pattern will match a parentless element. So we only have to adapt the current magic rule:</p>
<blockquote>
<p>If PS uses the child axis (explicitly or implicitly), and if the NodeTest in PS is not document-node() (optionally with arguments), then the axis in step PS is replaced by child-or-top, which is defined as follows. If the context node is a parentless element, comment, processing instruction, or text node then the child-or-top axis selects the context node; otherwise it selects the children of the context node. It is a forwards axis whose principal node kind is element.</p>
</blockquote>
<p>so that the child-or-top axis only selects XNodes.</p>
</div></details></div>
<div class="toot" id="created-2443"><h2>Issue #2443 created<span class="toot-id"> #created-2443</span></h2><div class="pubdate">04 Feb at 13:51:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2443">https://github.com/qt4cg/qtspecs/issues/2443</a></div><details><summary>Naming: JNodes, selectors and contents</summary><div class="markup"><p>I am playing around with the new JNode functions, and my impression is that the resulting code does not look very catchy. It seems way too technical to me. For creating a map with element names and contents, we can write:</p>
<pre><code class="language-xquery">map:build($xnodes, name#1, data#1)
</code></pre>
<p>Similar code for JNodes would be:</p>
<pre><code class="language-xquery">map:build($jnodes, jnode-selector#1, jnode-content#1)
</code></pre>
<p>I wonder whether we really need to introduce so many completely new terms for rather straightforward concepts, instead of borrowing existing terminology. What about renaming the terms “Selector” to “JKey” and “content” to “JValue”? This would pretty much resemble the map terminology (even if we also use it for arrays), and it might help to understand that these terms are specific to JNodes.</p>
<pre><code class="language-xquery">map:build($jnodes, jkey#1, jvalue#1)
</code></pre>
</div></details></div>
<div class="toot" id="closed-2177"><h2>Issue #2177 closed<span class="toot-id"> #closed-2177</span></h2><div class="pubdate">04 Feb at 10:29:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2177">https://github.com/qt4cg/qtspecs/issues/2177</a></div><p>F+O: improve cross-referencing between functions</p></div>
<div class="toot" id="closed-2404"><h2>Issue #2404 closed<span class="toot-id"> #closed-2404</span></h2><div class="pubdate">04 Feb at 10:29:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2404">https://github.com/qt4cg/qtspecs/pull/2404</a></div><p>2403 Enhancements to fos.xsd</p></div>
<div class="toot" id="closed-2442"><h2>Issue #2442 closed<span class="toot-id"> #closed-2442</span></h2><div class="pubdate">04 Feb at 10:29:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2442">https://github.com/qt4cg/qtspecs/pull/2442</a></div><p>MK: 2403 enhancements to fos xsd</p></div>
<div class="toot" id="created-2442"><h2>Pull request #2442 created<span class="toot-id"> #created-2442</span></h2><div class="pubdate">04 Feb at 10:29:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2442">https://github.com/qt4cg/qtspecs/pull/2442</a></div><details><summary>MK: 2403 enhancements to fos xsd</summary><div class="markup"><p>This PR is #2404 with the addition of the compiled <code>fos.scm</code>.</p>
<p>Close #2404
Close #2403
Close #2177</p>
<p>The CG agreed to merge this PR at <a href="https://qt4cg.org/meeting/minutes/2026/02-03.html#pr-2404">meeting 151</a></p>
</div></details></div>
<div class="toot" id="created-2441"><h2>Pull request #2441 created<span class="toot-id"> #created-2441</span></h2><div class="pubdate">03 Feb at 21:14:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2441">https://github.com/qt4cg/qtspecs/pull/2441</a></div><details><summary>2434 Fix inconsistencies with GNode tests in axis steps</summary><div class="markup"><p>Fix #2434
Fix #2437</p>
<ol>
<li>The axis step <code>child::gnode()</code> should be allowed.</li>
<li>The axis step <code>self::array(*)</code> is used in an example but is invalid syntax and makes no sense</li>
<li>Functions with an argument of type <code>gnode()</code>  that accept the context item as a default should allow the context item to be any gnode, not just an XNode.</li>
</ol>
</div></details></div>
<div class="toot" id="closed-2422"><h2>Issue #2422 closed<span class="toot-id"> #closed-2422</span></h2><div class="pubdate">03 Feb at 18:57:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2422">https://github.com/qt4cg/qtspecs/issues/2422</a></div><p>XSLT: drop 3.11 Embedded Stylesheet Modules</p></div>
<div class="toot" id="created-2440"><h2>Pull request #2440 created<span class="toot-id"> #created-2440</span></h2><div class="pubdate">03 Feb at 18:54:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2440">https://github.com/qt4cg/qtspecs/pull/2440</a></div><details><summary>2432 Clarify effect of coercion on constructor functions</summary><div class="markup"><p>Fix #2432</p>
</div></details></div>
<div class="toot" id="created-2439"><h2>Pull request #2439 created<span class="toot-id"> #created-2439</span></h2><div class="pubdate">03 Feb at 18:37:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2439">https://github.com/qt4cg/qtspecs/pull/2439</a></div><details><summary>Fix prefix on bin:int-octets example function</summary><div class="markup"><p>Fix #2435</p>
</div></details></div>
<div class="toot" id="minutes-02-03"><h2>QT4 CG meeting 151 draft minutes<span class="toot-id"> #minutes-02-03</span></h2><div class="pubdate">03 Feb at 17:45:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2026/02-03">https://qt4cg.org/meeting/minutes/2026/02-03</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-2407"><h2>Issue #2407 closed<span class="toot-id"> #closed-2407</span></h2><div class="pubdate">03 Feb at 17:36:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2407">https://github.com/qt4cg/qtspecs/issues/2407</a></div><p>`fn:type-of`: function vs fn</p></div>
<div class="toot" id="closed-2409"><h2>Issue #2409 closed<span class="toot-id"> #closed-2409</span></h2><div class="pubdate">03 Feb at 17:36:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2409">https://github.com/qt4cg/qtspecs/pull/2409</a></div><p>2407 Change function to fn in type-of output</p></div>
<div class="toot" id="closed-2398"><h2>Issue #2398 closed<span class="toot-id"> #closed-2398</span></h2><div class="pubdate">03 Feb at 17:34:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2398">https://github.com/qt4cg/qtspecs/issues/2398</a></div><p>fn:highest documentation in F&amp;O spec not up to date?</p></div>
<div class="toot" id="closed-2410"><h2>Issue #2410 closed<span class="toot-id"> #closed-2410</span></h2><div class="pubdate">03 Feb at 17:34:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2410">https://github.com/qt4cg/qtspecs/pull/2410</a></div><p>2398 Fix fn:highest to match fn:lowest</p></div>
<div class="toot" id="closed-2406"><h2>Issue #2406 closed<span class="toot-id"> #closed-2406</span></h2><div class="pubdate">03 Feb at 17:32:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2406">https://github.com/qt4cg/qtspecs/issues/2406</a></div><p>Rounding dates/times and durations</p></div>
<div class="toot" id="closed-2416"><h2>Issue #2416 closed<span class="toot-id"> #closed-2416</span></h2><div class="pubdate">03 Feb at 17:32:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2416">https://github.com/qt4cg/qtspecs/pull/2416</a></div><p>2406 Add fn:parts-of-dateTime and fn:build-dateTime functions</p></div>
<div class="toot" id="closed-2365"><h2>Issue #2365 closed<span class="toot-id"> #closed-2365</span></h2><div class="pubdate">03 Feb at 17:30:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2365">https://github.com/qt4cg/qtspecs/issues/2365</a></div><p>Record types: extensible and non-extensible pairs</p></div>
<div class="toot" id="closed-1484"><h2>Issue #1484 closed<span class="toot-id"> #closed-1484</span></h2><div class="pubdate">03 Feb at 17:30:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1484">https://github.com/qt4cg/qtspecs/issues/1484</a></div><p>Functions that expect a record type should make it extensible</p></div></div><p>See 5023
            more statuses in yearly archives.</p></article></main></body></html>