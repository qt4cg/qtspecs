<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2025/">2025</a>, <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-05-13"><h2>QT4 CG meeting 121 draft agenda<span class="toot-id"> #agenda-05-13</span></h2><div class="pubdate">12 May at 09:00:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2025/05-13">https://qt4cg.org/meeting/agenda/2025/05-13</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-1993"><h2>Issue #1993 closed<span class="toot-id"> #closed-1993</span></h2><div class="pubdate">12 May at 08:25:15 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1993">https://github.com/qt4cg/qtspecs/issues/1993</a></div><p>Incorrect test generated for map:pairs</p></div>
<div class="toot" id="closed-1994"><h2>Issue #1994 closed<span class="toot-id"> #closed-1994</span></h2><div class="pubdate">12 May at 08:25:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1994">https://github.com/qt4cg/qtspecs/pull/1994</a></div><p>1993 Stylesheet fix to copy the occurrence indicator</p></div>
<div class="toot" id="created-1994"><h2>Pull request #1994 created<span class="toot-id"> #created-1994</span></h2><div class="pubdate">11 May at 21:04:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1994">https://github.com/qt4cg/qtspecs/pull/1994</a></div><details><summary>1993 Stylesheet fix to copy the occurrence indicator</summary><div class="markup"><p>Fix #1993</p>
</div></details></div>
<div class="toot" id="created-1993"><h2>Issue #1993 created<span class="toot-id"> #created-1993</span></h2><div class="pubdate">11 May at 20:52:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1993">https://github.com/qt4cg/qtspecs/issues/1993</a></div><details><summary>Incorrect test generated for map:pairs</summary><div class="markup"><p>The signature for map:pairs is</p>
<pre><code>map:pairs(
$map	as map(*)	
) as key-value-pair*
</code></pre>
<p>but the test case generated in misc-BuiltInKeywords is (incorrectly)</p>
<p><code>map:pairs(map := ?) instance of function(map(*)) as fn:key-value-pair</code></p>
<p>Note the missing <code>*</code> at the end.</p>
</div></details></div>
<div class="toot" id="created-1992"><h2>Issue #1992 created<span class="toot-id"> #created-1992</span></h2><div class="pubdate">11 May at 16:24:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1992">https://github.com/qt4cg/qtspecs/issues/1992</a></div><details><summary>Type of fn:schema-type-record ? constructor</summary><div class="markup"><p>In the type fn:schema-type-record (returned by functions such as fn:schema-type), the field <code>constructor</code> is said to be of type <code>fn(xs:anyAtomicType) as xs:anyAtomicType</code>. It is also said to be "the same function as returned by [fn:function-lookup] applied to the type name (with arity one)". But that function has type <code>fn(xs:anyAtomicType?) as T?</code></p>
<p>The correct type for the <code>constructor</code> field should be <code>fn(xs:anyAtomicType?) as xs:anyAtomicType?</code></p>
</div></details></div>
<div class="toot" id="created-1991"><h2>Pull request #1991 created<span class="toot-id"> #created-1991</span></h2><div class="pubdate">11 May at 10:45:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1991">https://github.com/qt4cg/qtspecs/pull/1991</a></div><details><summary>835 Add built-in named record types to static context</summary><div class="markup"><p>This PR adds six built-in named record types to the static context of every application:</p>
<p>Record [key-value-pair]
Record [load-xquery-module-record]
Record [parsed-csv-structure-record]
Record [random-number-generator-record]
Record [schema-type-record]
Record [uri-structure-record]</p>
<p>These are now listed in Appendix C of F&amp;O</p>
<p>Issue 835 requests a review of the names of these records; perhaps putting them in one place will make that review easier. Personally, I am happy with the names as currently defined.</p>
</div></details></div>
<div class="toot" id="created-1990"><h2>Pull request #1990 created<span class="toot-id"> #created-1990</span></h2><div class="pubdate">08 May at 18:22:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1990">https://github.com/qt4cg/qtspecs/pull/1990</a></div><details><summary>Update schema-for-xslt40.xsd</summary><div class="markup"><p>Fixed invalid syntax xs:simpleType/@ref (moved to @memberTypes) in simpleType named method</p>
<p>Based the type fixed-namespaces-type-default on xs:token instead of xs:string to allow for whitespace normalization</p>
<p>Changed collation attribute on xsl:merge-key to be an avt (according to spec)</p>
<p>Changed attributes that were previously of type "xsl:char-optionally-expanded" to just xs:string since the spec says they can be any string.  I couldn't think of a reason they should be limited to one character optionally followed by a colon and more characters, so I assumed this was some sort of artifact from the past.</p>
<p>Changed xsl:next-iteration and xsl:evaluate to not allow mixed content</p>
<p>Corrected _split_when to _split-when</p>
<p>Added missing shadow attributes (in two places) for allow-duplicate-names, build-tree, json-lines and json-node-output-method</p>
<p>Added missing shadow attribute for select on perform-sort</p>
<p>Added assertions for required attributes:</p>
<ul>
<li>xsl:use-package - name</li>
<li>xsl:expose - names, component and visibility</li>
</ul>
<p>Made the errors attribute a list of tokens instead of just xs:token.  Doesn't affect validation but I think it is more clear.</p>
<p>Changed default value of per-mille from a tilde to โฐ</p>
<p>Changed the default value of the on-no-match attribute from shallow-skip to text-only-copy, per the spec</p>
<p>Gave xsl:exclude-result-prefixes the same type as no-namespace exclude-result-prefixes, to allow for #all and #default</p>
<p>Gave xsl:extension-element-prefixes the same type as no-namespace extension-element-prefixes, to allow for #default</p>
<p>Removed the xsl:prefixes and xsl:char-optionally-expanded types since they were no longer used after the above changes</p>
<p>Changed the type of the visibility attribute on xsl:attribute-set, xsl:function, xsl:template and xsl:variable to xsl:visibility-not-hidden-type to exclude "hidden" per the spec</p>
<p>Changed the keyword value of the fixed-namespaces attribute from #default to #standard (and adjusted type names)</p>
</div></details></div>
<div class="toot" id="created-1989"><h2>Pull request #1989 created<span class="toot-id"> #created-1989</span></h2><div class="pubdate">08 May at 11:53:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1989">https://github.com/qt4cg/qtspecs/pull/1989</a></div><details><summary>1983 QName literals in node constructors</summary><div class="markup"><p>Fix #1983</p>
</div></details></div>
<div class="toot" id="created-1988"><h2>Pull request #1988 created<span class="toot-id"> #created-1988</span></h2><div class="pubdate">07 May at 13:15:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1988">https://github.com/qt4cg/qtspecs/pull/1988</a></div><details><summary>1986 Drop obsolete notes on error reporting</summary><div class="markup"><p>Fix #1986</p>
</div></details></div>
<div class="toot" id="created-1987"><h2>Pull request #1987 created<span class="toot-id"> #created-1987</span></h2><div class="pubdate">07 May at 13:08:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1987">https://github.com/qt4cg/qtspecs/pull/1987</a></div><details><summary>1985 Tidy up namespace terminology</summary><div class="markup"><p>Fix #1985</p>
<p>Editorial.</p>
<p>The main effect is to centralise the descriptions of how to expand unprefixed QNames into a few named rules which can be referenced and reused throughout the spec.</p>
</div></details></div>
<div class="toot" id="created-1986"><h2>Issue #1986 created<span class="toot-id"> #created-1986</span></h2><div class="pubdate">07 May at 10:00:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1986">https://github.com/qt4cg/qtspecs/issues/1986</a></div><details><summary>Obsolete note on reporting errors</summary><div class="markup"><p>I propose dropping the folliowing text in XQuery ยง2.4.2</p>
<p>None of this text says anything prescriptive, and the suggested notation of URI#local appears outdated.</p>
<blockquote>
<p>The method by which an XQuery 4.0 processor reports error information to the external environment is <a href="file:///Users/mike/GitHub/mhk/qtspecs/build/www/xquery-40/xquery-40.html#dt-implementation-defined">implementation-defined</a>.</p>
<p>An error can be represented by a URI reference that is derived from the error QName as follows: an error with namespace URI NS and local part LP can be represented as the URI reference NS # LP . For example, an error whose QName is err:XPST0017 could be represented as http://www.w3.org/2005/xqt-errors#XPST0017.</p>
<p>Note:</p>
<p>Along with a code identifying an error, implementations may wish to return additional information, such as the location of the error or the processing phase in which it was detected. If an implementation chooses to do so, then the mechanism that it uses to return this information is <a href="file:///Users/mike/GitHub/mhk/qtspecs/build/www/xquery-40/xquery-40.html#dt-implementation-defined">implementation-defined</a>.</p>
</blockquote>
</div></details></div>
<div class="toot" id="created-1985"><h2>Issue #1985 created<span class="toot-id"> #created-1985</span></h2><div class="pubdate">07 May at 07:43:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1985">https://github.com/qt4cg/qtspecs/issues/1985</a></div><details><summary>Default namespace terminology</summary><div class="markup"><p>There are places in the spec that use sloppy terminology regarding namespaces. For example 2.1.3 says</p>
<blockquote>
<p>the namespace URI is inferred from the prefix by examining the in-scope namespaces in the static context</p>
</blockquote>
<p>But the static context does not define "in-scope namespaces", it defines "statically known namespaces"</p>
<p>I propose to put together an editorial PR to tidy this up.</p>
</div></details></div>
<div class="toot" id="created-1984"><h2>Pull request #1984 created<span class="toot-id"> #created-1984</span></h2><div class="pubdate">06 May at 20:53:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1984">https://github.com/qt4cg/qtspecs/pull/1984</a></div><details><summary>882 Drop fn:chain</summary><div class="markup"><p>Fix #882</p>
<p>Supersedes PR #1883</p>
<p>There has been a great deal of discussion about the relative merits of the status-quo fn:chain function and the proposed replacement fn:compose. The CG was polled on whether it preferred to have fn:chain only, fn:compose only, or both, or neither. There was no clear consensus. The only option which no-one seemed to favour was to have fn:chain only -- which is the status quo. Since no-one is happy with the status quo I am therefore proposing that we drop this function. We can then start with a clean slate.</p>
<p>For the record the main criticisms of the fn:chain function as currently specified were:</p>
<p>(a) it is more useful to have a function that combines several functions into a single function, without actually applying that function to a set of supplied arguments</p>
<p>(b) The function has special-case behaviour for arrays (if the input is not an array and the function has arity &gt; 1 then the input sequence is converted to an array).</p>
<p>(c) The need for the function is not clearly motivated; the examples given can all be achieved in some simpler more intuitive way.</p>
</div></details></div>
<div class="toot" id="created-1983"><h2>Issue #1983 created<span class="toot-id"> #created-1983</span></h2><div class="pubdate">06 May at 20:32:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1983">https://github.com/qt4cg/qtspecs/issues/1983</a></div><details><summary>Computed node constructors - use QName literals rather than string literals</summary><div class="markup"><p>We have introduced (in 4.0) the option to specify element and attribute names in computed node constructors in the form of string literals. We should replace this with QName literals.</p>
</div></details></div>
<div class="toot" id="created-1982"><h2>Pull request #1982 created<span class="toot-id"> #created-1982</span></h2><div class="pubdate">06 May at 20:30:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1982">https://github.com/qt4cg/qtspecs/pull/1982</a></div><details><summary>1981 Ambiguity with qname literals and pragmas</summary><div class="markup"><p>Resolves the syntax problem identified in #1981 by requiring a space between <code>(</code> and <code>#</code>.</p>
<p>Adds more examples and notes scattered around the specs.</p>
</div></details></div>
<div class="toot" id="created-1981"><h2>Issue #1981 created<span class="toot-id"> #created-1981</span></h2><div class="pubdate">06 May at 16:41:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1981">https://github.com/qt4cg/qtspecs/issues/1981</a></div><details><summary>Syntax for QName literals clashes with XQuery pragmas</summary><div class="markup"><p>Unfortunately (as revealed by implementation and testing) the syntax for QName literals clashes with the syntax for pragmas in XQuery.</p>
<p>In the expression <code>error(#err:XPTY0004)</code>, the longest token after <code>error</code> is <code>(#</code> which looks like the start of a pragma.</p>
<p>It's actually a wee bit complicated. Looking at the tokenization rules, we shouldn't be recognizing a pragma here because there is no closing <code>#)</code>. The tokenization notes say "The lexical production rules for [variable terminals] have been designed so that there is minimal need for backtracking."; the introduction of the new syntax would mean that this is no longer the case. But regardless of the details, I think we have to change the QName literal syntax.</p>
<p>I propose we go for doubling the hash: <code>error(##err:XPTY0004)</code>. We need to qualify the rules for tokenizing a pragma to say that a pragma is recognized when we see (<code>(#</code>, optional whitespace, EQName) - that's not unlike the rules we have for other "variable tokens".</p>
</div></details></div>
<div class="toot" id="closed-1972"><h2>Issue #1972 closed<span class="toot-id"> #closed-1972</span></h2><div class="pubdate">06 May at 16:22:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1972">https://github.com/qt4cg/qtspecs/issues/1972</a></div><p>Dynamic function call applied to empty sequence</p></div>
<div class="toot" id="closed-1240"><h2>Issue #1240 closed<span class="toot-id"> #closed-1240</span></h2><div class="pubdate">06 May at 16:22:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1240">https://github.com/qt4cg/qtspecs/issues/1240</a></div><p>$sequence-of-maps ? info()</p></div>
<div class="toot" id="closed-1975"><h2>Issue #1975 closed<span class="toot-id"> #closed-1975</span></h2><div class="pubdate">06 May at 16:22:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1975">https://github.com/qt4cg/qtspecs/pull/1975</a></div><p>1240 Allow operand of dynamic function call to be a sequence</p></div>
<div class="toot" id="closed-1661"><h2>Issue #1661 closed<span class="toot-id"> #closed-1661</span></h2><div class="pubdate">06 May at 16:19:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1661">https://github.com/qt4cg/qtspecs/issues/1661</a></div><p>QName arguments: also allow strings</p></div>
<div class="toot" id="closed-1976"><h2>Issue #1976 closed<span class="toot-id"> #closed-1976</span></h2><div class="pubdate">06 May at 16:19:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1976">https://github.com/qt4cg/qtspecs/pull/1976</a></div><p>1661 Introduce QName literals</p></div>
<div class="toot" id="closed-1973"><h2>Issue #1973 closed<span class="toot-id"> #closed-1973</span></h2><div class="pubdate">06 May at 16:16:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1973">https://github.com/qt4cg/qtspecs/issues/1973</a></div><p>Substantitively disjoint types</p></div>
<div class="toot" id="closed-1974"><h2>Issue #1974 closed<span class="toot-id"> #closed-1974</span></h2><div class="pubdate">06 May at 16:16:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1974">https://github.com/qt4cg/qtspecs/pull/1974</a></div><p>1973 Cross-reference from type analysis to definition of disjointedness</p></div>
<div class="toot" id="closed-1951"><h2>Issue #1951 closed<span class="toot-id"> #closed-1951</span></h2><div class="pubdate">06 May at 16:14:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1951">https://github.com/qt4cg/qtspecs/issues/1951</a></div><p>Some nits regarding the method attribute</p></div>
<div class="toot" id="closed-1971"><h2>Issue #1971 closed<span class="toot-id"> #closed-1971</span></h2><div class="pubdate">06 May at 16:14:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1971">https://github.com/qt4cg/qtspecs/pull/1971</a></div><p>1951 Clarifications on serialization parameters</p></div>
<div class="toot" id="closed-1952"><h2>Issue #1952 closed<span class="toot-id"> #closed-1952</span></h2><div class="pubdate">06 May at 16:08:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1952">https://github.com/qt4cg/qtspecs/issues/1952</a></div><p>Change option name from xsi-schema-location to use-xsi-schema-location</p></div>
<div class="toot" id="closed-1969"><h2>Issue #1969 closed<span class="toot-id"> #closed-1969</span></h2><div class="pubdate">06 May at 16:08:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1969">https://github.com/qt4cg/qtspecs/pull/1969</a></div><p>1952 Change option name xsi-schema-location</p></div>
<div class="toot" id="closed-1967"><h2>Issue #1967 closed<span class="toot-id"> #closed-1967</span></h2><div class="pubdate">06 May at 16:05:41 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1967">https://github.com/qt4cg/qtspecs/issues/1967</a></div><p>Example for fn:unparsed-binary uses obsolete function name</p></div>
<div class="toot" id="closed-1968"><h2>Issue #1968 closed<span class="toot-id"> #closed-1968</span></h2><div class="pubdate">06 May at 16:05:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1968">https://github.com/qt4cg/qtspecs/pull/1968</a></div><p>1967 r/binary-resource/unparsed-binary/</p></div></div><p>See 4028
            more statuses in yearly archives.</p></article></main></body></html>