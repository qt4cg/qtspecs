<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-11-28"><h2>QT4 CG meeting 056 draft agenda<span class="toot-id"> #agenda-11-28</span></h2><div class="pubdate">27 Nov at 12:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2023/11-28">https://qt4cg.org/meeting/agenda/2023/11-28</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-858"><h2>Issue #858 closed<span class="toot-id"> #closed-858</span></h2><div class="pubdate">27 Nov at 08:38:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/858">https://github.com/qt4cg/qtspecs/issues/858</a></div><p>fn:identity: accept 2 arguments, ignore second</p></div>
<div class="toot" id="created-861"><h2>Issue #861 created<span class="toot-id"> #created-861</span></h2><div class="pubdate">26 Nov at 22:52:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/861">https://github.com/qt4cg/qtspecs/issues/861</a></div><details><summary>Precise meaning of $E??KS</summary><div class="markup"><p>I don't think that the semantics of the expression <code>$E??KS</code> are clearly enough defined.</p>
<blockquote>
<p>The effect of the deep lookup expression E??KS is obtained by evaluating E, establishing its recursive content C, removing any item that is not a map or array to yield a sequence D, and then evaluating the shallow lookup expression D?KS, but with one exception: if evaluation of any shallow lookup fails, then the error is not propagated, but instead its result is taken to be an empty sequence.</p>
</blockquote>
<ol>
<li>The definition of "recursive content" needs to be tightened up.</li>
<li>It needs to be more clearly stated which errors we ignore, and which we don't. For example, what if the key specifier evaluates to a non-singleton sequence?</li>
<li>In the case of <code>$E??*</code> in particular, I don't think it makes much sense to exclude items that are not maps or arrays. I think the expectation in this case is to return the full recursive content.</li>
<li>As currently defined, if <code>$M</code> is a map, the the result of <code>$M??*</code> includes the map <code>$M</code> itself. I don't think this matches expectations. Certainly, with the parallel expression <code>$node//*</code>, the result does not include <code>$node</code>.</li>
</ol>
</div></details></div>
<div class="toot" id="created-860"><h2>Issue #860 created<span class="toot-id"> #created-860</span></h2><div class="pubdate">26 Nov at 19:46:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/860">https://github.com/qt4cg/qtspecs/issues/860</a></div><details><summary>Unary Lookup when the context value is a sequence</summary><div class="markup"><p>We have added the text</p>
<blockquote>
<p>If the context value is anything other than a single item, the semantics of the expression ?KS are defined to be equivalent to the expression . ! ?KS. The remainder of this section therefore explains the semantics on the assumption that the [context value] is a single item, referred to as the context item.</p>
</blockquote>
<p>Consider the case where the context value is a sequence of two maps <code>(map{'x':1, 1:'p', 2:'q'}, map{'x':2, 1:'P', 2:'Q'})</code> and the expression is <code>?(?x)</code>. What is the context for evaluation of the key specifier <code>(?x)</code>? I would have expected that we evaluate the key specifier once, in the outer context, so the key specifier value is <code>(1,2)</code> and we therefore take the entries with keys 1 and 2 in both maps, giving a result of ('p', 'q', 'P', 'Q'). But the cited paragraph suggests we evaluate KS separately for each item in the context value, and this return entry 1 of map 1 and entry 2 of map 2, giving a result of ('p', 'Q').</p>
<p>I know it's an edge case and it's unlikely in practice that people will write context-dependent key specifiers, but the rules need to be clear. I thought we had previously decided that the key specifier expression should be evaluated in the outer context.</p>
</div></details></div>
<div class="toot" id="created-859"><h2>Issue #859 created<span class="toot-id"> #created-859</span></h2><div class="pubdate">26 Nov at 16:32:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/859">https://github.com/qt4cg/qtspecs/issues/859</a></div><details><summary>Syntax problem with type-qualified wildcards in lookup expressions</summary><div class="markup"><p>The new syntax for type-qualified wildcards has problems when used in a chained lookup expression, for example</p>
<p><code>[[1,2], [3,4], 5, 6]?*::array(*)?1</code></p>
<p>because the "?" that follows <code>array(*)</code> is interpreted as an occurrence indicator. This can be avoided by using parentheses, but it's too much of an elephant trap - a better solution is needed.</p>
</div></details></div>
<div class="toot" id="created-858"><h2>Issue #858 created<span class="toot-id"> #created-858</span></h2><div class="pubdate">25 Nov at 19:27:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/858">https://github.com/qt4cg/qtspecs/issues/858</a></div><details><summary>fn:identity: accept 2 arguments, ignore second</summary><div class="markup"><p>Apart from <code>id</code>, Haskell has <a href="http://zvon.org/other/haskell/Outputprelude/const_f.html"><code>const</code></a>, which accepts 2 arguments, but only returns the first. Thanks to the introduction of default arguments, it’s straightforward to extend <code>fn:identity</code> to be able to accept 2 arguments:</p>
<pre><code class="language-xquery">fn:identity(
  $input    as item()*,
  $ignored  as item()*  := ()
) as item()*
</code></pre>
</div></details></div>
<div class="toot" id="created-857"><h2>Pull request #857 created<span class="toot-id"> #created-857</span></h2><div class="pubdate">24 Nov at 16:00:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/857">https://github.com/qt4cg/qtspecs/pull/857</a></div><details><summary>856 Drop reference to obsolete error condition in deep-equal()</summary><div class="markup"><p>Fix #856</p>
</div></details></div>
<div class="toot" id="created-856"><h2>Issue #856 created<span class="toot-id"> #created-856</span></h2><div class="pubdate">24 Nov at 13:05:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/856">https://github.com/qt4cg/qtspecs/issues/856</a></div><details><summary>Spec for deep-equal() still references FOTY0015</summary><div class="markup"><p>The errors section of fn:deep-equal still says</p>
<p>A type error is raised [[err:FOTY0015] if either input sequence contains a function item that is not a map or array.</p>
<p>This is no longer the case (and error FOTY0015 is now obsolete and should be removed from the appendix)</p>
</div></details></div>
<div class="toot" id="created-855"><h2>Pull request #855 created<span class="toot-id"> #created-855</span></h2><div class="pubdate">24 Nov at 10:46:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/855">https://github.com/qt4cg/qtspecs/pull/855</a></div><details><summary>844 New sequence functions: names</summary><div class="markup"><p>Closes #844</p>
</div></details></div>
<div class="toot" id="closed-852"><h2>Issue #852 closed<span class="toot-id"> #closed-852</span></h2><div class="pubdate">23 Nov at 12:04:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/852">https://github.com/qt4cg/qtspecs/issues/852</a></div><p>Typo in XQuery equivalent for fn:transitive-closure</p></div>
<div class="toot" id="closed-853"><h2>Issue #853 closed<span class="toot-id"> #closed-853</span></h2><div class="pubdate">23 Nov at 12:04:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/853">https://github.com/qt4cg/qtspecs/pull/853</a></div><p>852 Fix typo in transitive-closure</p></div>
<div class="toot" id="created-854"><h2>Issue #854 created<span class="toot-id"> #created-854</span></h2><div class="pubdate">22 Nov at 22:16:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/854">https://github.com/qt4cg/qtspecs/issues/854</a></div><details><summary>Need more discussion and explanation of deep-lookup operator</summary><div class="markup"><p>During discussion of the <code>??</code> operator it was pointed out that we need more examples and explanation, especially of how to handle cases where the "flattening" behaviour of the operator is inconvenient. This applies equally to paths using the existing <code>?</code> operator - <code>$x?y?z</code> and <code>$x??z</code> both have this problem. For example, there is no way of filtering the result of<code>$x?y?z</code> or <code>$x??z</code> to select only members of size 3.</p>
</div></details></div>
<div class="toot" id="closed-57"><h2>Issue #57 closed<span class="toot-id"> #closed-57</span></h2><div class="pubdate">22 Nov at 20:33:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/57">https://github.com/qt4cg/qtspecs/issues/57</a></div><p>The item-type(T) syntax is not defined</p></div>
<div class="toot" id="closed-172"><h2>Issue #172 closed<span class="toot-id"> #closed-172</span></h2><div class="pubdate">22 Nov at 19:55:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/172">https://github.com/qt4cg/qtspecs/issues/172</a></div><p>Record Tests</p></div>
<div class="toot" id="closed-233"><h2>Issue #233 closed<span class="toot-id"> #closed-233</span></h2><div class="pubdate">22 Nov at 19:53:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/233">https://github.com/qt4cg/qtspecs/issues/233</a></div><p>Declare the result type of a mode, via @as</p></div>
<div class="toot" id="closed-698"><h2>Issue #698 closed<span class="toot-id"> #closed-698</span></h2><div class="pubdate">22 Nov at 19:20:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/698">https://github.com/qt4cg/qtspecs/issues/698</a></div><p>GitHub: Line Endings</p></div>
<div class="toot" id="closed-730"><h2>Issue #730 closed<span class="toot-id"> #closed-730</span></h2><div class="pubdate">22 Nov at 16:44:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/730">https://github.com/qt4cg/qtspecs/issues/730</a></div><p>Equivalence of map and function types</p></div>
<div class="toot" id="closed-840"><h2>Issue #840 closed<span class="toot-id"> #closed-840</span></h2><div class="pubdate">22 Nov at 16:37:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/840">https://github.com/qt4cg/qtspecs/issues/840</a></div><p>Wrong example in fn:seconds-from-duration</p></div>
<div class="toot" id="created-853"><h2>Pull request #853 created<span class="toot-id"> #created-853</span></h2><div class="pubdate">22 Nov at 16:34:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/853">https://github.com/qt4cg/qtspecs/pull/853</a></div><details><summary>852 Fix typo in transitive-closure</summary><div class="markup"><p>Fix #852</p>
</div></details></div>
<div class="toot" id="created-852"><h2>Issue #852 created<span class="toot-id"> #created-852</span></h2><div class="pubdate">22 Nov at 16:04:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/852">https://github.com/qt4cg/qtspecs/issues/852</a></div><details><summary>Typo in XQuery equivalent for fn:transitive-closure</summary><div class="markup"><p><code>tc-inclusive($node/$step(.)), $step)</code></p>
<p>should read</p>
<p><code>tc-inclusive($node/$step(.), $step)</code></p>
</div></details></div>
<div class="toot" id="closed-837"><h2>Issue #837 closed<span class="toot-id"> #closed-837</span></h2><div class="pubdate">21 Nov at 17:15:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/837">https://github.com/qt4cg/qtspecs/pull/837</a></div><p>297 Deep Lookup Operator "??" and wildcard qualifier "::"</p></div>
<div class="toot" id="minutes-11-21"><h2>QT4 CG meeting 055 draft minutes<span class="toot-id"> #minutes-11-21</span></h2><div class="pubdate">21 Nov at 17:15:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2023/11-21">https://qt4cg.org/meeting/minutes/2023/11-21</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-848"><h2>Issue #848 closed<span class="toot-id"> #closed-848</span></h2><div class="pubdate">21 Nov at 17:14:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/848">https://github.com/qt4cg/qtspecs/pull/848</a></div><p>More fo spec examples corrections</p></div>
<div class="toot" id="closed-833"><h2>Issue #833 closed<span class="toot-id"> #closed-833</span></h2><div class="pubdate">21 Nov at 17:13:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/833">https://github.com/qt4cg/qtspecs/pull/833</a></div><p>Fix the line endings, force a single lf in text files</p></div>
<div class="toot" id="closed-841"><h2>Issue #841 closed<span class="toot-id"> #closed-841</span></h2><div class="pubdate">21 Nov at 17:10:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/841">https://github.com/qt4cg/qtspecs/pull/841</a></div><p>840: Typo in fn:seconds-from-duration example</p></div>
<div class="toot" id="closed-845"><h2>Issue #845 closed<span class="toot-id"> #closed-845</span></h2><div class="pubdate">21 Nov at 17:09:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/845">https://github.com/qt4cg/qtspecs/issues/845</a></div><p>Quantified expressions and "binding tuples" (Editorial)</p></div>
<div class="toot" id="closed-846"><h2>Issue #846 closed<span class="toot-id"> #closed-846</span></h2><div class="pubdate">21 Nov at 17:06:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/846">https://github.com/qt4cg/qtspecs/pull/846</a></div><p>845 Drop mention of tuples</p></div>
<div class="toot" id="closed-842"><h2>Issue #842 closed<span class="toot-id"> #closed-842</span></h2><div class="pubdate">21 Nov at 17:03:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/842">https://github.com/qt4cg/qtspecs/pull/842</a></div><p>Improve stylesheet for generating keyword tests</p></div>
<div class="toot" id="created-851"><h2>Pull request #851 created<span class="toot-id"> #created-851</span></h2><div class="pubdate">21 Nov at 14:39:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/851">https://github.com/qt4cg/qtspecs/pull/851</a></div><details><summary>822: XQuery, XQFO: Edits (pool)</summary><div class="markup"><p>Editorial; closes #822 (visit this issue for a list of the changes)</p>
</div></details></div>
<div class="toot" id="created-850"><h2>Issue #850 created<span class="toot-id"> #created-850</span></h2><div class="pubdate">21 Nov at 13:04:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/850">https://github.com/qt4cg/qtspecs/issues/850</a></div><details><summary>fn:parse-html: Finalization</summary><div class="markup"><p>Now that <code>fn:parse-html</code> has been added to the specification, we need test cases for all provided options and input types (including binary input).</p>
<p>Looking at the current set of test cases, it seems unrealistic to use older libraries such as TagSoup for this function. I wonder if we should support ·implementation-defined· parsing algorithms at all. What do others think?</p>
<p>Next, is there <strong>any</strong> implementation available that supports all given method/html-version variants?</p>
</div></details></div></div><p>See 1613
            more statuses in yearly archives.</p></article></main></body></html>