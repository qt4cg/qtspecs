<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2026/">2026</a>, <a href="2025/">2025</a>, <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="minutes-02-10"><h2>QT4 CG meeting 152 draft minutes<span class="toot-id"> #minutes-02-10</span></h2><div class="pubdate">10 Feb at 17:55:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2026/02-10">https://qt4cg.org/meeting/minutes/2026/02-10</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-2437"><h2>Issue #2437 closed<span class="toot-id"> #closed-2437</span></h2><div class="pubdate">10 Feb at 17:00:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2437">https://github.com/qt4cg/qtspecs/issues/2437</a></div><p>SimpleNodeTest: TypeTest → RegularItemType?</p></div>
<div class="toot" id="closed-2434"><h2>Issue #2434 closed<span class="toot-id"> #closed-2434</span></h2><div class="pubdate">10 Feb at 17:00:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2434">https://github.com/qt4cg/qtspecs/issues/2434</a></div><p>`fn:has-children`: buggy examples?</p></div>
<div class="toot" id="closed-2441"><h2>Issue #2441 closed<span class="toot-id"> #closed-2441</span></h2><div class="pubdate">10 Feb at 16:59:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2441">https://github.com/qt4cg/qtspecs/pull/2441</a></div><p>2434 Fix inconsistencies with GNode tests in axis steps</p></div>
<div class="toot" id="closed-2445"><h2>Issue #2445 closed<span class="toot-id"> #closed-2445</span></h2><div class="pubdate">10 Feb at 16:56:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2445">https://github.com/qt4cg/qtspecs/issues/2445</a></div><p>fn:element-to-map - ignore `xsi:type` and similar attributes</p></div>
<div class="toot" id="closed-2449"><h2>Issue #2449 closed<span class="toot-id"> #closed-2449</span></h2><div class="pubdate">10 Feb at 16:56:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2449">https://github.com/qt4cg/qtspecs/pull/2449</a></div><p>2445 Add rules for xsi namespace elements in element-to-map</p></div>
<div class="toot" id="closed-2453"><h2>Issue #2453 closed<span class="toot-id"> #closed-2453</span></h2><div class="pubdate">10 Feb at 16:54:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2453">https://github.com/qt4cg/qtspecs/issues/2453</a></div><p>XSLT Patterns: the "child-or-top" adjustment</p></div>
<div class="toot" id="closed-2444"><h2>Issue #2444 closed<span class="toot-id"> #closed-2444</span></h2><div class="pubdate">10 Feb at 16:54:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2444">https://github.com/qt4cg/qtspecs/issues/2444</a></div><p>XSLT Patterns for matching JNodes</p></div>
<div class="toot" id="closed-2451"><h2>Issue #2451 closed<span class="toot-id"> #closed-2451</span></h2><div class="pubdate">10 Feb at 16:54:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2451">https://github.com/qt4cg/qtspecs/pull/2451</a></div><p>2444 Make match="*" and match="N" match element nodes only</p></div>
<div class="toot" id="closed-2450"><h2>Issue #2450 closed<span class="toot-id"> #closed-2450</span></h2><div class="pubdate">10 Feb at 16:51:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2450">https://github.com/qt4cg/qtspecs/issues/2450</a></div><p>JNode types: matching root JNodes</p></div>
<div class="toot" id="closed-2452"><h2>Issue #2452 closed<span class="toot-id"> #closed-2452</span></h2><div class="pubdate">10 Feb at 16:51:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2452">https://github.com/qt4cg/qtspecs/pull/2452</a></div><p>2450 Add jnode((), *) to match root JNodes</p></div>
<div class="toot" id="closed-2435"><h2>Issue #2435 closed<span class="toot-id"> #closed-2435</span></h2><div class="pubdate">10 Feb at 16:50:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2435">https://github.com/qt4cg/qtspecs/issues/2435</a></div><p>Incorrect namespace prefixes in EXPath Binary example</p></div>
<div class="toot" id="closed-2439"><h2>Issue #2439 closed<span class="toot-id"> #closed-2439</span></h2><div class="pubdate">10 Feb at 16:50:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2439">https://github.com/qt4cg/qtspecs/pull/2439</a></div><p>Fix prefix on bin:int-octets example function</p></div>
<div class="toot" id="closed-2436"><h2>Issue #2436 closed<span class="toot-id"> #closed-2436</span></h2><div class="pubdate">10 Feb at 16:50:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2436">https://github.com/qt4cg/qtspecs/issues/2436</a></div><p>`jnode` type: arguments (spec vs. tests)</p></div>
<div class="toot" id="closed-2432"><h2>Issue #2432 closed<span class="toot-id"> #closed-2432</span></h2><div class="pubdate">10 Feb at 16:49:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2432">https://github.com/qt4cg/qtspecs/issues/2432</a></div><p>Constructor Functions: conversions</p></div>
<div class="toot" id="closed-2440"><h2>Issue #2440 closed<span class="toot-id"> #closed-2440</span></h2><div class="pubdate">10 Feb at 16:49:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2440">https://github.com/qt4cg/qtspecs/pull/2440</a></div><p>2432 Clarify effect of coercion on constructor functions</p></div>
<div class="toot" id="created-2457"><h2>Pull request #2457 created<span class="toot-id"> #created-2457</span></h2><div class="pubdate">10 Feb at 15:53:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2457">https://github.com/qt4cg/qtspecs/pull/2457</a></div><details><summary>Improved use of fos:result</summary><div class="markup"><p>Changes the main function catalog to make improved use of the fos:result element. Specifically:</p>
<ul>
<li>Uses fos:error-result for error examples</li>
<li>Makes greater use of explicit results rather than narrative results where possible</li>
<li>Uses fos:result narrative="true" to get auto-checking of examples having no definitive result, and improved rendition.</li>
</ul>
</div></details></div>
<div class="toot" id="created-2456"><h2>Pull request #2456 created<span class="toot-id"> #created-2456</span></h2><div class="pubdate">10 Feb at 13:21:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2456">https://github.com/qt4cg/qtspecs/pull/2456</a></div><details><summary>Stylesheet handling of fos:result/@narrative</summary><div class="markup"><p>Following a schema change that allows the function catalog to contain code examples annotated <code>&lt;fos:result narrative="true"&gt;</code>, this PR makes stylesheet changes allowing such examples to be rendered.</p>
<ul>
<li>In generating the specification documents, narrative results are simply rendered as prose, without containing <code>&lt;code&gt;</code> tags</li>
<li>In generating the QT4 tests, the generated test case ensures that the example can be successfully compiled and run, but the test always succeeds so long as the result is not a static or dynamic error.</li>
</ul>
</div></details></div>
<div class="toot" id="closed-2399"><h2>Issue #2399 closed<span class="toot-id"> #closed-2399</span></h2><div class="pubdate">10 Feb at 11:47:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2399">https://github.com/qt4cg/qtspecs/issues/2399</a></div><p>Canonical JSON Serialization: edge cases</p></div>
<div class="toot" id="closed-2418"><h2>Issue #2418 closed<span class="toot-id"> #closed-2418</span></h2><div class="pubdate">10 Feb at 11:47:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2418">https://github.com/qt4cg/qtspecs/pull/2418</a></div><p>2399b Add rules and advice for JSON output of special numerics</p></div>
<div class="toot" id="created-2455"><h2>Issue #2455 created<span class="toot-id"> #created-2455</span></h2><div class="pubdate">09 Feb at 15:12:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2455">https://github.com/qt4cg/qtspecs/issues/2455</a></div><details><summary>`file:copy`: creating targets</summary><div class="markup"><p>The current rules of the <code>file:copy</code> function say:</p>
<blockquote>
<p>Copies a file or a directory given a source and a target path/URI. The following rules apply if $source points to a file:</p>
<ol>
<li>if <code>$target</code> does not exist, it will be created.</li>
</ol>
</blockquote>
<p>I think we should refine this rule and prevent this function from creating arbitrary directory structures if simple files are copied.</p>
</div></details></div>
<div class="toot" id="agenda-02-10"><h2>QT4 CG meeting 152 draft agenda<span class="toot-id"> #agenda-02-10</span></h2><div class="pubdate">09 Feb at 12:50:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2026/02-10">https://qt4cg.org/meeting/agenda/2026/02-10</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-2454"><h2>Issue #2454 created<span class="toot-id"> #created-2454</span></h2><div class="pubdate">09 Feb at 10:01:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2454">https://github.com/qt4cg/qtspecs/issues/2454</a></div><details><summary>Grammar: literals &amp; constants, negative numbers</summary><div class="markup"><p>I think we could easily tweak the grammar by changing…</p>
<pre><code>Constant     ::=  StringLiteral | ("-"? NumericLiteral) | QNameLiteral | ("true" "(" ")") | ("false" "(" ")")
Literal      ::=  NumericLiteral | StringLiteral | QNameLiteral
</code></pre>
<p>…to:</p>
<pre><code>Constant     ::=  Literal | ("true" "(" ")") | ("false" "(" ")")
Literal      ::=  ("-"? NumericLiteral) | StringLiteral | QNameLiteral
</code></pre>
<p>As a result, a negative number would be returned by the parser as a literal instead of a unary expression (weird constructs like <code>-  - -2344</code> will still be possible), and the key specifier of a lookup expression could be a negative number.</p>
</div></details></div>
<div class="toot" id="created-2453"><h2>Issue #2453 created<span class="toot-id"> #created-2453</span></h2><div class="pubdate">09 Feb at 00:20:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2453">https://github.com/qt4cg/qtspecs/issues/2453</a></div><details><summary>XSLT Patterns: the "child-or-top" adjustment</summary><div class="markup"><p>This issue identifies a bug in XSLT 3.0 (retained in XSLT 4.0).</p>
<p>There is a special rule in XSLT 3.0 designed to ensure that the pattern <code>match="a"</code> will match an <code>a</code> element even if it is parentless. Without the special rule, it would not do so, because "a" expands to <code>child::a</code> which would otherwise only match an element that is a child of something.</p>
<p>The rule is written (in §5.5.3):</p>
<blockquote>
<p>If any PathExprP in the Pattern is a RelativePathExprP, then the first StepExprP PS of this RelativePathExprP is adjusted to allow it to match a parentless element... If PS uses the child axis (explicitly or implicitly), and if the NodeTest in PS is not document-node() (optionally with arguments), then the axis in step PS is replaced by child-or-top, which is defined as follows. If the context node is a parentless element, comment, processing-instruction, or text node then the child-or-top axis selects the context node; otherwise it selects the children of the context node. It is a forwards axis whose principal node kind is element.</p>
</blockquote>
<p>Now consider the pattern <code>match="*/(b union c)"</code>. Clearly <code>b</code> is a PathExprP and a RelativePathExprP, so the adjustment applies to its first StepExprP, namely to <code>b</code>. So the pattern should expand to <code>match="*/(child-or-top::b union child-or-top::c)"</code>, and a literal reading of the semantics of patterns, in conjunction with the semantics of path expressions, means that this should match a parentless <code>b</code> or <code>c</code> element, whereas the clear intention (and the Saxon implementation) is that it matches a <code>b</code> or <code>c</code> element only if it has an element node parent.</p>
<p>Similarly, consider the pattern <code>match="b[b or c]"</code>. Again, the rules suggest that this should be adjusted to <code>match="child-or-top::b[child-or-top::b or child-or-top::c]"</code> which would technically match a parentless <code>b</code> element having no <code>b</code> or <code>c</code> child. This is clearly not intended</p>
<p>Saxon in fact is not applying any syntactic adjustment to the pattern at all. Rather, it is evaluating the pattern steps from right to left, and if a sub pattern has no preceding "/" or "//" operator then it is assuming there are no constraints on the element's ancestry.</p>
<p>I can think of a couple of ways the bug might be fixed.</p>
<p>Firstly, we could try to define more precisely the StepExprP subexpressions that are subjected to this adjustment. It's basically any StepExprP that is not the right-hand operand of "/" or "//", and that is not an operand of a union, intersect, or except expression that is the right hand operand of "/" or "//", and is not contained within a predicate.</p>
<p>Alternatively, we could try to amend the "equivalent expression" rule. We say that a pattern P matches a node N if N has an ancestor-or-self node $A such that the path expression $A//(P) selects N. We could amend this rule to say that if N is parentless, then this rule is evaluated "as if" N had an imaginary parent.</p>
<p>Neither solution is very elegant.</p>
</div></details></div>
<div class="toot" id="created-2452"><h2>Pull request #2452 created<span class="toot-id"> #created-2452</span></h2><div class="pubdate">08 Feb at 13:19:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2452">https://github.com/qt4cg/qtspecs/pull/2452</a></div><details><summary>2450 Add jnode((), *) to match root JNodes</summary><div class="markup"><p>Fix #2450</p>
</div></details></div>
<div class="toot" id="created-2451"><h2>Pull request #2451 created<span class="toot-id"> #created-2451</span></h2><div class="pubdate">07 Feb at 22:44:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2451">https://github.com/qt4cg/qtspecs/pull/2451</a></div><details><summary>2444 Make match="*" and match="N" match element nodes only</summary><div class="markup"><p>Fix #2444</p>
<p>The effect of the change is that simple patterns like <code>match="*"</code> and <code>match="order"</code> will only match element nodes, they will no longer match JNodes.</p>
<p>This is motivated firstly by implementation experience: the current rules cause a performance regression compared with XSLT 3.0 because it's harder to do precise static type inferencing, and some streaming use cases are no longer streamable for the same reason.</p>
<p>However, I think there is also a usability benefit. These simple match patterns are instinctively understood by the entire XSLT user population, and extending their meaning so they match things unexpectedly could be a debugging nightmare. Consider the case of a mature stylesheet with hundreds of template rules designed to process XML elements, which is then extended with a new module to handle a JSON representation of the same data; it's very unlikely the user will actually want or intend the same template rules to process both, and if this is what they want, it's clearer to make this explicit by using a union pattern.</p>
</div></details></div>
<div class="toot" id="created-2450"><h2>Issue #2450 created<span class="toot-id"> #created-2450</span></h2><div class="pubdate">07 Feb at 22:33:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2450">https://github.com/qt4cg/qtspecs/issues/2450</a></div><details><summary>JNode types: matching root JNodes</summary><div class="markup"><p>In the description of JNode types in 3.2.9, there is no explicit statement of what a type like <code>jnode(*, map())</code> means. In particular, it isn't clear (except perhaps from studying examples) whether it matches a JNode whose selector property is absent (i.e. the root of a JTree). The examples suggest that it does.</p>
<p>For pattern matching in XSLT, it would be useful to have a pattern that ONLY matches the root of a JTree. Perhaps the syntax <code>jnode(/, map())</code> might serve this purpose.</p>
</div></details></div>
<div class="toot" id="created-2449"><h2>Pull request #2449 created<span class="toot-id"> #created-2449</span></h2><div class="pubdate">07 Feb at 21:29:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2449">https://github.com/qt4cg/qtspecs/pull/2449</a></div><details><summary>2445 Add rules for xsi namespace elements in element-to-map</summary><div class="markup"><p>Fix #2445</p>
</div></details></div>
<div class="toot" id="created-2448"><h2>Issue #2448 created<span class="toot-id"> #created-2448</span></h2><div class="pubdate">07 Feb at 17:33:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2448">https://github.com/qt4cg/qtspecs/issues/2448</a></div><details><summary>Change title of XPath specification</summary><div class="markup"><p>The title of the XPath specification is</p>
<p><strong>XML Path Language (XPath) 4.0</strong></p>
<p>No-one actually calls it "XML Path Language" -- and it's now a path language for JSON as well.</p>
<p>I propose we change the title to</p>
<p><strong>XPath 4.0</strong></p>
</div></details></div>
<div class="toot" id="created-2447"><h2>Issue #2447 created<span class="toot-id"> #created-2447</span></h2><div class="pubdate">07 Feb at 16:56:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2447">https://github.com/qt4cg/qtspecs/issues/2447</a></div><details><summary>Drop string-literals for names in computed constructors</summary><div class="markup"><p>XQuery 3.1 allowed <code>element foo { "bar" }</code>.</p>
<p>And then we discovered syntax ambiguities, so we allowed <code>element "foo" {"bar"}</code></p>
<p>And then we introduced QName literals, allowing <code>element #foo {"bar"}</code></p>
<p>We then dropped string literals from the grammar, but there are incorrect examples that use it:</p>
<blockquote>
<p>XQuery 4.0 allows the node name to be written in quotation marks (for example, element "book" {}</p>
</blockquote>
<p>in 4.12.3</p>
</div></details></div></div><p>See 5044
            more statuses in yearly archives.</p></article></main></body></html>