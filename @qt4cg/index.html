<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2025/">2025</a>, <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="minutes—06-17"><h2>QT4 CG meeting 125 draft minutes<span class="toot-id"> #minutes—06-17</span></h2><div class="pubdate">17 Jun at 16:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2025/06-17">https://qt4cg.org/meeting/minutes/2025/06-17</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-1888"><h2>Issue #1888 closed<span class="toot-id"> #closed-1888</span></h2><div class="pubdate">17 Jun at 16:20:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1888">https://github.com/qt4cg/qtspecs/pull/1888</a></div><p>366 xsl:package-location</p></div>
<div class="toot" id="closed-2029"><h2>Issue #2029 closed<span class="toot-id"> #closed-2029</span></h2><div class="pubdate">17 Jun at 16:18:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2029">https://github.com/qt4cg/qtspecs/issues/2029</a></div><p>fn:xsd-validator - more explanation needed</p></div>
<div class="toot" id="closed-2030"><h2>Issue #2030 closed<span class="toot-id"> #closed-2030</span></h2><div class="pubdate">17 Jun at 16:18:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2030">https://github.com/qt4cg/qtspecs/pull/2030</a></div><p>2029 xsd validator notes and examples</p></div>
<div class="toot" id="closed-2041"><h2>Issue #2041 closed<span class="toot-id"> #closed-2041</span></h2><div class="pubdate">17 Jun at 16:11:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2041">https://github.com/qt4cg/qtspecs/issues/2041</a></div><p>Incorrect example of xsl:namespace-alias</p></div>
<div class="toot" id="closed-2042"><h2>Issue #2042 closed<span class="toot-id"> #closed-2042</span></h2><div class="pubdate">17 Jun at 16:11:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2042">https://github.com/qt4cg/qtspecs/pull/2042</a></div><p>2041 Correction to xsl:namespace-alias example</p></div>
<div class="toot" id="closed-1127"><h2>Issue #1127 closed<span class="toot-id"> #closed-1127</span></h2><div class="pubdate">17 Jun at 16:11:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1127">https://github.com/qt4cg/qtspecs/issues/1127</a></div><p>Binary resources</p></div>
<div class="toot" id="closed-2044"><h2>Issue #2044 closed<span class="toot-id"> #closed-2044</span></h2><div class="pubdate">17 Jun at 16:07:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2044">https://github.com/qt4cg/qtspecs/pull/2044</a></div><p>Hide `MarkedNCName` from XPath spec</p></div>
<div class="toot" id="created-2054"><h2>Issue #2054 created<span class="toot-id"> #created-2054</span></h2><div class="pubdate">16 Jun at 18:21:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2054">https://github.com/qt4cg/qtspecs/issues/2054</a></div><details><summary>JPath expression</summary><div class="markup"><p>I feel that there is one aspect about the exciting new <a href="https://qt4cg.org/dashboard/#pr-2031">JNode proposal</a> that may develop into a permanent crutch. It is the lack of symmetry between simple lookups and lookups with axes:</p>
<pre><code class="language-xquery">a?b
a?child::b
</code></pre>
<p>This particularly strikes me as this inconsistency does not exist in XPath.</p>
<p>What about the idea to keep XPath 3.1 lookups unchanged and simple – for the vast number of use cases that do not require navigation – and to introduce a new “JPath expression” instead that will exclusively produce JNodes?</p>
<p>The JStep separator that I would recommend for it is the backslash character <code>\</code>. It bears even more resemblance to the XPath step separator than the often questioned question mark. By using a new syntax, I believe we would have much more freedom in designing a clean solution for navigating maps and arrays that is more consistent as well as more similar to classical node paths.</p>
<p>Some syntactical examples:</p>
<pre><code class="language-xquery">let $countries := {
  'Japan': {
    'cities': [ { 'Fukuoka': { 'population': 1600000 } } ]
  }
}
return (
  $countries\*,
  $countries\\cities
  $countries\Japan\cities[.\\population &gt; 1000]\..,
  $countries\\*[.\ancestor::Japan]
)
</code></pre>
<p>Among other advantages that I see, the traversal of arrays of maps would also be less controversial (#115).</p>
</div></details></div>
<div class="toot" id="agenda-06-17"><h2>QT4 CG meeting 125 draft agenda<span class="toot-id"> #agenda-06-17</span></h2><div class="pubdate">16 Jun at 12:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2025/06-17">https://qt4cg.org/meeting/agenda/2025/06-17</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-2053"><h2>Issue #2053 created<span class="toot-id"> #created-2053</span></h2><div class="pubdate">16 Jun at 12:43:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2053">https://github.com/qt4cg/qtspecs/issues/2053</a></div><details><summary>Add fn:collection-available</summary><div class="markup"><p>Since the <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-collection">fn:collection</a> function can raise errors, perhaps it should have a corresponding function to check if the collection is available?</p>
<p>For reference, see the other *-available functions:</p>
<ul>
<li><a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-collation-available">collation-available</a></li>
<li><a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-doc-available">doc-available</a></li>
<li><a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-unparsed-text-available">unparsed-text-available</a></li>
</ul>
<p>Also, eXist has an implementation-specific <code>xmldb:collection-available</code> function: https://exist-db.org/exist/apps/fundocs/index.html?q=xmldb:collection-available. It's typically used to determine if a collection already exists before creating or deleting it.</p>
<p>A proposed signature, based on those linked above, could be:</p>
<pre><code>fn:collection-available( $source as xs:string? := () ) as xs:boolean
</code></pre>
</div></details></div>
<div class="toot" id="created-2052"><h2>Issue #2052 created<span class="toot-id"> #created-2052</span></h2><div class="pubdate">16 Jun at 06:18:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2052">https://github.com/qt4cg/qtspecs/issues/2052</a></div><details><summary>fn:collation-available: $usage</summary><div class="markup"><p>The function <code>fn:collation-available</code> defines a <code>$usage</code> parameter, but few information is given on how to interpret the collation URI to return the correct result. In addition, there are no test cases.</p>
<p>Do we believe that the additional parameter offers enough advantages, or should we simplify the function?</p>
</div></details></div>
<div class="toot" id="created-2051"><h2>Issue #2051 created<span class="toot-id"> #created-2051</span></h2><div class="pubdate">14 Jun at 01:37:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2051">https://github.com/qt4cg/qtspecs/issues/2051</a></div><details><summary>XSLT group by cluster</summary><div class="markup"><p>I propose an enhancement of <code>xsl:for-each-group</code> to support clustering.</p>
<p>To start off with a simple use case, suppose one has the following population, <code>&lt;xsl:variable name="ages" as="xs:integer*" select="5, 24, 9, 5, 6, 8, 36, 38, 28"/&gt;</code> and one wishes to cluster the figures like so, in four groups: <code>(5, 5, 6, 8, 9)</code>, <code>(24)</code>, <code>(28)</code>, <code>(36, 38)</code>.</p>
<p>One is tempted to create an <code>&lt;xsl:for-each-group&gt;</code> with <code>group-by="((. - 1) to (. + 1))"</code>. But this does not work. If <code>@composite</code> is absent or is <code>no</code>, eighteen groups are created. If <code>@composite</code> is <code>yes</code>, eight groups are created. In both cases, the results are not significantly close to the desired output.</p>
<p>I propose a new <code>@group-by-cluster</code>. The following code</p>
<pre><code>&lt;xsl:for-each-group select="$ages" group-by-cluster="((. - 1) to (. + 1))"&gt;
    &lt;xsl:sort select="current-grouping-key()"/&gt;
    &lt;group key="{current-grouping-key()}" count="{count(current-group())}"&gt;
        &lt;xsl:copy-of select="current-group()"/&gt;
    &lt;/group&gt;
&lt;/xsl:for-each-group&gt; 
</code></pre>
<p>would produce this</p>
<pre><code>   &lt;group key="4 5 6 7 8 9 10" count="2"&gt;5 5 6 8 9&lt;/group&gt;
   &lt;group key="23 24 25" count="1"&gt;24&lt;/group&gt;
   &lt;group key="27 28 29" count="1"&gt;28&lt;/group&gt;
   &lt;group key="35 36 37 38 39" count="1"&gt;36 38&lt;/group&gt;
</code></pre>
<p>There are numerous use cases for the proposed new feature. Here are a few:</p>
<ul>
<li>Clustering map or spatial coordinates</li>
<li>Grouping disparate rectangles from OCR output</li>
<li>Reconciling triples in linked open data (RDF) that use different IRIs synonymously</li>
<li>Detecting typologies within in large corpora of documents that have periodically repetitive formulaic paragraphs.</li>
<li>Discovering networks of connected things, e.g., networks of email correspondence or publication citations
&nbsp;
Currently, the clustering I describe above is feasible in XSLT, but it requires creative strategies, usually a combination of preprocessing and the creation of specialized helper functions to recursively iterate over multiple grouping keys to create group numbers. These are challenging to write and debug, and one loses identity in a preprocessed copy of the original.</li>
</ul>
<p>By putting clustering into a <code>@group-by-cluster</code> construct, users benefit not only from convenience but also from performance, as a processor might bring novel strategies for clustering.</p>
<p>The <code>current-grouping-key()</code> for a group would consist of a sequence of all members' grouping keys, duplicates removed. No two groups would have any overlap in their grouping key sequences. (That's the definition of a cluster.)</p>
<p><code>@group-by-cluster</code> would have effect only if its value actually produced a sequence of length greater than one, and if <code>@composite</code> is no. (Should a user should be warned if <code>@composite</code> is yes?)</p>
</div></details></div>
<div class="toot" id="created-2050"><h2>Pull request #2050 created<span class="toot-id"> #created-2050</span></h2><div class="pubdate">13 Jun at 22:51:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2050">https://github.com/qt4cg/qtspecs/pull/2050</a></div><details><summary>2040 Fix context value declaration issues</summary><div class="markup"><p>Fix #2040</p>
</div></details></div>
<div class="toot" id="created-2049"><h2>Pull request #2049 created<span class="toot-id"> #created-2049</span></h2><div class="pubdate">13 Jun at 16:45:01 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2049">https://github.com/qt4cg/qtspecs/pull/2049</a></div><details><summary>2045 Context value can be an empty sequence</summary><div class="markup"><p>For functions like name(), local-name() etc with <code>as="node()? default="."</code> in the signature, allow the context value to be an empty sequence.</p>
<p>Fix #2045</p>
</div></details></div>
<div class="toot" id="created-2048"><h2>Issue #2048 created<span class="toot-id"> #created-2048</span></h2><div class="pubdate">13 Jun at 16:12:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2048">https://github.com/qt4cg/qtspecs/issues/2048</a></div><details><summary>Untrusted execution, and security more generally</summary><div class="markup"><p>Discussion of untrusted execution (that is, a Processor executing code from an untrusted source), and security in general, is present in the spec, but spread out and not really connected.</p>
<p>Untrusted execution seems to me to be one of the biggest security issues for XSLT/XQuery and XPath in general, and I think it’s important to make the distinction between untrusted execution where an untrusted stylesheet or query is executed (perhaps via Saxon’s <code>XsltCompiler.compile()</code>), and when a trusted stylesheet or query causes untrusted code to be executed, as with <code>fn:parse-xml()</code>, <code>fn:doc()</code>, <code>fn:transform()</code> and <code>&lt;xsl:evaluate&gt;</code>.</p>
<p>The proposals in #2034 address one case, but have no effect on the other, and that raises the question of what would happen if an untrusted (unsafe) stylesheet executed <code>fn:doc()</code> with <code>safe = true</code>.</p>
<p>I would like to see the specs address the security implications of untrusted execution more explicitly, and to provide clearer guidance for implementation authors around both completely untrusted code, and trusted code which executes untrusted code.</p>
<p>I think that could take the form of:</p>
<ul>
<li>Annotation of all functions that have potentially problematic external effects (primarily file / resource access).</li>
<li>Clear expectations for implementors about what (and how) security restrictions should be configurable.</li>
<li>Consistent Error codes for security-related exceptions</li>
<li>Consistent security-related options for functions which can cause untrusted source parsing or code execution.</li>
<li>A additional security section in the spec under section 2 (Concepts / Basics) in the XSLT/XQuery/XPath specs, and section 1 of XPFO, which collects the overview and points to what to look for in the rest of the spec.</li>
</ul>
</div></details></div>
<div class="toot" id="created-2047"><h2>Issue #2047 created<span class="toot-id"> #created-2047</span></h2><div class="pubdate">13 Jun at 16:11:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2047">https://github.com/qt4cg/qtspecs/issues/2047</a></div><details><summary>external resource-accessing functions, available resources, and error codes</summary><div class="markup"><p>While looking at a problem in an implementation of a vendor function that read data from an external resource I was looking through the spec to see what was said about external resources and untrusted execution contexts (for example a processor executing XSLT or XPath provided by a user).</p>
<p>The spec makes mention of ‘available documents’, ‘available text resources’, ‘available binary resources’, ‘available collections’, and ‘available URI collections’.</p>
<p>The documentation for <code>fn:doc()</code>, <code>fn:collection()</code>, and <code>fn:uri-collection()</code> mention an error (<code>err:FODC0002</code>) to be raised if the URI requested is not in the relevant ‘available X’  (although there is some disagreement about what the ‘X’ should be - we have ‘available node collections’ and ‘available resource collections’ mentioned in the function docs). <code>fn:unparsed-text()</code> and <code>fn:unparsed-binary()</code> do not.</p>
<p>I think the documented behaviour of <code>fn:unparsed-text()</code> and <code>fn:unparsed-binary()</code> should be brought into line with the others.</p>
</div></details></div>
<div class="toot" id="created-2046"><h2>Issue #2046 created<span class="toot-id"> #created-2046</span></h2><div class="pubdate">13 Jun at 10:19:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2046">https://github.com/qt4cg/qtspecs/issues/2046</a></div><details><summary>Promote ".." to a primary expression</summary><div class="markup"><p>I propose promoting ".." to be a primary expression (rather than an abbreviated step), and (assuming the JNodes proposal is accepted) allowing it to work on JNodes as well as XNodes.</p>
<p>Ignoring JNodes for now, I don't think the change would make any observable difference to the language syntax or semantics. It changes the way that a predicate is interpreted : <code>..[P]</code> becomes a regular filter expression and is no longer subject to the special rules for predicates within steps; but the only difference is how position() is interpreted, and since <code>..</code> can only return a singleton, this makes no difference.</p>
<p>For JNodes it means we will be able to write expressions such as <code>$my-map??x[..?y = 3]</code> rather than <code>$my-map??x[?parent::*?y = 3]</code></p>
</div></details></div>
<div class="toot" id="created-2045"><h2>Issue #2045 created<span class="toot-id"> #created-2045</span></h2><div class="pubdate">12 Jun at 22:20:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2045">https://github.com/qt4cg/qtspecs/issues/2045</a></div><details><summary>Functions taking "." as default argument, when "." is empty</summary><div class="markup"><p>A number of functions such as <code>fn:name()</code> take the context value as their default argument, with the implication that <code>name()</code> is exactly equivalent to <code>name(.)</code>.</p>
<p>However, these functions also say that a type error XPTY0004 is raised if the context value is not a single node.</p>
<p>It seems to me that if the context value is an empty sequence, no type error should be raised; the effect of <code>() -&gt; name()</code> should be the same as <code>name(())</code>.</p>
</div></details></div>
<div class="toot" id="created-2044"><h2>Pull request #2044 created<span class="toot-id"> #created-2044</span></h2><div class="pubdate">10 Jun at 19:42:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2044">https://github.com/qt4cg/qtspecs/pull/2044</a></div><details><summary>Hide `MarkedNCName` from XPath spec</summary><div class="markup"><p>Today's merge of qt4cg/qtspecs#2028 has added the <code>MarkedNCName</code> production to both the XQuery and the XPath spec. It is however only used within the XQuery spec.</p>
</div></details></div>
<div class="toot" id="minutes—06-10"><h2>QT4 CG meeting 124 draft minutes<span class="toot-id"> #minutes—06-10</span></h2><div class="pubdate">10 Jun at 16:15:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2025/06-10">https://qt4cg.org/meeting/minutes/2025/06-10</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-2027"><h2>Issue #2027 closed<span class="toot-id"> #closed-2027</span></h2><div class="pubdate">10 Jun at 16:09:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2027">https://github.com/qt4cg/qtspecs/issues/2027</a></div><p>QNameLiteral syntax for namespace and Processing Instruction constructors</p></div>
<div class="toot" id="closed-2028"><h2>Issue #2028 closed<span class="toot-id"> #closed-2028</span></h2><div class="pubdate">10 Jun at 16:09:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2028">https://github.com/qt4cg/qtspecs/pull/2028</a></div><p>2027 '#' syntax for computed PIs and namespaces</p></div>
<div class="toot" id="closed-2032"><h2>Issue #2032 closed<span class="toot-id"> #closed-2032</span></h2><div class="pubdate">10 Jun at 16:01:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2032">https://github.com/qt4cg/qtspecs/issues/2032</a></div><p>Simple typo in XPath 4.0 example - inherited from XPath 3.0 spec</p></div>
<div class="toot" id="closed-2033"><h2>Issue #2033 closed<span class="toot-id"> #closed-2033</span></h2><div class="pubdate">10 Jun at 16:01:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2033">https://github.com/qt4cg/qtspecs/pull/2033</a></div><p>2032 Fix typo in example</p></div>
<div class="toot" id="closed-2022"><h2>Issue #2022 closed<span class="toot-id"> #closed-2022</span></h2><div class="pubdate">10 Jun at 15:57:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2022">https://github.com/qt4cg/qtspecs/issues/2022</a></div><p>Simplify optional XQuery conformance features</p></div>
<div class="toot" id="closed-2026"><h2>Issue #2026 closed<span class="toot-id"> #closed-2026</span></h2><div class="pubdate">10 Jun at 15:57:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2026">https://github.com/qt4cg/qtspecs/pull/2026</a></div><p>2022 Drop module feature</p></div>
<div class="toot" id="created-2043"><h2>Pull request #2043 created<span class="toot-id"> #created-2043</span></h2><div class="pubdate">09 Jun at 17:10:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2043">https://github.com/qt4cg/qtspecs/pull/2043</a></div><details><summary>2038 Tweak the rules for fn:apply-templates references to modes</summary><div class="markup"><p>Fix #2038</p>
</div></details></div>
<div class="toot" id="created-2042"><h2>Pull request #2042 created<span class="toot-id"> #created-2042</span></h2><div class="pubdate">09 Jun at 16:34:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2042">https://github.com/qt4cg/qtspecs/pull/2042</a></div><details><summary>2041 Correction to xsl:namespace-alias example</summary><div class="markup"><p>Fix #2041</p>
</div></details></div>
<div class="toot" id="created-2041"><h2>Issue #2041 created<span class="toot-id"> #created-2041</span></h2><div class="pubdate">09 Jun at 16:30:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2041">https://github.com/qt4cg/qtspecs/issues/2041</a></div><details><summary>Incorrect example of xsl:namespace-alias</summary><div class="markup"><p>Reported against XSLT 3.0</p>
<p>https://github.com/w3c/qtspecs/issues/71</p>
</div></details></div></div><p>See 4142
            more statuses in yearly archives.</p></article></main></body></html>