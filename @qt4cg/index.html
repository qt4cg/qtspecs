<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2025/">2025</a>, <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="created-2194"><h2>Issue #2194 created<span class="toot-id"> #created-2194</span></h2><div class="pubdate">15 Sep at 07:52:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2194">https://github.com/qt4cg/qtspecs/issues/2194</a></div><details><summary>fn:transform sandbox=yes option</summary><div class="markup"><p>I propose an option sandbox=yes for fn:transform, with the effect that the executed stylesheet has no means of accessing or updating external information other than via the fn:transform parameters and result value.</p>
<p>This is to provide an effective and portable way of executing untrusted code.</p>
<p>There are various ways one might specify it: the simplest would be just to state the intent (as in the sentence above) and leave implementations to work out the detail.</p>
<p>An API might also allow transformations to be executed in a sandbox, but that of course is outside our control.</p>
</div></details></div>
<div class="toot" id="created-2193"><h2>Issue #2193 created<span class="toot-id"> #created-2193</span></h2><div class="pubdate">15 Sep at 06:58:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2193">https://github.com/qt4cg/qtspecs/issues/2193</a></div><details><summary>fn:parse-xml, fn:doc: Drop security options</summary><div class="markup"><p>Related: #2034, #1270.</p>
<p>I propose to drop the <code>allow-external-entities</code> and <code>entity-expansion-limit</code> options. They reflect only some of various existing limits that XML parsers provide.</p>
<p>Instead, it seems more reasonable to define such limits globally. It remains to be shown whether we find an implementation-oblivious approach for this.</p>
</div></details></div>
<div class="toot" id="closed-2192"><h2>Issue #2192 closed<span class="toot-id"> #closed-2192</span></h2><div class="pubdate">13 Sep at 09:40:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2192">https://github.com/qt4cg/qtspecs/pull/2192</a></div><p>Upgrade build system to use Saxon 12.9</p></div>
<div class="toot" id="created-2192"><h2>Pull request #2192 created<span class="toot-id"> #created-2192</span></h2><div class="pubdate">13 Sep at 09:40:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2192">https://github.com/qt4cg/qtspecs/pull/2192</a></div><details><summary>Upgrade build system to use Saxon 12.9</summary><div class="markup"><p>I skimmed all the specs and nothing looks wrong; I'm going to go ahead and merge this but please report any problems you find that you think might be related.,</p>
</div></details></div>
<div class="toot" id="created-2191"><h2>Pull request #2191 created<span class="toot-id"> #created-2191</span></h2><div class="pubdate">09 Sep at 19:32:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2191">https://github.com/qt4cg/qtspecs/pull/2191</a></div><details><summary>2075 Editorial Omnibus</summary><div class="markup"><p>Fix #2075</p>
</div></details></div>
<div class="toot" id="created-2190"><h2>Issue #2190 created<span class="toot-id"> #created-2190</span></h2><div class="pubdate">09 Sep at 14:08:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2190">https://github.com/qt4cg/qtspecs/issues/2190</a></div><details><summary>parse-csv() from binary: what encoding?</summary><div class="markup"><p>We have extended <code>parse-csv()</code> -- and introduced <code>csv-doc()</code> -- with the ability to read binary input. But we don't provide any way to specify an encoding, and we give no rules for inferring an encoding if none is specified.</p>
</div></details></div>
<div class="toot" id="created-2189"><h2>Pull request #2189 created<span class="toot-id"> #created-2189</span></h2><div class="pubdate">09 Sep at 11:01:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2189">https://github.com/qt4cg/qtspecs/pull/2189</a></div><details><summary>2180 Clarify paths mixing XNodes and JNodes</summary><div class="markup"><p>Fix #2180</p>
</div></details></div>
<div class="toot" id="created-2188"><h2>Pull request #2188 created<span class="toot-id"> #created-2188</span></h2><div class="pubdate">09 Sep at 08:13:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2188">https://github.com/qt4cg/qtspecs/pull/2188</a></div><details><summary>2187 Add coercion rule for enumeration types</summary><div class="markup"><p>Fix #2187</p>
</div></details></div>
<div class="toot" id="created-2187"><h2>Issue #2187 created<span class="toot-id"> #created-2187</span></h2><div class="pubdate">08 Sep at 16:32:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2187">https://github.com/qt4cg/qtspecs/issues/2187</a></div><details><summary>Coercion to enum()</summary><div class="markup"><p>XQuery §3.2.6 states:</p>
<blockquote>
<p>By contrast, xs:untypedAtomic("red") instance of enum("red", "green", "blue") returns false; but the [coercion rules] ensure that where a variable or function declaration specifies an enumeration type as the required type, an xs:untypedAtomic or xs:anyURI value equal to one of the enumerated values will be accepted.</p>
</blockquote>
<p>However, looking at the coercion rules, this appears not to be the case.</p>
<p>It seems intuitive that an untypedAtomic value should match an enumeration type (otherwise if the required type is <code>enum("yes", "no")</code>, supplying an attribute whose value is "yes" will fail). And since we generally treat string, untypedAtomic, and anyURI as a single family for equality comparison, it makes sense to accept anyURI as well.</p>
<p>Test case DynamicFunctionCall-136 applies.</p>
</div></details></div>
<div class="toot" id="created-2186"><h2>Issue #2186 created<span class="toot-id"> #created-2186</span></h2><div class="pubdate">08 Sep at 13:57:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2186">https://github.com/qt4cg/qtspecs/issues/2186</a></div><details><summary>Adaptive serialization of JNodes</summary><div class="markup"><p>I would like to propose a change here so that instead of only outputting the <code>content</code> property of the JNode, we also output the <code>selector</code> property (if present).</p>
</div></details></div>
<div class="toot" id="created-2185"><h2>Issue #2185 created<span class="toot-id"> #created-2185</span></h2><div class="pubdate">07 Sep at 14:42:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2185">https://github.com/qt4cg/qtspecs/issues/2185</a></div><details><summary>Request for an `fn:xproc` function</summary><div class="markup"><p>I would like to see consideration given to adding an <code>fn:xproc</code> function please. We have an <code>fn:invisible-xml</code>, so why not an <code>fn:xproc</code>?</p>
<p>I think a potential function signature could look like:</p>
<p><code>fn:xproc($xproc as document-node(element(p:declare-step), $options as map(xs:string, item()+))</code> as map(xs:string, item()*)`</p>
<p>Map keys/values for <code>$options</code> could be something like:</p>
<ul>
<li>"input": Map { "name": "some-name", Map { "type": "some-type", "value": item()* }}</li>
<li>"option": Map {"name": "some-name", Map { "type": "some-type", "value": item()* }}</li>
</ul>
<p>Implementers are free to add additional key/value options to the <code>$options</code> map.</p>
<p>The result of the transformation is returned as a map. There is one entry in the map for the default output port, and one for each secondary output port. The key is an xs:string value. The key for the default output port is the string "default" otherwise. The key for secondary output ports, is the name of the port.</p>
</div></details></div>
<div class="toot" id="closed-2183"><h2>Issue #2183 closed<span class="toot-id"> #closed-2183</span></h2><div class="pubdate">06 Sep at 19:02:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2183">https://github.com/qt4cg/qtspecs/issues/2183</a></div><p>Formatting of specref and xspecref</p></div>
<div class="toot" id="closed-2184"><h2>Issue #2184 closed<span class="toot-id"> #closed-2184</span></h2><div class="pubdate">05 Sep at 12:09:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2184">https://github.com/qt4cg/qtspecs/pull/2184</a></div><p>2183 Improve rendition of cross-spec references</p></div>
<div class="toot" id="created-2184"><h2>Pull request #2184 created<span class="toot-id"> #created-2184</span></h2><div class="pubdate">05 Sep at 12:01:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2184">https://github.com/qt4cg/qtspecs/pull/2184</a></div><details><summary>2183 Improve rendition of cross-spec references</summary><div class="markup"><p>This PR:</p>
<ul>
<li>Changes the rendition of xspecref elements to use the form <code>[XPath 4.0] section [3.2.2 Heading]</code></li>
<li>Standardises the form of bibref references to other specs (e.g. <code>[XPath 4.0]</code>) across the various specifications</li>
<li>Updates a number of references that were out of date (e.g. XDM 3.0 -&gt; XDM 4.0)</li>
<li>Tidies up a few individual cases where the references were inappropriate or incorrect</li>
</ul>
<p>Note: contains stylesheet changes</p>
</div></details></div>
<div class="toot" id="created-2183"><h2>Issue #2183 created<span class="toot-id"> #created-2183</span></h2><div class="pubdate">05 Sep at 09:11:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2183">https://github.com/qt4cg/qtspecs/issues/2183</a></div><details><summary>Formatting of specref and xspecref</summary><div class="markup"><p>The following paragraph contains a <code>specref</code> and an <code>xspecref</code> (rendition approximated):</p>
<blockquote>
<p>The complete grammar for patterns is listed in <strong>E Pattern Syntax Summary</strong>. It uses the notation defined in <strong>Section A.1.1 Notation<sup>XP</sup></strong>.</p>
</blockquote>
<p>There's no particular reason why the prefix "Section" is used in one case and not the other.</p>
<p>At the same time, I think the superscript notation doesn't make it clear enough that the reference is to a different spec. I suggest that we render this as</p>
<p>... the notation defined in [XPath] section [A.1.1 Notation] ...</p>
<p>where [XPath] is a clickable bibref to the spec in question, and [A.1.1 Notation] is a clickable link to the the relevant section of that spec. And perhaps "section" should be "appendix" where appropriate.</p>
<p>I would propose to retain the suffix notation for xtermref and xnt.</p>
</div></details></div>
<div class="toot" id="created-2182"><h2>Pull request #2182 created<span class="toot-id"> #created-2182</span></h2><div class="pubdate">04 Sep at 22:31:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2182">https://github.com/qt4cg/qtspecs/pull/2182</a></div><details><summary>2178 Define predeclared namespaces for XQuery</summary><div class="markup"><p>Fix #2178</p>
</div></details></div>
<div class="toot" id="created-2181"><h2>Pull request #2181 created<span class="toot-id"> #created-2181</span></h2><div class="pubdate">04 Sep at 20:10:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2181">https://github.com/qt4cg/qtspecs/pull/2181</a></div><details><summary>2179 Add namespace declarations to XPath grammar</summary><div class="markup"><p>Fix #2179</p>
</div></details></div>
<div class="toot" id="created-2180"><h2>Issue #2180 created<span class="toot-id"> #created-2180</span></h2><div class="pubdate">04 Sep at 15:08:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2180">https://github.com/qt4cg/qtspecs/issues/2180</a></div><details><summary>Clarify `$array/attribute(id)` vs `$array/type(attribute(id))`</summary><div class="markup"><p>I am creating test JAxes-326 which does</p>
<pre><code>         let $xml := parse-xml("&lt;doc&gt;&lt;p id='a17'/&gt;&lt;p id='a18'/&gt;&lt;/doc&gt;")
         let $array := [$xml//p[@id='a17'], $xml//@id[.='a18']]
         return $array/type(attribute(id)) =&gt; string()
</code></pre>
<p>That is, it constructs an array whose members are element or attribute nodes</p>
<p>I think that if we write <code>$array/attribute(id)</code> then the following rule kicks into play:</p>
<blockquote>
<p>If the axis name is omitted from an [axis step], the default axis is child, with two exceptions: (1) if the [NodeTest] in an axis step contains an [AttributeTest] or [SchemaAttributeTest] then the default axis is attribute;</p>
</blockquote>
<p>That is, this is equivalent to <code>$array/attribute::id</code>, and the attribute axis from a JNode is always empty.</p>
<p>Whereas if we write</p>
<p><code>$array/type(attribute(id))</code></p>
<p>then the default axis is child, we are selecting the members of the array whose type is attribute(id), so the query returns "a18".</p>
<p>A note to clarify this case, and perhaps more generally to clarify how path expressions that mix JNodes and XNodes work, would be helpful.</p>
<p>§4.6.4.5 says</p>
<blockquote>
<p>For the most commonly encountered types, this syntax can be abbreviated: for example node(), text(), array(*), and record(x, y) can be written directly without the enclosing type(...).</p>
</blockquote>
<p>and this perhaps needs expanding to explain that for attribute(), and perhaps also for other XNode tests, this equivalence might not apply.</p>
</div></details></div>
<div class="toot" id="created-2179"><h2>Issue #2179 created<span class="toot-id"> #created-2179</span></h2><div class="pubdate">04 Sep at 09:21:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2179">https://github.com/qt4cg/qtspecs/issues/2179</a></div><details><summary>Namespace declarations in XPath</summary><div class="markup"><p>I think we've had this issue before but I'd like to reopen it.</p>
<p>It should be possible for an XPath expression to declare namespace prefixes rather than relying on the host language.</p>
<p>I propose that we use syntax compatible with XQuery.</p>
<pre><code>XPathExpr := (NamespaceDecl ';')* Expr

NamespaceDecl := "declare" "namespace" NCName "=" URILiteral
</code></pre>
</div></details></div>
<div class="toot" id="created-2178"><h2>Issue #2178 created<span class="toot-id"> #created-2178</span></h2><div class="pubdate">30 Aug at 17:56:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2178">https://github.com/qt4cg/qtspecs/issues/2178</a></div><details><summary>XQuery predeclared namespaces</summary><div class="markup"><p>XQuery §5.13 says:</p>
<blockquote>
<p>XQuery has several predeclared namespace prefixes, which are listed in [2.1.4 Namespaces and QNames]</p>
</blockquote>
<p>However §2.1.4 says only:</p>
<blockquote>
<p>This document uses the following namespace prefixes to represent the namespace URIs with which they are listed. Although these prefixes are used within this specification to refer to the corresponding namespaces, not all of these bindings will necessarily be present in the static context of every expression, and authors are free to use different prefixes for these namespaces, or to bind these prefixes to different namespaces.</p>
</blockquote>
<p>§2.2.1 says "Some namespaces are predefined;" without saying which.</p>
<p>§B.1 says that the "default initial value" for in-scope-namespaces contains the prefixes fn, xml, xs, xsi, local ("if not overridden or augmented by the implementation")</p>
<p>Test case <code>annotation-assertion-40-07</code> assumes that the namespace prefix xq is necessarily predeclared, but I cannot see any justification for this in the spec.</p>
</div></details></div>
<div class="toot" id="created-2177"><h2>Issue #2177 created<span class="toot-id"> #created-2177</span></h2><div class="pubdate">29 Aug at 18:46:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2177">https://github.com/qt4cg/qtspecs/issues/2177</a></div><details><summary>F+O: improve cross-referencing between functions</summary><div class="markup"><p>Cross-referencing between functions in the F+O spec is somewhat haphazard. For example, the spec of distinct-values refers normatively to the spec of deep-equal, yet there is no hyperlink.</p>
</div></details></div>
<div class="toot" id="created-2176"><h2>Pull request #2176 created<span class="toot-id"> #created-2176</span></h2><div class="pubdate">22 Aug at 22:52:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2176">https://github.com/qt4cg/qtspecs/pull/2176</a></div><details><summary>2130 encore: precedes-or-is, follows-or-is</summary><div class="markup"><p>In #2130 we introduced <code>is-not</code>, which is the union of <code>precedes</code> and <code>follows</code>. This PR follows that lead by creating two new operators, one for the union of <code>precedes</code> with <code>is</code> and the other for the union of <code>follows</code> with <code>is</code>.</p>
<p>I realize this modification provides only a convenience and not new utility, so if it is deemed unnecessary by the CG, that's okay.</p>
<p>I have opted for <code>precedes-or-is</code> and not <code>is-or-precedes</code> on analogy with <code>ancestor-or-self::*</code>.</p>
</div></details></div>
<div class="toot" id="created-2175"><h2>Pull request #2175 created<span class="toot-id"> #created-2175</span></h2><div class="pubdate">21 Aug at 17:36:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2175">https://github.com/qt4cg/qtspecs/pull/2175</a></div><details><summary>2093 Rearrange the order and grouping of functions</summary><div class="markup"><p>Hopefully the arrangement is now a bit more logical.</p>
<p>Fix #2093</p>
</div></details></div>
<div class="toot" id="created-2174"><h2>Pull request #2174 created<span class="toot-id"> #created-2174</span></h2><div class="pubdate">21 Aug at 16:26:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2174">https://github.com/qt4cg/qtspecs/pull/2174</a></div><details><summary>2173 Drop method annotations from XPath grammar</summary><div class="markup"><p>The MethodAnnotation construct should have been dropped from the XPath grammar when we changed the mechanism for methods.</p>
<p>Fix #2173</p>
</div></details></div>
<div class="toot" id="closed-1340"><h2>Issue #1340 closed<span class="toot-id"> #closed-1340</span></h2><div class="pubdate">21 Aug at 16:16:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1340">https://github.com/qt4cg/qtspecs/issues/1340</a></div><p>Namespace nodes and the namespace axis</p></div>
<div class="toot" id="created-2173"><h2>Issue #2173 created<span class="toot-id"> #created-2173</span></h2><div class="pubdate">21 Aug at 13:11:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2173">https://github.com/qt4cg/qtspecs/issues/2173</a></div><details><summary>Incorrect Cardinality on MethodAnnotation reference</summary><div class="markup"><p>In the current EBNF:</p>
<pre><code>InlineFunctionExpr 	::= 	MethodAnnotation* ("function" | "fn") FunctionSignature? FunctionBody 
...
MethodAnnotation 	::= 	"%method"
</code></pre>
<p>which implies <code>method% method% method% fn{}</code> would be valid, but perhaps a little senseless. Should the reference perhaps be <code>MethodAnnotation?</code>  ?</p>
</div></details></div>
<div class="toot" id="created-2171"><h2>Pull request #2171 created<span class="toot-id"> #created-2171</span></h2><div class="pubdate">20 Aug at 10:46:01 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2171">https://github.com/qt4cg/qtspecs/pull/2171</a></div><details><summary>2163 Change ?&gt; symbol to =?&gt;</summary><div class="markup"><p>Fix #2163</p>
</div></details></div>
<div class="toot" id="closed-2112"><h2>Issue #2112 closed<span class="toot-id"> #closed-2112</span></h2><div class="pubdate">20 Aug at 10:32:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2112">https://github.com/qt4cg/qtspecs/issues/2112</a></div><p>JNodes: get()</p></div>
<div class="toot" id="closed-2116"><h2>Issue #2116 closed<span class="toot-id"> #closed-2116</span></h2><div class="pubdate">20 Aug at 10:32:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2116">https://github.com/qt4cg/qtspecs/pull/2116</a></div><p>2112 Refine/revise the rules for get() in node tests</p></div>
<div class="toot" id="closed-2167"><h2>Issue #2167 closed<span class="toot-id"> #closed-2167</span></h2><div class="pubdate">20 Aug at 10:17:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2167">https://github.com/qt4cg/qtspecs/pull/2167</a></div><p>2166 Reinstate lost text for lookup expressions</p></div></div><p>See 4449
            more statuses in yearly archives.</p></article></main></body></html>