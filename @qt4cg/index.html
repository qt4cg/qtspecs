<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2025/">2025</a>, <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-11-11"><h2>QT4 CG meeting 141 draft agenda<span class="toot-id"> #agenda-11-11</span></h2><div class="pubdate">10 Nov at 13:00:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2025/11-11">https://qt4cg.org/meeting/agenda/2025/11-11</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-2278"><h2>Issue #2278 created<span class="toot-id"> #created-2278</span></h2><div class="pubdate">05 Nov at 12:52:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2278">https://github.com/qt4cg/qtspecs/issues/2278</a></div><details><summary>bin:decode-string() revisited</summary><div class="markup"><p>I don't think we've got this right. The combination of decoding a slice of a string starting at a given offset, and then detecting a BOM depending on the offset (and presumably adjusting the offset based on the presence of a BOM) is just too confusing.</p>
<p>I propose:</p>
<ul>
<li>The decode-string function accepts an encoding argument with a simple unconditional default of UTF-8.</li>
<li>If the user wants to ignore a BOM they should adjust the start offset accordingly.</li>
<li>A new function infer-encoding($input as binary) that returns a record containing (a) the inferred encoding, and (b) the start offset of "real" data after any BOM.</li>
</ul>
</div></details></div>
<div class="toot" id="created-2277"><h2>Pull request #2277 created<span class="toot-id"> #created-2277</span></h2><div class="pubdate">05 Nov at 11:59:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2277">https://github.com/qt4cg/qtspecs/pull/2277</a></div><details><summary>2195 Editorial Omnibus</summary><div class="markup"><p>Fixes issues that are tick-marked in issue #2195</p>
</div></details></div>
<div class="toot" id="created-2276"><h2>Issue #2276 created<span class="toot-id"> #created-2276</span></h2><div class="pubdate">05 Nov at 10:18:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2276">https://github.com/qt4cg/qtspecs/issues/2276</a></div><details><summary>XSLT extensibility rules are unnecessarily strict</summary><div class="markup"><p>The rules for vendor extensions in XSLT are unnecessarily strict. For example:</p>
<blockquote>
<p>The presence of an extension attribute must not cause the [principal result] or any [secondary result] of the transformation to be different from the results that a conformant XSLT 4.0 processor might produce. They must not cause the processor to fail to raise an error that a conformant processor is required to raise.</p>
</blockquote>
<p>This greatly reduces the usefulness of vendor extensions (for example, some of Saxon's serialization extensions, such as <code>@saxon:canonical=yes</code>, are non-conformant) without actually offering any useful increase in interoperability.</p>
<p>I think that in practice implementors have not felt bound by such rules. In practice there is wriggle room anyway: for example if you provide a switch to disable all extensions, then you can say that with that switch set, your processor is a conformant processor.</p>
<p>We should align the extensibility rules across all the specs.</p>
</div></details></div>
<div class="toot" id="created-2275"><h2>Issue #2275 created<span class="toot-id"> #created-2275</span></h2><div class="pubdate">03 Nov at 18:28:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2275">https://github.com/qt4cg/qtspecs/issues/2275</a></div><details><summary>Change record constructor, to simplify updates</summary><div class="markup"><p>Copied from https://github.com/qt4cg/qtspecs/issues/1953#issuecomment-2830012997 and updated:</p>
<p>The value of the current record constructor is pretty limited when it comes to updating existing records – and it is fairly ugly to use repeated <code>map:put</code> calls. With extensible records, it is already possible to pass an existing record to the constructor as last argument…</p>
<pre><code class="language-xquery">declare namespace geo = 'geo';
declare record geo:coord(x, y, *);

let $coord := geo:coord(0, 0, { 'z': 7 })
return geo:coord(3, 5, $coord)
</code></pre>
<p>This gives us:</p>
<pre><code class="language-json">{ "x": 3, "y": 5, "z": 7 }
</code></pre>
<p>However, the use cases for this variant are limited, and all mandatory arguments need to be supplied, even if they don’t change.</p>
<p>I propose to change the constructor, and define the first argument as a container for an existing record. This way, the same result as above could be achieved with the following code:</p>
<pre><code class="language-xquery">let $coord := geo:coord({ 'z': 7 }, 3, 0)
return geo:coord($coord, y := 5)
</code></pre>
<p>If all mandatory record arguments are supplied via keywords in the constructor call, the first argument can also be omitted:</p>
<pre><code class="language-xquery">geo:coord(x := 3, y := 5)
</code></pre>
<p>The generated constructor function could be something like:</p>
<pre><code class="language-xquery">declare function geo:coord(
  $record as map(*)? := {},
  $x := (),
  $y := ()
) as geo:coord {
  map:merge((
    { 'x': $x otherwise $record?x },
    { 'y': $y otherwise $record?y },
    $record
  ), { 'duplicates': 'use-first' })
};
</code></pre>
<p>Challenges might be intricacies like the explicit assignment of empty sequences, but I think that the advantages would prevail. The syntax could also be used more easily for chaining:</p>
<pre><code class="language-xquery">geo:coord({ 'z': 7 }, 0, 0)
=&gt; geo:coord(x := 3)
=&gt; geo:coord(y := 5)
</code></pre>
</div></details></div>
<div class="toot" id="created-2274"><h2>Pull request #2274 created<span class="toot-id"> #created-2274</span></h2><div class="pubdate">30 Oct at 16:25:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2274">https://github.com/qt4cg/qtspecs/pull/2274</a></div><details><summary>407 Function items capturing XSLT context components</summary><div class="markup"><p>Fix #407</p>
</div></details></div>
<div class="toot" id="created-2273"><h2>Pull request #2273 created<span class="toot-id"> #created-2273</span></h2><div class="pubdate">30 Oct at 15:31:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2273">https://github.com/qt4cg/qtspecs/pull/2273</a></div><details><summary>2219 A method can be applied to multiple maps</summary><div class="markup"><p>The PR clarifies with examples that</p>
<p>(a) a dynamic function call can include several functions: <code>(upper-case#1, lower-case#1)("London")</code>
(b) an arrow expression can include several functions: <code>"London" =&gt; (upper-case#1, lower-case#1)</code>
(c) a method call can apply to multiple maps: <code>for $size in 1 to 3 return $rectangle =?&gt; resize($size) =?&gt; area()</code></p>
<p>None of this actually represents a change to the spec, just a clarification that it is already allowed.</p>
<p>I'm not in favour of the change proposed in issue #2219 allowing the RHS of <code>=?&gt;</code> to select zero or more functions. If we wanted to allow that, we probably wouldn't want to restrict the RHS to be an NCName. Using an NCName gives better potential for optimization and for static error detection, and I think it makes sense to require it (as now) to select a single function from each input map.</p>
<p>Fix #2219</p>
</div></details></div>
<div class="toot" id="created-2272"><h2>Pull request #2272 created<span class="toot-id"> #created-2272</span></h2><div class="pubdate">30 Oct at 14:39:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2272">https://github.com/qt4cg/qtspecs/pull/2272</a></div><details><summary>2253 Add examples for Q{uri}prefix:local</summary><div class="markup"><p>Fix #2253</p>
</div></details></div>
<div class="toot" id="closed-2190"><h2>Issue #2190 closed<span class="toot-id"> #closed-2190</span></h2><div class="pubdate">30 Oct at 14:04:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2190">https://github.com/qt4cg/qtspecs/issues/2190</a></div><p>parse-csv() from binary: what encoding?</p></div>
<div class="toot" id="closed-2260"><h2>Issue #2260 closed<span class="toot-id"> #closed-2260</span></h2><div class="pubdate">29 Oct at 17:30:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2260">https://github.com/qt4cg/qtspecs/issues/2260</a></div><p>Headings in Data Model appendix G</p></div>
<div class="toot" id="closed-2271"><h2>Issue #2271 closed<span class="toot-id"> #closed-2271</span></h2><div class="pubdate">29 Oct at 17:30:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2271">https://github.com/qt4cg/qtspecs/pull/2271</a></div><p>2260 correct XDM Appendix G headings</p></div>
<div class="toot" id="created-2271"><h2>Pull request #2271 created<span class="toot-id"> #created-2271</span></h2><div class="pubdate">29 Oct at 16:55:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2271">https://github.com/qt4cg/qtspecs/pull/2271</a></div><details><summary>2260 correct XDM Appendix G headings</summary><div class="markup"><p>Fix #2260</p>
</div></details></div>
<div class="toot" id="created-2270"><h2>Pull request #2270 created<span class="toot-id"> #created-2270</span></h2><div class="pubdate">29 Oct at 16:26:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2270">https://github.com/qt4cg/qtspecs/pull/2270</a></div><details><summary>2267 Fix inconsistency in XQuery unprefixed function declarations</summary><div class="markup"><p>Fix #2267</p>
</div></details></div>
<div class="toot" id="created-2269"><h2>Pull request #2269 created<span class="toot-id"> #created-2269</span></h2><div class="pubdate">29 Oct at 16:04:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2269">https://github.com/qt4cg/qtspecs/pull/2269</a></div><details><summary>2268 Correct equivalent expression for for-each-pair</summary><div class="markup"><p>Fix #2268</p>
</div></details></div>
<div class="toot" id="created-2268"><h2>Issue #2268 created<span class="toot-id"> #created-2268</span></h2><div class="pubdate">29 Oct at 15:20:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2268">https://github.com/qt4cg/qtspecs/issues/2268</a></div><details><summary>Incorrect equivalent expression for fn:for-each-pair()</summary><div class="markup"><p>The equivalent expression for <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-for-each-pair">fn:for-each-pair()</a> is given as:</p>
<pre><code>for $pos in 1 to min(count($input1), count($input2))
return $action($input1[$pos], $input2[$pos], $pos)
</code></pre>
<p>but <code>fn:min()</code> takes a sequence as first argument and collation as optional second. Thus the equivalent should be</p>
<pre><code>for $pos in 1 to min((count($input1), count($input2)))
return $action($input1[$pos], $input2[$pos], $pos)
</code></pre>
</div></details></div>
<div class="toot" id="created-2267"><h2>Issue #2267 created<span class="toot-id"> #created-2267</span></h2><div class="pubdate">28 Oct at 20:05:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2267">https://github.com/qt4cg/qtspecs/issues/2267</a></div><details><summary>Further changes for functions in no namespace</summary><div class="markup"><p>Unfortunately PR #2236 was incomplete.</p>
<p>§5.14.2 clause 2(a) clearly states that if there is a default function namespace declaration, then an unprefixed name in a function declaration represents a function in that namespace. This was the intent of the PR.</p>
<p>§5.18.2, however, still states "If the function name in a function declaration has no namespace prefix, it is considered to be in no namespace.". This text should have been updated.</p>
</div></details></div>
<div class="toot" id="minutes-10-28"><h2>QT4 CG meeting 140 draft minutes<span class="toot-id"> #minutes-10-28</span></h2><div class="pubdate">28 Oct at 17:15:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2025/10-28">https://qt4cg.org/meeting/minutes/2025/10-28</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-2205"><h2>Issue #2205 closed<span class="toot-id"> #closed-2205</span></h2><div class="pubdate">28 Oct at 17:10:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2205">https://github.com/qt4cg/qtspecs/pull/2205</a></div><p>2190 Drop binary input for parse-csv and parse-json</p></div>
<div class="toot" id="closed-2217"><h2>Issue #2217 closed<span class="toot-id"> #closed-2217</span></h2><div class="pubdate">28 Oct at 17:08:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2217">https://github.com/qt4cg/qtspecs/issues/2217</a></div><p>`bin:decode-string`: Interpretation of `$encoding` argument</p></div>
<div class="toot" id="closed-2222"><h2>Issue #2222 closed<span class="toot-id"> #closed-2222</span></h2><div class="pubdate">28 Oct at 17:08:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2222">https://github.com/qt4cg/qtspecs/pull/2222</a></div><p>2217 bin:decode-string: Input encoding</p></div>
<div class="toot" id="closed-2214"><h2>Issue #2214 closed<span class="toot-id"> #closed-2214</span></h2><div class="pubdate">28 Oct at 17:01:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2214">https://github.com/qt4cg/qtspecs/issues/2214</a></div><p>Split XSLT streaming into a separate specification</p></div>
<div class="toot" id="closed-2264"><h2>Issue #2264 closed<span class="toot-id"> #closed-2264</span></h2><div class="pubdate">28 Oct at 17:01:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2264">https://github.com/qt4cg/qtspecs/pull/2264</a></div><p>2214 Separate streaming into its own spec</p></div>
<div class="toot" id="closed-2258"><h2>Issue #2258 closed<span class="toot-id"> #closed-2258</span></h2><div class="pubdate">28 Oct at 17:00:15 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2258">https://github.com/qt4cg/qtspecs/issues/2258</a></div><p>array:split() isn't exactly the inverse of array:join()?</p></div>
<div class="toot" id="closed-2262"><h2>Issue #2262 closed<span class="toot-id"> #closed-2262</span></h2><div class="pubdate">28 Oct at 17:00:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2262">https://github.com/qt4cg/qtspecs/pull/2262</a></div><p>2258 Correct the statement that split is the inverse of join</p></div>
<div class="toot" id="created-2266"><h2>Pull request #2266 created<span class="toot-id"> #created-2266</span></h2><div class="pubdate">28 Oct at 13:06:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2266">https://github.com/qt4cg/qtspecs/pull/2266</a></div><details><summary>540 system-property equivalent for XQuery</summary><div class="markup"><p>Meets the requirement by adding magic environment variable names to fn:environment-variables.</p>
</div></details></div>
<div class="toot" id="agenda-10-28"><h2>QT4 CG meeting 140 draft agenda<span class="toot-id"> #agenda-10-28</span></h2><div class="pubdate">27 Oct at 12:00:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2025/10-28">https://qt4cg.org/meeting/agenda/2025/10-28</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-2265"><h2>Issue #2265 created<span class="toot-id"> #created-2265</span></h2><div class="pubdate">27 Oct at 07:28:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2265">https://github.com/qt4cg/qtspecs/issues/2265</a></div><details><summary>XDM 4.0: a question about mutability/immutability of sequence types</summary><div class="markup"><p>As the maintainer of <a href="https://pypi.org/project/elementpath/">an implementation of XPath for Python</a> (on ElementTree/lxml data), I'm examining the changes in XPath/XDM 4.0 and in particular the formalization of a Sequence Type and the substitution of the dynamic <em>context item</em> with a <em>context value</em> that possibly include a sequence instance within possible values.</p>
<p>In my implementation the sequences are generated only when necessary (e.g. the comma operator) or at the end for exposing results.</p>
<p>Currently sequences are expanded as Python lists (mutable sequences). But reading the <a href="https://qt4cg.org/specifications/xpath-datamodel-40/Overview.html#sequences">sequence type definition in XDM 4.0</a>, my interpretation is that the formalized sequence type is intended to be an immutable sequence. Is it correct or mutability VS immutability of sequence objects is considered an implementation choice?</p>
<p>Thank you</p>
</div></details></div>
<div class="toot" id="created-2264"><h2>Pull request #2264 created<span class="toot-id"> #created-2264</span></h2><div class="pubdate">23 Oct at 16:45:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2264">https://github.com/qt4cg/qtspecs/pull/2264</a></div><details><summary>2214 Separate streaming into its own spec</summary><div class="markup"><p>This is work in progress on splitting off streaming into a separate specification.</p>
<p>I've been mainly concerned with (a) a fairly crude extraction of text from the XSLT spec into the new streaming spec (b) fixing up the mechanics of making it build (c) dealing with cross-spec references. The current state is that it builds (for me) but with quite a few cross-referencing errors. Sharing it so that (a) we can see what the dashboard does with it, and (b) to give some visibility of progress, for feedback. There's a lot of detail to be sorted, and of course when we see how the new spec has landed, there will be scope for reorganising the material into a more logical order.</p>
<p>Fix #2214</p>
</div></details></div>
<div class="toot" id="closed-2148"><h2>Issue #2148 closed<span class="toot-id"> #closed-2148</span></h2><div class="pubdate">23 Oct at 08:21:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2148">https://github.com/qt4cg/qtspecs/issues/2148</a></div><p>fn:base-uri: Raise errors?</p></div>
<div class="toot" id="created-2263"><h2>Issue #2263 created<span class="toot-id"> #created-2263</span></h2><div class="pubdate">22 Oct at 14:57:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2263">https://github.com/qt4cg/qtspecs/issues/2263</a></div><details><summary>Named record types: TODOs</summary><div class="markup"><p>Resulting from the conversation in #2101:</p>
<ol>
<li>The following records have not been named yet:</li>
</ol>
<pre><code class="language-xquery">(: return types :)
fn:divide-decimals
fn:xsd-validator
array:of-members
array:members

(: for parameter types as well? :)
fn:sort-by
</code></pre>
<ol start="2">
<li>
<p>We should add at least one example that demonstrates the usage of a built-in-record constructor.</p>
</li>
<li>
<p>@line-o suggested we could have records for all options.</p>
</li>
</ol>
</div></details></div></div><p>See 4657
            more statuses in yearly archives.</p></article></main></body></html>