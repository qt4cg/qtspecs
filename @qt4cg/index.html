<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2025/">2025</a>, <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-07-15"><h2>QT4 CG meeting 129 draft agenda<span class="toot-id"> #agenda-07-15</span></h2><div class="pubdate">14 Jul at 12:20:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2025/07-15">https://qt4cg.org/meeting/agenda/2025/07-15</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-366"><h2>Issue #366 closed<span class="toot-id"> #closed-366</span></h2><div class="pubdate">14 Jul at 06:41:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/366">https://github.com/qt4cg/qtspecs/issues/366</a></div><p>Support xsl:use-package with xsl:package-location</p></div>
<div class="toot" id="created-2097"><h2>Issue #2097 created<span class="toot-id"> #created-2097</span></h2><div class="pubdate">13 Jul at 10:31:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2097">https://github.com/qt4cg/qtspecs/issues/2097</a></div><details><summary>`jnode` as a subtype of `node`</summary><div class="markup"><p>It seems that introduce <code>jnode</code> by extending <code>node</code> is more consistent than introducing <code>jnode</code> as a data type that is a sibling to <code>node</code>.</p>
<p>I would like to hear comments about pros and cons of this approach.</p>
<p>@ruv <a href="https://github.com/qt4cg/qtspecs/pull/2083#issuecomment-3056148707">wrote</a>:</p>
<blockquote>
<blockquote>
<p>I wonder what if <code>jnode</code> was a subtype of <code>node</code></p>
</blockquote>
</blockquote>
<p>@michaelhkay <a href="https://github.com/qt4cg/qtspecs/pull/2083#issuecomment-3062732836">wrote</a>:</p>
<blockquote>
<p>Then all operations on node would become available for jnode, including many that obviously don't make sense, for example getting the in-scope namespaces, applying schema validation, etc etc.</p>
</blockquote>
<p>This does not seem to be a problem. There are many features that make sense for one node kind (or type) and don't make sense for other.</p>
<p>For example,</p>
<ul>
<li><code>fn:name()</code> does not make sense for <code>document-node()</code>, <code>comment()</code>, <code>text()</code> (but applies to them and return the empty string);</li>
<li><code>fn:in-scope-prefixes()</code> applies to only a node that is an <code>element()</code>.</li>
<li>the constructor <code>document { }</code> does not accept an attribute node.</li>
</ul>
<p>Thus, nodes that are a subtype of jnode can have their own restrictions.</p>
<h3><code>jnode</code> as subtype of <code>node</code></h3>
<p>There can be four direct subtypes of <code>jnode</code>:</p>
<ul>
<li><code>map-node</code></li>
<li><code>array-node</code></li>
<li><code>map-entry</code></li>
<li><code>array-member</code> (or maybe let's call it <code>array-entry</code>)</li>
</ul>
<p>So, <code>jnode</code> is a union of them: <code>jnode = map-node | array-node | map-entry | array-entry</code>.</p>
<p>Nodes of the type <code>map-node</code> and <code>array-node</code> are similar to <code>document-node</code>. Their parent is <strong>always</strong> <code>()</code>.</p>
<p>The child axis of a <code>jnode</code> can contains <strong>only</strong> nodes of the type <code>map-entry | array-entry</code>.</p>
<p>An advantage of this approach is that there is no need to introduce XNode and GNode, and corresponding confusion, like say that <code>node()</code> matches XNode, but not GNode (in the general case).</p>
<p>This probably also allows us to specify XSLT for jnodes more seamlessly.</p>
</div></details></div>
<div class="toot" id="created-2096"><h2>Pull request #2096 created<span class="toot-id"> #created-2096</span></h2><div class="pubdate">13 Jul at 10:07:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2096">https://github.com/qt4cg/qtspecs/pull/2096</a></div><details><summary>2035 Drop unworkable example of recursive record types</summary><div class="markup"><p>Fix #2035</p>
</div></details></div>
<div class="toot" id="created-2095"><h2>Issue #2095 created<span class="toot-id"> #created-2095</span></h2><div class="pubdate">13 Jul at 09:37:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2095">https://github.com/qt4cg/qtspecs/issues/2095</a></div><details><summary>JNodes: result processing</summary><div class="markup"><p>By playing around with the new JNodes syntax, I noticed that the somewhat bulky function <code>fn:jnode-content</code> needs to be used a lot to process the result of a path traversal, basically every time when coercion is not possible or does not make sense (iterations, any operation based on <code>item()*</code>).</p>
<p>An example:</p>
<pre><code class="language-xquery">{ 'Catania': { 'nomi': ('Alfredo', 'Andrea') } }
</code></pre>
<ol>
<li>Count the number of persons in Catania:</li>
</ol>
<pre><code class="language-xquery">./Catania/nomi =&gt; jnode-content() =&gt; count()
</code></pre>
<ol start="2">
<li>List all persons in upper case:</li>
</ol>
<pre><code class="language-xquery">for $nome in .//nomi =&gt; jnode-content()
return upper-case($nome)
</code></pre>
<p>To prevent users from selectively resorting to the shorter lookup syntax…</p>
<pre><code class="language-xquery">.?Catania?nomi =&gt; count()

for $nome in .?Catania?*?nomi
return upper-case($nome)
</code></pre>
<p>…we could include another pseudo-function that returns the content/value instead of a JNode:</p>
<pre><code class="language-xquery">./Catania/content(nomi) =&gt; count()

for $nome in .//content(nomi) 
return upper-case($nome)
</code></pre>
<p>One drawback would be that this would violate the current principle that the righthand side is only a filter.</p>
</div></details></div>
<div class="toot" id="created-2094"><h2>Pull request #2094 created<span class="toot-id"> #created-2094</span></h2><div class="pubdate">13 Jul at 08:40:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2094">https://github.com/qt4cg/qtspecs/pull/2094</a></div><details><summary>2003 Generalize Map Constructors</summary><div class="markup"><p>Allows conditional and repeated entries in a map constructor.</p>
<p>Fix #2003</p>
</div></details></div>
<div class="toot" id="created-2093"><h2>Issue #2093 created<span class="toot-id"> #created-2093</span></h2><div class="pubdate">12 Jul at 09:07:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2093">https://github.com/qt4cg/qtspecs/issues/2093</a></div><details><summary>XQFO: structuring</summary><div class="markup"><p>The way the XQFO functions are structured is becoming increasingly arbitrary. Examples:</p>
<ul>
<li>Processing sequences: <code>fn:doc</code></li>
<li>Processing nodes: <code>fn:string</code></li>
<li>Processing QNames: <code>fn:in-scope-prefixes</code></li>
<li>Parsing and serializing: <code>fn:xsd-validator</code></li>
</ul>
<p>For at least 10% of the functions, it will be difficult to find a good categorization (categorization is a challenging topic in itself), but maybe we can improve the status quo.</p>
<p>We can certainly tackle this at a later stage; this issue is only about reminding us of the task.</p>
</div></details></div>
<div class="toot" id="closed-1715"><h2>Issue #1715 closed<span class="toot-id"> #closed-1715</span></h2><div class="pubdate">11 Jul at 21:45:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1715">https://github.com/qt4cg/qtspecs/issues/1715</a></div><p>Array Lookups: partial removal of out-of-bounds checks</p></div>
<div class="toot" id="closed-1995"><h2>Issue #1995 closed<span class="toot-id"> #closed-1995</span></h2><div class="pubdate">11 Jul at 21:42:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1995">https://github.com/qt4cg/qtspecs/issues/1995</a></div><p>Consistency: array lookups</p></div>
<div class="toot" id="closed-1872"><h2>Issue #1872 closed<span class="toot-id"> #closed-1872</span></h2><div class="pubdate">11 Jul at 21:42:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1872">https://github.com/qt4cg/qtspecs/issues/1872</a></div><p>Arrays: members → values / entries?</p></div>
<div class="toot" id="closed-1871"><h2>Issue #1871 closed<span class="toot-id"> #closed-1871</span></h2><div class="pubdate">11 Jul at 21:38:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1871">https://github.com/qt4cg/qtspecs/issues/1871</a></div><p>Arrays and maps: consistency</p></div>
<div class="toot" id="created-2092"><h2>Issue #2092 created<span class="toot-id"> #created-2092</span></h2><div class="pubdate">11 Jul at 20:34:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2092">https://github.com/qt4cg/qtspecs/issues/2092</a></div><details><summary>Drop map:pair, map:of-pairs, map:pairs, array:members, array:of-members</summary><div class="markup"><p>I propose dropping the three functions <code>map:pair</code>, <code>map:of-pairs</code>, <code>map:pairs</code>, together with the built-in record type <code>fn:key-value-pair</code>.</p>
<p>With the introduction of JNodes, I think these are redundant.</p>
<ul>
<li>In place of <code>map:pairs($map)</code>, use <code>$map/*</code>.</li>
<li>In place of <code>map:pair($key, $value)</code>, use <code>{$key : $value}/*</code></li>
<li>In place of <code>map:of-pairs</code>, use <code>map:build($jnodes, jnode-selector#1, jnode-content#1)</code></li>
</ul>
<p>I'm proposing to keep the map:entry, map:entries, and map:merge trio which also do much the same thing.</p>
<p>Similarly, I propose dropping <code>array:members</code> and <code>array:of-members</code>, and "value records":</p>
<ul>
<li>In place of <code>array:members($array)</code>, use <code>$array/*</code></li>
<li>In place of <code>array:of-members</code>, use <code>array:build($jnodes, jnode-content#1)</code></li>
</ul>
<p>(Alternatively: keep the functions but define them to return and consume JNodes, rather than key-value and value records.)</p>
</div></details></div>
<div class="toot" id="closed-2046"><h2>Issue #2046 closed<span class="toot-id"> #closed-2046</span></h2><div class="pubdate">11 Jul at 15:29:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2046">https://github.com/qt4cg/qtspecs/issues/2046</a></div><p>Promote ".." to a primary expression</p></div>
<div class="toot" id="closed-2076"><h2>Issue #2076 closed<span class="toot-id"> #closed-2076</span></h2><div class="pubdate">11 Jul at 14:18:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2076">https://github.com/qt4cg/qtspecs/issues/2076</a></div><p>TOC: Interaction</p></div>
<div class="toot" id="closed-2091"><h2>Issue #2091 closed<span class="toot-id"> #closed-2091</span></h2><div class="pubdate">11 Jul at 14:18:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2091">https://github.com/qt4cg/qtspecs/pull/2091</a></div><p>ToC changes per issue #2076</p></div>
<div class="toot" id="created-2091"><h2>Pull request #2091 created<span class="toot-id"> #created-2091</span></h2><div class="pubdate">11 Jul at 14:18:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2091">https://github.com/qt4cg/qtspecs/pull/2091</a></div><details><summary>ToC changes per issue #2076</summary><div class="markup"><p>Fix #2076</p>
<p>Hopefully this is an improvement!</p>
</div></details></div>
<div class="toot" id="closed-2090"><h2>Issue #2090 closed<span class="toot-id"> #closed-2090</span></h2><div class="pubdate">11 Jul at 07:12:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2090">https://github.com/qt4cg/qtspecs/issues/2090</a></div><p>What does it mean to send an `encoding` serialization parameter to `fn:serialize`?</p></div>
<div class="toot" id="created-2090"><h2>Issue #2090 created<span class="toot-id"> #created-2090</span></h2><div class="pubdate">10 Jul at 16:35:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2090">https://github.com/qt4cg/qtspecs/issues/2090</a></div><details><summary>What does it mean to send an `encoding` serialization parameter to `fn:serialize`?</summary><div class="markup"><p>We say that <code>fn:serialize()</code> returns a string, so I'd expect it to be UTF-8 (or UTF-16, or whatever the implementation's common character set is for strings). I don't see any mention of the meaning of encoding.</p>
</div></details></div>
<div class="toot" id="created-2089"><h2>Issue #2089 created<span class="toot-id"> #created-2089</span></h2><div class="pubdate">09 Jul at 11:46:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2089">https://github.com/qt4cg/qtspecs/issues/2089</a></div><details><summary>JNode properties: Presentation</summary><div class="markup"><p>Maybe the presentation of XNode and JNode properties could be aligned.</p>
<p>The XDM uses square brackets for XML node properties:</p>
<blockquote>
<p>Document node properties are derived from the infoset as follows:</p>
<p><strong>base-uri</strong>
&nbsp;&nbsp;&nbsp;&nbsp;The value of the <strong>[base URI]</strong> property, if available, […]</p>
</blockquote>
<p>…and the character ¶ for JNode properties:</p>
<blockquote>
<p>JNode has the following properties:
&nbsp;&nbsp;&nbsp;&nbsp;<strong>¶parent</strong>: a JNode […]</p>
</blockquote>
<p>Would it make sense to always use ¶ or square brackets, or are the kind of properties we talk about too different in order to be aligned? In the latter case, we may need to clarify this in the spec, or add some words on (possibly non-existing) GNode properties.</p>
</div></details></div>
<div class="toot" id="created-2088"><h2>Issue #2088 created<span class="toot-id"> #created-2088</span></h2><div class="pubdate">09 Jul at 11:24:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2088">https://github.com/qt4cg/qtspecs/issues/2088</a></div><details><summary>File Module: Feedback, Observations</summary><div class="markup"><h4>1. “Regular files” (QT4CG-128-01)</h4>
<p>Add POSIX reference.</p>
<h4>2. Permissions (QT4CG-128-02)</h4>
<p>All functions should be checked with regard to permission handling. Due to the variety of file systems and the programming languages that operate on them, it may turn out that <code>file:not-found</code> and <code>file:io-error</code> is all we can offer.</p>
<h4>3. <code>file:is-absolute</code></h4>
<p>The rule says: “A path is absolute if it does not need to be combined with other path information, such as the current directory, to locate a file.”</p>
<p>Thus, <code>file:is-absolute('/')</code> must <strong>not</strong> return true on Windows systems, as the drive letter is missing.</p>
<p>Other rules of the spec that refer to absolute file paths should reflect this.</p>
<h4>4. <code>file:resolve-path</code></h4>
<p>Additionally, Rule 1 “If <code>$path</code> is an absolute path, it is returned unchanged.” contradicts the final sentence, which states that a separator must be added to directory paths:</p>
<p>…to be continued.</p>
</div></details></div>
<div class="toot" id="created-2087"><h2>Issue #2087 created<span class="toot-id"> #created-2087</span></h2><div class="pubdate">09 Jul at 08:24:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2087">https://github.com/qt4cg/qtspecs/issues/2087</a></div><details><summary>Adaptive serialization: JNodes</summary><div class="markup"><p>The (proposed) spec currently says (for the adaptive output method)</p>
<p>A JNode is serialized by serializing its ¶value property.</p>
<p>I propose changing the output to</p>
<p><code>JNode(k:v)</code></p>
<p>where k is the serialization of the selector property and v is the serialization of the value property.</p>
<p>The rule for the JSON output method remains the same.</p>
<p>The reason for the change is so that people can see when a query returns a JNode as distinct from returning its value.</p>
</div></details></div>
<div class="toot" id="created-2086"><h2>Issue #2086 created<span class="toot-id"> #created-2086</span></h2><div class="pubdate">08 Jul at 20:10:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2086">https://github.com/qt4cg/qtspecs/issues/2086</a></div><details><summary>Can the ¶value property of a JNode be (or contain) a JNode?</summary><div class="markup"><p>The data model allows the ¶value property of a JNode be (or contain) a JNode. But can it actually happen, and if so, what are the consequences?</p>
<p>I think it can happen. Although fn:JNode can't be applied directly to a JNode, it is possible to construct a map or array in which the entries/members are (or contain) JNodes. We can then wrap such an array or map in a JNode using the fn:JNode function, and the child axis applied to this containing array will return JNodes that have JNodes as their ¶value properties.</p>
<p>While the results may be confusing, I don't think they are harmful (and someone may find an imaginative way of making use of such a structure). For the time being therefore, I propose to allow it, perhaps with an explanatory note to point out any dangers.</p>
<p>Should atomization of a JNode unwrap multiple layers? We currently say that if a JNode J has a ¶value V, then the atomization of J is the atomization of V. I see no particular reason to change that rule, but again, it's an edge case we might draw attention to.</p>
</div></details></div>
<div class="toot" id="minutes—07-08"><h2>QT4 CG meeting 128 draft minutes<span class="toot-id"> #minutes—07-08</span></h2><div class="pubdate">08 Jul at 16:10:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2025/07-08">https://qt4cg.org/meeting/minutes/2025/07-08</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-2085"><h2>Issue #2085 closed<span class="toot-id"> #closed-2085</span></h2><div class="pubdate">08 Jul at 16:24:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2085">https://github.com/qt4cg/qtspecs/pull/2085</a></div><p>Fix markup errors in the EXPath file: specification</p></div>
<div class="toot" id="created-2085"><h2>Pull request #2085 created<span class="toot-id"> #created-2085</span></h2><div class="pubdate">08 Jul at 16:24:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2085">https://github.com/qt4cg/qtspecs/pull/2085</a></div><details><summary>Fix markup errors in the EXPath file: specification</summary><div class="markup"><p>The FOS schema does not allow an fos:example containing an fos:test to omit the fos:result element. I’ve inserted</p>
<pre><code>&lt;fos:result&gt;���&lt;/fos:result&gt;
</code></pre>
<p>as a placeholder to mark the problem. I also had to move some of the fos:errors sections to a different location.</p>
<p>@ChristianGruen apologies for just pushing these in. I wanted to get the specs building again.</p>
</div></details></div>
<div class="toot" id="closed-2070"><h2>Issue #2070 closed<span class="toot-id"> #closed-2070</span></h2><div class="pubdate">08 Jul at 16:01:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2070">https://github.com/qt4cg/qtspecs/pull/2070</a></div><p>Map build patch</p></div>
<div class="toot" id="closed-2016"><h2>Issue #2016 closed<span class="toot-id"> #closed-2016</span></h2><div class="pubdate">08 Jul at 16:00:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2016">https://github.com/qt4cg/qtspecs/issues/2016</a></div><p>File Module: Incorporate changes</p></div>
<div class="toot" id="closed-2077"><h2>Issue #2077 closed<span class="toot-id"> #closed-2077</span></h2><div class="pubdate">08 Jul at 16:00:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2077">https://github.com/qt4cg/qtspecs/pull/2077</a></div><p>2016 File Module: Incorporate changes</p></div>
<div class="toot" id="agenda-07-08"><h2>QT4 CG meeting 128 draft agenda<span class="toot-id"> #agenda-07-08</span></h2><div class="pubdate">07 Jul at 12:40:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2025/07-08">https://qt4cg.org/meeting/agenda/2025/07-08</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-2084"><h2>Issue #2084 created<span class="toot-id"> #created-2084</span></h2><div class="pubdate">05 Jul at 17:30:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2084">https://github.com/qt4cg/qtspecs/issues/2084</a></div><details><summary>Steps when the context value contains multiple nodes</summary><div class="markup"><p>We have two conflicting statements in the spec.</p>
<p>§4.6.4 says: "The step expression S is equivalent to ./S. Thus, if the context value is a sequence containing multiple nodes, the semantics of a step expression are equivalent to a path expression in which the step is always applied to a single node."</p>
<p>§4.6.5 says: "When the context value for evaluation of a step includes multiple nodes, the step is evaluated separately for each of those nodes, and the results are combined without reordering."</p>
<p>I'm not sure which is intended: does S means<code>. / S</code>, or <code>. ! S</code>?</p>
</div></details></div></div><p>See 4238
            more statuses in yearly archives.</p></article></main></body></html>