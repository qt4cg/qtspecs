<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="minutes-07-25"><h2>QT4 CG meeting 043 draft minutes<span class="toot-id"> #minutes-07-25</span></h2><div class="pubdate">25 Jul at 16:50:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2023/07-25">https://qt4cg.org/meeting/minutes/2023/07-25</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="created-641"><h2>Issue #641 created<span class="toot-id"> #created-641</span></h2><div class="pubdate">25 Jul at 16:04:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/641">https://github.com/qt4cg/qtspecs/issues/641</a></div><details><summary>Serialization fallback.</summary><div class="markup"><p>I propose that we drop some serialization errors in favour of producing a fallback representation of the supplied value.</p>
<p>The rationale is that (a) serialization is often used in contexts like xsl:message where the primary purpose is diagnostic, and the last thing you want when producing diagnostics is a secondary error; and (b) seeing a fallback representation of an inappropriate value often shows you much more clearly what you have done wrong than any error message can do.</p>
<p>Compare with the <code>.toString()</code> method in Java and similar languages, which always outputs something even if it's not quite what you wanted.</p>
<p>I'm not proposing to change the principle that the output should always be syntactically valid (e.g. well formed XML or JSON).</p>
<p>I think some of the specific error conditions we might drop are:</p>
<ul>
<li>
<p>In sequence normalization rule 7, instead of raising an error when an attribute, namespace, or function (including a map or array) is encountered, serialize that item using the adaptive output method, treat the result as a text node, and insert the text node into sequence S6.</p>
</li>
<li>
<p>In the JSON output method: when a sequence of two or more items is encountered, instead of raising SERE0023, treat it as an array containing those items.</p>
</li>
</ul>
<p>Closely related, and perhaps best considered together: should the <code>fn:string()</code> function accept anything as input, and never raise an error?</p>
</div></details></div>
<div class="toot" id="closed-632"><h2>Issue #632 closed<span class="toot-id"> #closed-632</span></h2><div class="pubdate">25 Jul at 15:58:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/632">https://github.com/qt4cg/qtspecs/pull/632</a></div><p>SENR0001: Error description updated</p></div>
<div class="toot" id="closed-630"><h2>Issue #630 closed<span class="toot-id"> #closed-630</span></h2><div class="pubdate">25 Jul at 15:58:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/630">https://github.com/qt4cg/qtspecs/pull/630</a></div><p>XPath spec ch. 3 minor edits</p></div>
<div class="toot" id="closed-574"><h2>Issue #574 closed<span class="toot-id"> #closed-574</span></h2><div class="pubdate">25 Jul at 15:58:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/574">https://github.com/qt4cg/qtspecs/issues/574</a></div><p>fn:log: Trace and discard results</p></div>
<div class="toot" id="closed-629"><h2>Issue #629 closed<span class="toot-id"> #closed-629</span></h2><div class="pubdate">25 Jul at 15:58:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/629">https://github.com/qt4cg/qtspecs/pull/629</a></div><p>574: fn:log: Trace and discard results</p></div>
<div class="toot" id="closed-508"><h2>Issue #508 closed<span class="toot-id"> #closed-508</span></h2><div class="pubdate">25 Jul at 15:57:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/508">https://github.com/qt4cg/qtspecs/issues/508</a></div><p>New Map &amp; Array Functions: Inconsistencies</p></div>
<div class="toot" id="closed-609"><h2>Issue #609 closed<span class="toot-id"> #closed-609</span></h2><div class="pubdate">25 Jul at 15:57:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/609">https://github.com/qt4cg/qtspecs/pull/609</a></div><p>508: New Map &amp; Array Functions: Inconsistencies</p></div>
<div class="toot" id="closed-23"><h2>Issue #23 closed<span class="toot-id"> #closed-23</span></h2><div class="pubdate">25 Jul at 15:57:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/23">https://github.com/qt4cg/qtspecs/issues/23</a></div><p>Extending element and attribute tests to NameTest unions</p></div>
<div class="toot" id="closed-606"><h2>Issue #606 closed<span class="toot-id"> #closed-606</span></h2><div class="pubdate">25 Jul at 15:57:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/606">https://github.com/qt4cg/qtspecs/pull/606</a></div><p>Allow element(A|B) and attribute(A|B)</p></div>
<div class="toot" id="closed-602"><h2>Issue #602 closed<span class="toot-id"> #closed-602</span></h2><div class="pubdate">25 Jul at 15:57:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/602">https://github.com/qt4cg/qtspecs/issues/602</a></div><p>Semi-strict static typing: reporting implausible expressions</p></div>
<div class="toot" id="closed-603"><h2>Issue #603 closed<span class="toot-id"> #closed-603</span></h2><div class="pubdate">25 Jul at 15:57:15 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/603">https://github.com/qt4cg/qtspecs/pull/603</a></div><p>602 Implausible Expressions</p></div>
<div class="toot" id="closed-561"><h2>Issue #561 closed<span class="toot-id"> #closed-561</span></h2><div class="pubdate">25 Jul at 15:56:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/561">https://github.com/qt4cg/qtspecs/issues/561</a></div><p>Alias for `function` keyword; drop thin arrow syntax?</p></div>
<div class="toot" id="closed-589"><h2>Issue #589 closed<span class="toot-id"> #closed-589</span></h2><div class="pubdate">25 Jul at 15:56:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/589">https://github.com/qt4cg/qtspecs/pull/589</a></div><p>561: abbreviation fn=function, drop lambda syntax</p></div>
<div class="toot" id="closed-359"><h2>Issue #359 closed<span class="toot-id"> #closed-359</span></h2><div class="pubdate">25 Jul at 15:55:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/359">https://github.com/qt4cg/qtspecs/issues/359</a></div><p>fn:void: Absorb result of evaluated argument</p></div>
<div class="toot" id="closed-575"><h2>Issue #575 closed<span class="toot-id"> #closed-575</span></h2><div class="pubdate">25 Jul at 15:55:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/575">https://github.com/qt4cg/qtspecs/pull/575</a></div><p>359: fn:void: Absorb result of evaluated argument</p></div>
<div class="toot" id="closed-414"><h2>Issue #414 closed<span class="toot-id"> #closed-414</span></h2><div class="pubdate">25 Jul at 15:55:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/414">https://github.com/qt4cg/qtspecs/issues/414</a></div><p>Lift character set restriction of xs:string</p></div>
<div class="toot" id="closed-546"><h2>Issue #546 closed<span class="toot-id"> #closed-546</span></h2><div class="pubdate">25 Jul at 15:55:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/546">https://github.com/qt4cg/qtspecs/pull/546</a></div><p>414: Attempt to implement expanding the allowed character repertoire</p></div>
<div class="toot" id="closed-533"><h2>Issue #533 closed<span class="toot-id"> #closed-533</span></h2><div class="pubdate">25 Jul at 15:54:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/533">https://github.com/qt4cg/qtspecs/pull/533</a></div><p>413: Spec for CSV parsing with fn:parse-csv()</p></div>
<div class="toot" id="created-640"><h2>Pull request #640 created<span class="toot-id"> #created-640</span></h2><div class="pubdate">25 Jul at 15:38:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/640">https://github.com/qt4cg/qtspecs/pull/640</a></div><details><summary>601: fn:all → fn:every?</summary><div class="markup"><p>@ndw Should be ready to be merged</p>
</div></details></div>
<div class="toot" id="closed-514"><h2>Issue #514 closed<span class="toot-id"> #closed-514</span></h2><div class="pubdate">25 Jul at 15:30:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/514">https://github.com/qt4cg/qtspecs/issues/514</a></div><p>Lambda expression: Annotations</p></div>
<div class="toot" id="created-639"><h2>Issue #639 created<span class="toot-id"> #created-639</span></h2><div class="pubdate">25 Jul at 15:26:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/639">https://github.com/qt4cg/qtspecs/issues/639</a></div><details><summary>fn:void: Naming</summary><div class="markup"><p>A new function <code>fn:void</code> was added to the spec (see #359 for details).</p>
<p>This issue can be used to discuss alternative names for the function, as was suggested by @dnovatchev.</p>
</div></details></div>
<div class="toot" id="created-638"><h2>Issue #638 created<span class="toot-id"> #created-638</span></h2><div class="pubdate">25 Jul at 14:35:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/638">https://github.com/qt4cg/qtspecs/issues/638</a></div><details><summary>Editorial: Avoid e.g.</summary><div class="markup"><p>Occurrences of <code>e.g.</code> should be replaced with alternatives, such as <code>(for example)</code>.</p>
<p>See https://github.com/qt4cg/qtspecs/pull/629#issuecomment-1649952964</p>
</div></details></div>
<div class="toot" id="created-637"><h2>Issue #637 created<span class="toot-id"> #created-637</span></h2><div class="pubdate">25 Jul at 13:35:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/637">https://github.com/qt4cg/qtspecs/issues/637</a></div><details><summary>Annotation Values: Booleans</summary><div class="markup"><p>Functions annotations in XQuery have become a popular feature to attach vendor-specific information (for unit testing, locking, RESTXQ, etc.) to functions.</p>
<p>Annotation values are limited to literals, though. It would often be helpful to supply boolean values, but we don’t have literals for that in the language.</p>
<p>I suggest enhancing the existing grammar…</p>
<pre><code>Annotation  ::=  "%"&nbsp;EQName&nbsp;("("&nbsp;Literal&nbsp;(","&nbsp;Literal)* ")")?
</code></pre>
<p>…and allowing the strings <code>false()</code> and <code>true()</code> as values:</p>
<pre><code>Annotation  ::=  "%"&nbsp;EQName&nbsp;("("&nbsp;AnnotationValue&nbsp;(","&nbsp;AnnotationValue)* ")")?
AnnotationValue  :=  Literal | "false()" | "true()"
</code></pre>
<p>The suggestion is upward compatible if we should decide later on that we want to allow arbitrary expressions for annotation values.</p>
</div></details></div>
<div class="toot" id="closed-636"><h2>Issue #636 closed<span class="toot-id"> #closed-636</span></h2><div class="pubdate">25 Jul at 07:25:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/636">https://github.com/qt4cg/qtspecs/issues/636</a></div><p>Ternary operator</p></div>
<div class="toot" id="created-636"><h2>Issue #636 created<span class="toot-id"> #created-636</span></h2><div class="pubdate">25 Jul at 03:53:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/636">https://github.com/qt4cg/qtspecs/issues/636</a></div><details><summary>Ternary operator</summary><div class="markup"><p>Per #171 the WG decided to allow the ternary operator. I'm looking at <a href="https://qt4cg.org/specifications/xquery-40/xpath-40-diff.html#id-conditionals">4.16 of the current version of XPath 4.0</a> and the ternary operator is presented as illustrative, but the operator does not appear to have been properly introduced and defined in the specs. The terms "ternary", "??", and "!!" appear only twice each, and in contexts that could be confused as being illustrative.</p>
<p>By my reading, the definition of <code>[11] ExprSingle</code> should be expanded to allow a new option, call it <code>TernaryOption</code>, and to the grammar should be new entry <code>TernaryOption ::= Expr "??" ExprSingle "!!" ExprSingle</code>. Does such a definition allow any ambiguous constructs?</p>
<p>I propose that 4.16 be subdivided into two subsections, the first one briefly introducing the ternary operator and the second handling if/then statements. Slight aside: the latter should also include a note pointing out how to avoid a then branch (and an example), a courtesy to developers who are overly accustomed to the unbraced approach as to not give the braced approach much thought.</p>
</div></details></div>
<div class="toot" id="created-635"><h2>Pull request #635 created<span class="toot-id"> #created-635</span></h2><div class="pubdate">24 Jul at 16:28:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/635">https://github.com/qt4cg/qtspecs/pull/635</a></div><details><summary>451: Schema compatibility</summary><div class="markup"><p>This PR addresses part (not all) of issue 451.</p>
<p>It recognises that an application may use more than one schema; for example in a pipeline using multiple stylesheets, it must be possible for the first stylesheet to produce valid output that is valid input to the second, without requiring that the two stylesheet have absolutely identical schema imports. It recognises that there are cases (for example involving substitution groups) where two schemas X and Y may both include the same type T, but produce different results when an element is validated against T. So it defines a concept of schema compatibility and defines its limitations, especially on the semantics of item types such as <code>element(*,T)</code> and <code>schema-element(E)</code>. The rules for schema compatibility between different modules of a query and between different packages in a stylesheet are tightened up and brought into line with each other.</p>
</div></details></div>
<div class="toot" id="created-634"><h2>Pull request #634 created<span class="toot-id"> #created-634</span></h2><div class="pubdate">24 Jul at 13:54:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/634">https://github.com/qt4cg/qtspecs/pull/634</a></div><details><summary>471: Quotes (missing cases)</summary><div class="markup"><p>See Matt’s comment in https://github.com/qt4cg/qtspecs/pull/533#issuecomment-1647945368</p>
</div></details></div>
<div class="toot" id="closed-389"><h2>Issue #389 closed<span class="toot-id"> #closed-389</span></h2><div class="pubdate">22 Jul at 15:38:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/389">https://github.com/qt4cg/qtspecs/issues/389</a></div><p>The fn:build-uri function needs to perform URI encoding for path and query segments</p></div>
<div class="toot" id="closed-556"><h2>Issue #556 closed<span class="toot-id"> #closed-556</span></h2><div class="pubdate">22 Jul at 15:35:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/556">https://github.com/qt4cg/qtspecs/issues/556</a></div><p>Serialization phase 5 note unclear</p></div></div><p>See 1175
            more statuses in yearly archives.</p></article></main></body></html>