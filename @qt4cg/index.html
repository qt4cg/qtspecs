<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2025/">2025</a>, <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="created-1890"><h2>Pull request #1890 created<span class="toot-id"> #created-1890</span></h2><div class="pubdate">23 Mar at 22:34:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1890">https://github.com/qt4cg/qtspecs/pull/1890</a></div><details><summary>More examples added to fn:chain</summary><div class="markup"><p>Added 6 more examples and tests
All are correctly executed.</p>
</div></details></div>
<div class="toot" id="created-1889"><h2>Issue #1889 created<span class="toot-id"> #created-1889</span></h2><div class="pubdate">20 Mar at 15:32:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1889">https://github.com/qt4cg/qtspecs/issues/1889</a></div><details><summary>HTML serialization: `html-version` and `version` parameters; allowed values</summary><div class="markup"><p>The serialization spec says (<a href="https://qt4cg.org/specifications/xslt-xquery-serialization-40/Overview.html#HTML_VERSION">HTML Output Method: the version and html-version Parameters</a>):</p>
<blockquote>
<p>If the <code>html-version</code> serialization parameter is not absent, the requested HTML version is the value of the <code>html-version</code> serialization parameter; otherwise, it is the value of the <code>version</code> serialization parameter.</p>
</blockquote>
<p><a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-serialize">fn:serialize</a> defines the following defaults:</p>
<ul>
<li><code>html-version</code>: <code>5</code></li>
<li><code>version</code>: <code>1.0</code></li>
</ul>
<p>I wonder whether these rules cover all possible cases:</p>
<ol>
<li>Is it correct that HTML will be serialized as HTML5 if no options are supplied?</li>
</ol>
<pre><code class="language-xquery">(: html-version=5 :) 
serialize(&lt;html/&gt;, { 'method': 'html' })
</code></pre>
<ol start="2">
<li>If only <code>version</code> is supplied, is it correct that it is ignored because of <code>html-version</code> defaulting to <code>5</code>?</li>
</ol>
<pre><code class="language-xquery">(: html-version=5 ? :) 
serialize(&lt;html/&gt;, { 'method': 'html', 'version': '4.01' })
</code></pre>
<ol start="3">
<li>If no, i.e., if <code>{ 'version': '4.01' }</code> is expected to overwrite the default for <code>html-version</code>, how can we know at which stage the default values are to be considered?</li>
</ol>
<p>In addition, the serialization specification mentions versions HTML 4.01 and HTML5 various times, but it seems to be up to the implementation to decide which HTML versions to support. However, we seem to have test cases for <code>4.0</code> and <code>5</code>. Would it make sense to define a miminum set of versions that need to be supported?</p>
<p>Finally, for some reason, the <code>html-version</code> parameter was defined to be a decimal, whereas <code>version</code> is defined as a string (since XQFO 3.1). Maybe this leads to the surprising result that Saxon seems to accept the option <code>{ 'version': '4.0' }</code>, but rejects <code>{ 'html-version': 4 }</code>.</p>
</div></details></div>
<div class="toot" id="created-1888"><h2>Pull request #1888 created<span class="toot-id"> #created-1888</span></h2><div class="pubdate">20 Mar at 04:57:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1888">https://github.com/qt4cg/qtspecs/pull/1888</a></div><details><summary>366 xsl:package-location</summary><div class="markup"><p>First draft, for initial feedback.</p>
<p>Notes:</p>
<ul>
<li>Because the CG has little energy/resources to develop the EXPath Zip module, I have situated the question of archive (compressed or not) in the URI scheme itself. There are dozens of archives, dozens of URI schemes. The only case where I have found overlap is in the <code>jar:</code> scheme/archive. Yes, I've seen <code>zip:</code> used as an alias for <code>jar:</code>, but it's not an official IANA URI scheme. This may need discussion.</li>
<li>I have opted to bind <code>@priority</code> to a non-zero integer. This is the first time the constraint for the union of positive and negative integers has been placed on an XSLT attribute, so I may not have correctly set up <code>element-catalog.xml</code>.</li>
<li>I have opted to not make attribute values <code>format</code>, <code>name</code>, and <code>version</code> as criteria for the priority package location (new term), so that developers can be warned when the package is at odds with the declaration. To make them criteria would mean that inconsistencies between the declaration and the referenced packages would remain undetected.</li>
<li>I adopted the terms "URL" and "entry" based upon the IANA nomenclature for the jar: scheme.</li>
<li>I may have overthought the distinction between archive and non-archive URIs. Feedback is appreciated.</li>
<li>Error code <code>3000</code> has been broken up into different possible errors.</li>
<li>Suggestions on the type and number of tests that need to be written for the test suite are welcome.</li>
</ul>
</div></details></div>
<div class="toot" id="created-1887"><h2>Pull request #1887 created<span class="toot-id"> #created-1887</span></h2><div class="pubdate">18 Mar at 21:29:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1887">https://github.com/qt4cg/qtspecs/pull/1887</a></div><details><summary>1870 rename $zero keyword of fold functions</summary><div class="markup"><p>Fix #1879</p>
</div></details></div>
<div class="toot" id="closed-998"><h2>Issue #998 closed<span class="toot-id"> #closed-998</span></h2><div class="pubdate">18 Mar at 20:54:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/998">https://github.com/qt4cg/qtspecs/issues/998</a></div><p>regular expression addition - lookbehind assertions and lookahead assertions</p></div>
<div class="toot" id="closed-1848"><h2>Issue #1848 closed<span class="toot-id"> #closed-1848</span></h2><div class="pubdate">18 Mar at 20:53:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1848">https://github.com/qt4cg/qtspecs/issues/1848</a></div><p>Define regular expressions using XSD 1.1 as baseline</p></div>
<div class="toot" id="closed-1856"><h2>Issue #1856 closed<span class="toot-id"> #closed-1856</span></h2><div class="pubdate">18 Mar at 20:50:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1856">https://github.com/qt4cg/qtspecs/pull/1856</a></div><p>998 Add boundary and lookahead/behind assertions</p></div>
<div class="toot" id="created-1886"><h2>Pull request #1886 created<span class="toot-id"> #created-1886</span></h2><div class="pubdate">18 Mar at 18:33:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1886">https://github.com/qt4cg/qtspecs/pull/1886</a></div><p>1660 Additional options for fn:path</p></div>
<div class="toot" id="closed-1860"><h2>Issue #1860 closed<span class="toot-id"> #closed-1860</span></h2><div class="pubdate">18 Mar at 17:36:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1860">https://github.com/qt4cg/qtspecs/issues/1860</a></div><p>fn:parse-xml: DTDs, external resources</p></div>
<div class="toot" id="closed-1857"><h2>Issue #1857 closed<span class="toot-id"> #closed-1857</span></h2><div class="pubdate">18 Mar at 17:36:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1857">https://github.com/qt4cg/qtspecs/issues/1857</a></div><p>fn:parse-xml: `xinclude`</p></div>
<div class="toot" id="closed-1879"><h2>Issue #1879 closed<span class="toot-id"> #closed-1879</span></h2><div class="pubdate">18 Mar at 17:36:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1879">https://github.com/qt4cg/qtspecs/pull/1879</a></div><p>1857, 1860: Add more options to parse-xml</p></div>
<div class="toot" id="closed-1882"><h2>Issue #1882 closed<span class="toot-id"> #closed-1882</span></h2><div class="pubdate">18 Mar at 17:34:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1882">https://github.com/qt4cg/qtspecs/pull/1882</a></div><p>982 Editorial rewrite of scan-left and scan-right</p></div>
<div class="toot" id="closed-1866"><h2>Issue #1866 closed<span class="toot-id"> #closed-1866</span></h2><div class="pubdate">18 Mar at 17:32:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1866">https://github.com/qt4cg/qtspecs/issues/1866</a></div><p>Ambiguities introduced by #1864</p></div>
<div class="toot" id="closed-1877"><h2>Issue #1877 closed<span class="toot-id"> #closed-1877</span></h2><div class="pubdate">18 Mar at 17:32:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1877">https://github.com/qt4cg/qtspecs/pull/1877</a></div><p>1866 Disambiguate TypeSpecifier syntax</p></div>
<div class="toot" id="closed-1867"><h2>Issue #1867 closed<span class="toot-id"> #closed-1867</span></h2><div class="pubdate">18 Mar at 17:30:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1867">https://github.com/qt4cg/qtspecs/pull/1867</a></div><p>1341 Drop position from fold callbacks</p></div>
<div class="toot" id="closed-1869"><h2>Issue #1869 closed<span class="toot-id"> #closed-1869</span></h2><div class="pubdate">18 Mar at 17:28:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1869">https://github.com/qt4cg/qtspecs/issues/1869</a></div><p>`fn:duplicate-values`: Order of results</p></div>
<div class="toot" id="closed-1873"><h2>Issue #1873 closed<span class="toot-id"> #closed-1873</span></h2><div class="pubdate">18 Mar at 17:28:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1873">https://github.com/qt4cg/qtspecs/pull/1873</a></div><p>1869 duplicate values</p></div>
<div class="toot" id="closed-1851"><h2>Issue #1851 closed<span class="toot-id"> #closed-1851</span></h2><div class="pubdate">18 Mar at 17:26:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1851">https://github.com/qt4cg/qtspecs/issues/1851</a></div><p>Questions on `fn:atomic-type-annotation`</p></div>
<div class="toot" id="closed-1878"><h2>Issue #1878 closed<span class="toot-id"> #closed-1878</span></h2><div class="pubdate">18 Mar at 17:26:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1878">https://github.com/qt4cg/qtspecs/pull/1878</a></div><p>1851 Make ?variety optional; explain namespace-sensitive</p></div>
<div class="toot" id="closed-1863"><h2>Issue #1863 closed<span class="toot-id"> #closed-1863</span></h2><div class="pubdate">18 Mar at 17:24:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1863">https://github.com/qt4cg/qtspecs/issues/1863</a></div><p>add \U \u L \u \E to replace() (case conversion)</p></div>
<div class="toot" id="closed-1880"><h2>Issue #1880 closed<span class="toot-id"> #closed-1880</span></h2><div class="pubdate">18 Mar at 17:23:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1880">https://github.com/qt4cg/qtspecs/pull/1880</a></div><p>Editorial revision of fn:function-identity</p></div>
<div class="toot" id="created-1885"><h2>Issue #1885 created<span class="toot-id"> #created-1885</span></h2><div class="pubdate">18 Mar at 16:51:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1885">https://github.com/qt4cg/qtspecs/issues/1885</a></div><details><summary>Use the spcification grammar markup to define the regular expression grammar in F&amp;O</summary><div class="markup"><p>The grammar for regular expressions in the regular expression section of F&amp;O is currently defined as a code block. Making it use the grammar markup used to define the pattern, XPath, and XQuery grammars would:</p>
<ol>
<li>give the grammar a unified appearance with the other grammars;</li>
<li>allow grammar elements to be cross referenced and linked back to the grammar.</li>
</ol>
</div></details></div>
<div class="toot" id="created-1884"><h2>Issue #1884 created<span class="toot-id"> #created-1884</span></h2><div class="pubdate">17 Mar at 18:18:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1884">https://github.com/qt4cg/qtspecs/issues/1884</a></div><details><summary>Deep-equality keys</summary><div class="markup"><p>Issue #119 proposes extending maps to allow arbitrary values as keys. This is very difficult to achieve, (a) because the fact that keys are atomic items is deeply embedded in the design of a number of functions and operations on maps, and (b) because it's very hard to define an equality function that suits everyone.</p>
<p>The way we tacked variable equality semantics for strings was via the collation-key() function, which takes a string and a collation as input and produces an opaque key value, which can be used as a key in maps, and which reflects the desired equality semantics.</p>
<p>We could extend the same idea to values other than strings. In particular, we could define a deep-equality-key() that can be calculated for any sequence, and that takes all the matching options of the deep-equal() function as a parameter. (We could then redefine <code>deep-equal(a, b, options)</code> to mean <code>deep-equality-key(a, options) eq deep-equality-key(b, options)</code>).</p>
<p>The main drawback is that the deep-equality-keys for large node trees or maps would be rather long strings. People might use the functionality without realising the expense.</p>
<p>Another problem is that one of our options in deep-equals() is a callback function for item equality, and we couldn't replicate this when computing a key. But this callback is the only way we have, for example, to compare nodes by identity rather than by content.</p>
<p>Note that an internal deep-equality-key concept (or at least a deep-equality hashcode) is needed anyway for efficient implementation of deep-equals where order is deemed irrelevant. Without it, the function becomes O(n^2). Quite independently of this proposal, we should perhaps have an explicit option on deep-equals() to compare nodes by identity.</p>
</div></details></div>
<div class="toot" id="closed-1296"><h2>Issue #1296 closed<span class="toot-id"> #closed-1296</span></h2><div class="pubdate">17 Mar at 09:47:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1296">https://github.com/qt4cg/qtspecs/pull/1296</a></div><p>982 Rewrite of scan-left and scan-right</p></div>
<div class="toot" id="created-1883"><h2>Pull request #1883 created<span class="toot-id"> #created-1883</span></h2><div class="pubdate">16 Mar at 18:19:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1883">https://github.com/qt4cg/qtspecs/pull/1883</a></div><details><summary>882 Replace fn:chain by fn:compose</summary><div class="markup"><p>Drops the existing fn:chain function and replaces it with a new fn:compose function.</p>
<p>This combines two separate changes:</p>
<p>(a) whereas fn:chain applies a sequence of functions to an input, fn:compose returns a composite function that can be used repeatedly with different inputs.</p>
<p>(b) the fn:compose function is restricted to arity-1 functions, which leads to a much simpler specification that still handles the vast majority of practical use cases.</p>
<p>In particular, note that if the sequence of functions to be applied is statically known, then it can always be written out explicitly; the real use case for this function is when the sequence of functions is constructed dynamically. And in this situation, fn:chain in its current form can easily fail because of problems with the arity of the functions included in the chain.</p>
</div></details></div>
<div class="toot" id="closed-1865"><h2>Issue #1865 closed<span class="toot-id"> #closed-1865</span></h2><div class="pubdate">16 Mar at 17:13:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1865">https://github.com/qt4cg/qtspecs/issues/1865</a></div><p>Callback functions, position argument: consistency</p></div>
<div class="toot" id="created-1882"><h2>Pull request #1882 created<span class="toot-id"> #created-1882</span></h2><div class="pubdate">16 Mar at 00:09:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1882">https://github.com/qt4cg/qtspecs/pull/1882</a></div><details><summary>982 Editorial rewrite of scan-left and scan-right</summary><div class="markup"><p>This is intended to be purely an editorial rewrite, it does not change the functionality.</p>
<p>Replaces #1296.</p>
<p>Addresses #982, but we still need to add corresponding functions for arrays.</p>
</div></details></div>
<div class="toot" id="created-1881"><h2>Issue #1881 created<span class="toot-id"> #created-1881</span></h2><div class="pubdate">15 Mar at 08:28:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1881">https://github.com/qt4cg/qtspecs/issues/1881</a></div><details><summary>fn:function-identity for maps and arrays</summary><div class="markup"><p>The data model spec says that function identity is not defined for maps and arrays.</p>
<p>The specification of fn:function-identity() fails to mention this fact.</p>
</div></details></div>
<div class="toot" id="created-1880"><h2>Pull request #1880 created<span class="toot-id"> #created-1880</span></h2><div class="pubdate">15 Mar at 01:16:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1880">https://github.com/qt4cg/qtspecs/pull/1880</a></div><details><summary>Editorial revision of fn:function-identity</summary><div class="markup"><p>Tidies up the text and adds examples</p>
</div></details></div>
<div class="toot" id="created-1879"><h2>Pull request #1879 created<span class="toot-id"> #created-1879</span></h2><div class="pubdate">14 Mar at 15:50:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1879">https://github.com/qt4cg/qtspecs/pull/1879</a></div><details><summary>1857, 1860: Add more options to parse-xml</summary><div class="markup"><p>Add options to control entity expansion and XInclude processing.</p>
<p>Fix #1857
Fix #1860</p>
</div></details></div></div><p>See 3800
            more statuses in yearly archives.</p></article></main></body></html>