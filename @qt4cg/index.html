<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2025/">2025</a>, <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="minutes—04-29"><h2>QT4 CG meeting 119 draft minutes<span class="toot-id"> #minutes—04-29</span></h2><div class="pubdate">29 Apr at 17:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2025/04-29">https://qt4cg.org/meeting/minutes/2025/04-29</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-1961"><h2>Issue #1961 closed<span class="toot-id"> #closed-1961</span></h2><div class="pubdate">29 Apr at 16:20:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1961">https://github.com/qt4cg/qtspecs/pull/1961</a></div><p>Attempt to show that xsl:record allows extra attributes</p></div>
<div class="toot" id="closed-1956"><h2>Issue #1956 closed<span class="toot-id"> #closed-1956</span></h2><div class="pubdate">29 Apr at 16:17:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1956">https://github.com/qt4cg/qtspecs/pull/1956</a></div><p>1954 (part) Private variables and functions don't need to be in the module namespace</p></div>
<div class="toot" id="closed-1271"><h2>Issue #1271 closed<span class="toot-id"> #closed-1271</span></h2><div class="pubdate">29 Apr at 16:15:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1271">https://github.com/qt4cg/qtspecs/issues/1271</a></div><p>Schema validation in XPath</p></div>
<div class="toot" id="closed-1933"><h2>Issue #1933 closed<span class="toot-id"> #closed-1933</span></h2><div class="pubdate">29 Apr at 16:15:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1933">https://github.com/qt4cg/qtspecs/pull/1933</a></div><p>1271 fn:xsd-validator() function</p></div>
<div class="toot" id="closed-557"><h2>Issue #557 closed<span class="toot-id"> #closed-557</span></h2><div class="pubdate">29 Apr at 16:12:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/557">https://github.com/qt4cg/qtspecs/issues/557</a></div><p>fn:unparsed-binary: accessing and manipulating binary types</p></div>
<div class="toot" id="closed-1587"><h2>Issue #1587 closed<span class="toot-id"> #closed-1587</span></h2><div class="pubdate">29 Apr at 16:12:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1587">https://github.com/qt4cg/qtspecs/pull/1587</a></div><p>557 Add fn:unparsed-binary function</p></div>
<div class="toot" id="closed-1319"><h2>Issue #1319 closed<span class="toot-id"> #closed-1319</span></h2><div class="pubdate">29 Apr at 16:10:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1319">https://github.com/qt4cg/qtspecs/issues/1319</a></div><p>Specification Documents: Editors and Contributors</p></div>
<div class="toot" id="closed-1416"><h2>Issue #1416 closed<span class="toot-id"> #closed-1416</span></h2><div class="pubdate">29 Apr at 16:10:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1416">https://github.com/qt4cg/qtspecs/issues/1416</a></div><p>Key-value pairs: built-in record type `pair`</p></div>
<div class="toot" id="closed-1844"><h2>Issue #1844 closed<span class="toot-id"> #closed-1844</span></h2><div class="pubdate">29 Apr at 16:10:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1844">https://github.com/qt4cg/qtspecs/issues/1844</a></div><p>Drop mapping arrow operator</p></div>
<div class="toot" id="closed-1704"><h2>Issue #1704 closed<span class="toot-id"> #closed-1704</span></h2><div class="pubdate">29 Apr at 16:09:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1704">https://github.com/qt4cg/qtspecs/issues/1704</a></div><p>Ignore the byte order mark more completely/globally</p></div>
<div class="toot" id="closed-1950"><h2>Issue #1950 closed<span class="toot-id"> #closed-1950</span></h2><div class="pubdate">29 Apr at 16:09:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1950">https://github.com/qt4cg/qtspecs/pull/1950</a></div><p>1704 Add rules/notes for BOM and related topics</p></div>
<div class="toot" id="closed-1906"><h2>Issue #1906 closed<span class="toot-id"> #closed-1906</span></h2><div class="pubdate">29 Apr at 16:05:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1906">https://github.com/qt4cg/qtspecs/pull/1906</a></div><p>1797 elements-to-maps-conversion-plan function</p></div>
<div class="toot" id="created-1963"><h2>Pull request #1963 created<span class="toot-id"> #created-1963</span></h2><div class="pubdate">29 Apr at 14:10:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1963">https://github.com/qt4cg/qtspecs/pull/1963</a></div><details><summary>1958 Fix simple typo in map:build</summary><div class="markup"><p>Fix #1958</p>
</div></details></div>
<div class="toot" id="created-1962"><h2>Issue #1962 created<span class="toot-id"> #created-1962</span></h2><div class="pubdate">26 Apr at 11:05:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1962">https://github.com/qt4cg/qtspecs/issues/1962</a></div><details><summary>fn:map-to-element</summary><div class="markup"><p>As this feature request has been reported back to us more than once, I want to raise the question here if we want to introduce a function that inverts the result of <code>fn:map-to-element</code> back to an XML representation – provided that a conversion plan exists.</p>
<p>Many results would certainly be lossy, but as the plan is now available separately, it would be possible to roundtrip a lot of data with regular structures, without having to write custom conversion code.</p>
</div></details></div>
<div class="toot" id="created-1961"><h2>Pull request #1961 created<span class="toot-id"> #created-1961</span></h2><div class="pubdate">25 Apr at 11:26:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1961">https://github.com/qt4cg/qtspecs/pull/1961</a></div><details><summary>Attempt to show that xsl:record allows extra attributes</summary><div class="markup"><p>By the simple expedient of adding</p>
<pre><code class="language-xml">&lt;e:attribute name="*" required="yes"&gt;
   &lt;e:data-type name="expression"/&gt;
&lt;/e:attribute&gt;
</code></pre>
<p>to the syntax summary we get</p>
<p><img src="https://github.com/user-attachments/assets/0eaab6d7-9b0e-4b67-92e2-fd3cd6d6ce9e" alt="Screenshot 2025-04-25 at 12-25-57 XSL Transformations (XSLT) Version 4 0"></p>
<p>With some additional prose, would that be sufficient?</p>
</div></details></div>
<div class="toot" id="closed-1960"><h2>Issue #1960 closed<span class="toot-id"> #closed-1960</span></h2><div class="pubdate">25 Apr at 08:59:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1960">https://github.com/qt4cg/qtspecs/pull/1960</a></div><p>Attempt to improve rendering of the dynamic ToC</p></div>
<div class="toot" id="created-1960"><h2>Pull request #1960 created<span class="toot-id"> #created-1960</span></h2><div class="pubdate">25 Apr at 08:58:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1960">https://github.com/qt4cg/qtspecs/pull/1960</a></div><details><summary>Attempt to improve rendering of the dynamic ToC</summary><div class="markup"><p>This is an attempt to complete action QT4CG-116-03.</p>
<p>Part of the confusion in the rendering is that it’s partly done by CSS and partly done by JavaScript and those had gotten out of sync. Given that the JavaScript code has to do some of the work, I changed things so it does all of the work.</p>
<p>I also discovered that the weird Firefox bug where the font size changed was, wait for it, caused by the particular codepoint being used for “changed”. So I, uh, changed it.</p>
<p>We now get ✚ for new sections, ✭ for changed sections, and both when there are both new and changed sections. I spent a bit of time trying to find a third symbol, but gave up.</p>
<p>The markup in the XSLT specification isn’t quite the same as in other specifications, so the results are a tiny bit odd in places. There are some sections that get marked “both” in the ToC but when you expand the ToC, there’s only one mark. I haven’t tried to work out what’s going on there yet.</p>
</div></details></div>
<div class="toot" id="created-1959"><h2>Pull request #1959 created<span class="toot-id"> #created-1959</span></h2><div class="pubdate">24 Apr at 15:49:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1959">https://github.com/qt4cg/qtspecs/pull/1959</a></div><details><summary>1953 (part) XSLT Worked example using methods to implement atomic sets</summary><div class="markup"><p>Provides an XSLT package that uses named record types and methods to implement an atomic set data type, as an example of how abstract data types can now be implemented.</p>
</div></details></div>
<div class="toot" id="created-1958"><h2>Issue #1958 created<span class="toot-id"> #created-1958</span></h2><div class="pubdate">24 Apr at 14:41:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1958">https://github.com/qt4cg/qtspecs/issues/1958</a></div><details><summary>Typo in map:build</summary><div class="markup"><blockquote>
<p>If the key is already present, the processor combines the new value
for the key with the existing value as determined by <strong>the and duplicates</strong> option.</p>
</blockquote>
</div></details></div>
<div class="toot" id="created-1957"><h2>Issue #1957 created<span class="toot-id"> #created-1957</span></h2><div class="pubdate">24 Apr at 11:58:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1957">https://github.com/qt4cg/qtspecs/issues/1957</a></div><details><summary>Schema for XSLT incorrectly allows mixed content for xsl:output</summary><div class="markup"><p>The declaration (line 1412) says mixed="true".</p>
</div></details></div>
<div class="toot" id="created-1956"><h2>Pull request #1956 created<span class="toot-id"> #created-1956</span></h2><div class="pubdate">24 Apr at 11:34:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1956">https://github.com/qt4cg/qtspecs/pull/1956</a></div><details><summary>1954 (part) Private variables and functions don't need to be in the module namespace</summary><div class="markup"><p>See issue #1954</p>
<p>The PR removes the requirement for private variables and functions declared in library modules to be in the module namespace. There has never been any sensible reason for this restriction.</p>
<p>The restriction is retained for public variables and functions; one could argue that it is unnecessary in that case also, but it does no harm and enforces good coding discipline.</p>
</div></details></div>
<div class="toot" id="created-1955"><h2>Issue #1955 created<span class="toot-id"> #created-1955</span></h2><div class="pubdate">24 Apr at 09:58:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1955">https://github.com/qt4cg/qtspecs/issues/1955</a></div><details><summary>fn:doc, fn:parse-xml: entity expansion</summary><div class="markup"><p>The current rule for the <code>entity-expansion-limit</code> option is:</p>
<blockquote>
<p>The processor should impose a limit on the number of entity references that are expanded, or on the size of the expanded entities, depending on the options available in the underlying XML parser; the limit should be commensurate with the value requested, but the precise effect may be . <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#implementation-dependent">implementation-dependent</a>. If the XML parser does not offer the ability to impose a limit, or if the value is zero, then entity expansion should if possible be disabled entirely, leading to a dynamic error if the input contains any entity references. A negative value should be interpreted as placing no limits on entity expansion.</p>
</blockquote>
<p>By default, Java uses 64000 as limit. An explicit value less than or equal to 0 indicates no limit (https://docs.oracle.com/javase/tutorial/jaxp/limits/limits.html, https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/module-summary.html). I don’t know about other languages.</p>
<p>I would like to…</p>
<ol>
<li>change the option to an <code>expand-entities</code> Boolean, or</li>
<li>change the rules and make <code>0</code> disable the limit.</li>
</ol>
<p>Any favorites?</p>
</div></details></div>
<div class="toot" id="created-1954"><h2>Issue #1954 created<span class="toot-id"> #created-1954</span></h2><div class="pubdate">24 Apr at 09:39:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1954">https://github.com/qt4cg/qtspecs/issues/1954</a></div><details><summary>Private fields in records</summary><div class="markup"><p>It would be nice to have some way of indicating that some of the fields in a record are (in some sense) private, intended for internal use.</p>
<p>I'm not proposing full encapsulation - the instances of a record type are maps, and can be manipulated by functions such as map:keys(), map:get(), and map:put() which expose all the keys.</p>
<p>Rather I'm proposing a convention that makes it difficult to access the fields "accidentally" using lookup expressions: a bit like naming the fields using a leading underscore, but something a bit stronger. Analogous to reflection in Java, which allows you to break encapsulation with a bit of effort.</p>
<p>I'd suggest making the keys for these "private" fields QNames rather than strings:</p>
<ul>
<li>In the record declaration, we allow a field name to be a QName rather than a string: record(private:data as item()*, long, lat).</li>
<li>QNames can't be used directly in a lookup; to access the field, you need to know what namespace "private" is bound to, which doesn't need to be published information (though it is of course discoverable)</li>
<li>Internally the implementor of this interface can bind a QName to a private variable and use this:</li>
</ul>
<p><code>declare %private variable $private:data as xs:QName('http://my.private.namespace/', 'data')</code></p>
<p>and then access it using <code>$record?$private:data</code></p>
</div></details></div>
<div class="toot" id="created-1953"><h2>Issue #1953 created<span class="toot-id"> #created-1953</span></h2><div class="pubdate">24 Apr at 09:19:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1953">https://github.com/qt4cg/qtspecs/issues/1953</a></div><details><summary>Make generation of constructor function for named record types optional</summary><div class="markup"><p>I propose that when a named record type is declared in XQuery or XSLT, the generation of a constructor function should be optional.</p>
<p>Perhaps in XQuery it should only happen if there is an annotation <code>%constructor</code>, and in XSLT if there is an attribute <code>constructor="yes"</code>. I think it's better for the default to be "no constructor" because it's better to make the existence of a constructor explicitly visible.</p>
<p>There are cases where you don't want a system-generated constructor primarily because you want to provide your own constructor which perhaps accepts the data in a slightly different form, or perhaps imposes constraints like cross-validation of supplied arguments.</p>
</div></details></div>
<div class="toot" id="created-1952"><h2>Issue #1952 created<span class="toot-id"> #created-1952</span></h2><div class="pubdate">23 Apr at 21:47:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1952">https://github.com/qt4cg/qtspecs/issues/1952</a></div><details><summary>Change option name from xsi-schema-location to use-xsi-schema-location</summary><div class="markup"><p>Functions (such as fn:doc and fn:parse-xml) that have a boolean option <code>xsi-schema-location</code> should change this to <code>use-xsi-schema-location</code> to make it clearer that the expected value is a boolean and not a schema location.</p>
<p>(Comment made in passing at the last meeting).</p>
</div></details></div>
<div class="toot" id="created-1951"><h2>Issue #1951 created<span class="toot-id"> #created-1951</span></h2><div class="pubdate">23 Apr at 15:54:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1951">https://github.com/qt4cg/qtspecs/issues/1951</a></div><details><summary>Some nits regarding the method attribute</summary><div class="markup"><p>A few minor comments on the method attribute (that also apply to XSLT 3.0):</p>
<ol>
<li>
<p>A note in section 25.1 says "In the case of the attributes <strong>method</strong>, cdata-section-elements, suppress-indentation, and use-character-maps, the effective value of the attribute contains a space-separated <strong>list</strong> of EQNames."  The effective value of the method attribute should not be a list of values, just one value, right?</p>
</li>
<li>
<p>The XSD schema requires that the method attribute contain a colon if it is not one of the 6 "built-in" values.  (The type xsl:method restricts xsl:EQName with the pattern "\c*:\c*").  Now that it can be an expanded QName,  it should also allow for Q{...}.</p>
</li>
<li>
<p>A note in section 3.2 says:  "Extension attributes may also be used to influence the behavior of the serialization methods <strong>xml, xhtml, html, or text</strong>, to the extent that... If a serialization method other than one of these <strong>four</strong> is requested (<strong>using a prefixed QName</strong> in the method parameter) then...".<br>
a. This lists only 4 methods, Should "json" and "adaptive" be added to the list and "four" changed to "six"?
b. Should "using a prefixed QName" be changed to something like "using an EQName with a non-absent namespace"?</p>
</li>
<li>
<p>In the note about error XTSE1570 in Section 26.2.  "The value must (if present) be a valid EQName. If it is a lexical QName with no a prefix, then it identifies a method specified in [XSLT and XQuery Serialization] and must be one of <strong>xml, html, xhtml, or text</strong>.
a. It only lists the 4 methods, leaving out "json" and "adaptive"
b. Typo - "no a prefix" should be "no prefix"</p>
</li>
</ol>
<p>Thanks!</p>
</div></details></div>
<div class="toot" id="created-1950"><h2>Pull request #1950 created<span class="toot-id"> #created-1950</span></h2><div class="pubdate">23 Apr at 15:52:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1950">https://github.com/qt4cg/qtspecs/pull/1950</a></div><details><summary>1704 Add rules/notes for BOM and related topics</summary><div class="markup"><p>Fix #1704</p>
<p>The main substantive change is that unparsed-text() now explicitly discards any leading BOM.</p>
<p>Other functions that involve decoding of octets to strings are updated to reflect the changes that we made to reference the concept of "permitted characters".</p>
</div></details></div>
<div class="toot" id="closed-1644"><h2>Issue #1644 closed<span class="toot-id"> #closed-1644</span></h2><div class="pubdate">23 Apr at 15:29:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1644">https://github.com/qt4cg/qtspecs/issues/1644</a></div><p>fn:elements-to-maps: Mixed Content</p></div>
<div class="toot" id="closed-1658"><h2>Issue #1658 closed<span class="toot-id"> #closed-1658</span></h2><div class="pubdate">23 Apr at 15:28:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1658">https://github.com/qt4cg/qtspecs/issues/1658</a></div><p>fn:elements-to-maps: `empty`, normalize space ?</p></div></div><p>See 3973
            more statuses in yearly archives.</p></article></main></body></html>