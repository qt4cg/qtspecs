<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2025/">2025</a>, <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-08-19"><h2>QT4 CG meeting 133 draft agenda<span class="toot-id"> #agenda-08-19</span></h2><div class="pubdate">18 Aug at 10:00:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2025/08-19">https://qt4cg.org/meeting/agenda/2025/08-19</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-1938"><h2>Issue #1938 closed<span class="toot-id"> #closed-1938</span></h2><div class="pubdate">16 Aug at 18:10:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1938">https://github.com/qt4cg/qtspecs/issues/1938</a></div><p>Invoking coerced methods</p></div>
<div class="toot" id="created-2169"><h2>Issue #2169 created<span class="toot-id"> #created-2169</span></h2><div class="pubdate">16 Aug at 17:34:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2169">https://github.com/qt4cg/qtspecs/issues/2169</a></div><details><summary>Longest-token rule incorrectly produces `StringInterpolation` delimiter</summary><div class="markup"><p><code>StringInterpolation</code> currently defines a two-character token, curly right brace + backtick, to follow <code>Expr</code> as a terminator:</p>
<pre><code>StringInterpolation ::= "`{" Expr? "}`"
</code></pre>
<p>On other occasions, <code>Expr</code> is followed by a single right curly brace:</p>
<pre><code>EnclosedExpr ::= "{" Expr? "}"
</code></pre>
<p>The following applies to tokenization (the "longest-token" rule):</p>
<blockquote>
<p>If the current position is not the end of the input, then return the longest literal terminal or variable terminal that can be matched starting at the current position, regardless whether this terminal is valid at this point in the grammar.”</p>
</blockquote>
<p>My concern is that input like</p>
<pre><code class="language-xquery">&lt;a&gt;{42}`&lt;/a&gt;
</code></pre>
<p>is going to be mis-tokenized under the longest-token rule: after <code>42</code>, the next (longest) token is the two-character <code>StringInterpolation</code> terminator, which however is not a valid terminator of the <code>EnclosedExpr</code> serving as <code>CommonContent</code> of the direct element constructor.</p>
<p><strong>Proposed fix</strong></p>
<p>My proposal is to replace the two-character tokens that introduce and terminate <code>StringInterpolation</code> with single backticks around an <code>EnclosedExpr</code> with no intervening whitespace:</p>
<pre><code>StringInterpolation ::= "`" EnclosedExpr "`"   /* ws: explicit */
</code></pre>
<p>This replaces both of the two-character delimiters of <code>StringInterpolation</code>, while still describing the intended language, but without causing the longest-token rule to produce a token that cannot be handled afterwards.</p>
</div></details></div>
<div class="toot" id="closed-1736"><h2>Issue #1736 closed<span class="toot-id"> #closed-1736</span></h2><div class="pubdate">15 Aug at 08:52:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1736">https://github.com/qt4cg/qtspecs/issues/1736</a></div><p>Add option retain-order=false when constructing maps</p></div>
<div class="toot" id="created-2168"><h2>Pull request #2168 created<span class="toot-id"> #created-2168</span></h2><div class="pubdate">14 Aug at 19:33:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2168">https://github.com/qt4cg/qtspecs/pull/2168</a></div><details><summary>2139 Make hexBinary and base64Binary fully comparable</summary><div class="markup"><p>Fix #2139</p>
<p>hexBinary and base64Binary become mutually comparable under all comparison operators: which may affect backward compatibility.</p>
</div></details></div>
<div class="toot" id="created-2167"><h2>Pull request #2167 created<span class="toot-id"> #created-2167</span></h2><div class="pubdate">14 Aug at 17:59:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2167">https://github.com/qt4cg/qtspecs/pull/2167</a></div><details><summary>2166 Reinstate lost text for lookup expressions</summary><div class="markup"><p>Fix #2166</p>
</div></details></div>
<div class="toot" id="created-2166"><h2>Issue #2166 created<span class="toot-id"> #created-2166</span></h2><div class="pubdate">14 Aug at 09:40:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2166">https://github.com/qt4cg/qtspecs/issues/2166</a></div><details><summary>Lookup expressions: we have deleted too much text</summary><div class="markup"><p>In reverting many of the features previously added to lookup expressions (for example deep lookup and lookup modifiers) we seem to have accidentally lost text that actually defines what the different key specifiers mean; we're left with lots of examples but no actual specification.</p>
<p>I was reading to see what the current spec says about array bound checking: it appears to say nothing.</p>
</div></details></div>
<div class="toot" id="created-2165"><h2>Issue #2165 created<span class="toot-id"> #created-2165</span></h2><div class="pubdate">14 Aug at 08:58:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2165">https://github.com/qt4cg/qtspecs/issues/2165</a></div><details><summary>Treat expression: inconsistencies, questionable uses</summary><div class="markup"><p>Related: Michael’s observation in https://github.com/qt4cg/qtspecs/issues/2163#issuecomment-3185618064.</p>
<p>The current spec says for <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#id-treat">treat</a>:</p>
<blockquote>
<p>XPath 4.0 provides an expression called treat that can be used to modify the <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#dt-static-type">static type</a> of its operand.</p>
</blockquote>
<p>It further mentions the static analysis phase, which has been removed from the specs; maybe we should remove these references.</p>
<p>There are hardly any uses of the expression in the current spec. One is for <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#id-absolute-path-expressions">Absolute Path Expressions</a>:</p>
<blockquote>
<p>An expression of the form <code>/PP</code> (that is, a <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#dt-path-expression">path expression</a> with a leading <code>/</code>) is treated as an abbreviation for the expression <code>self::gnode()/(fn:root(.) treat as (document-node()|jnode())/PP</code>.</p>
</blockquote>
<p>The use seems confusing, as in many cases <code>self::gnode()</code> can only be evaluated at runtime. Maybe we could rewrite it to a variant that coerces the node? It would generally be easier for optimizers to rewrite paths when there is no need to differentiate between treat and coercion (and I have never seen code that catches <code>XPDY0050</code>).</p>
<p>Indeed I think it would be helpful to have a <code>coerce to</code> expression, even if people will rarely use it explicitly. It would allow us to remove all remaining uses of <code>treat as</code> (except, of course, for the expression itself), and we could simplify various examples that use variable declarations only for coercing values.</p>
</div></details></div>
<div class="toot" id="created-2164"><h2>Pull request #2164 created<span class="toot-id"> #created-2164</span></h2><div class="pubdate">13 Aug at 13:51:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2164">https://github.com/qt4cg/qtspecs/pull/2164</a></div><details><summary>Fix return type in `fn:parse-csv` signature</summary><div class="markup"><p>In f2e1f48, <code>fn:parse-csv</code> was changed to return an empty sequence, when its first argument is an empty sequence. This is however not reflected in the function's return type, which is here changed to <code>parsed-csv-structure-record?</code>.</p>
</div></details></div>
<div class="toot" id="created-2163"><h2>Issue #2163 created<span class="toot-id"> #created-2163</span></h2><div class="pubdate">12 Aug at 21:45:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2163">https://github.com/qt4cg/qtspecs/issues/2163</a></div><details><summary>Method calls: `?&gt;` or` =?&gt;`</summary><div class="markup"><p>I propose using <code>=?&gt;</code> for method calls rather than <code>?&gt;</code></p>
<p>(a) I lilke the association with <code>=&gt;</code> to call a function item with an implicit first argument; <code>=?&gt;</code> combines selection of an item from a map (<code>?</code>) with function invocation (<code>=&gt;</code>)</p>
<p>(b) <code>?&gt;</code>, while technically unambiguous, smells strongly of XML processing instructions</p>
</div></details></div>
<div class="toot" id="closed-2100"><h2>Issue #2100 closed<span class="toot-id"> #closed-2100</span></h2><div class="pubdate">12 Aug at 21:32:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2100">https://github.com/qt4cg/qtspecs/issues/2100</a></div><p>JNodes: functions</p></div>
<div class="toot" id="closed-2149"><h2>Issue #2149 closed<span class="toot-id"> #closed-2149</span></h2><div class="pubdate">12 Aug at 21:32:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2149">https://github.com/qt4cg/qtspecs/pull/2149</a></div><p>2100 Make innermost, outermost, has-children, path apply to JNodes</p></div>
<div class="toot" id="created-2162"><h2>Pull request #2162 created<span class="toot-id"> #created-2162</span></h2><div class="pubdate">12 Aug at 20:54:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2162">https://github.com/qt4cg/qtspecs/pull/2162</a></div><details><summary>QT4CG-132-04 Expand the rectangle?area example</summary><div class="markup"><p>Expands the explanation of the example of method chaining</p>
</div></details></div>
<div class="toot" id="minutes—08-12"><h2>QT4 CG meeting 132 draft minutes<span class="toot-id"> #minutes—08-12</span></h2><div class="pubdate">12 Aug at 16:20:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2025/08-12">https://qt4cg.org/meeting/minutes/2025/08-12</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-2132"><h2>Issue #2132 closed<span class="toot-id"> #closed-2132</span></h2><div class="pubdate">12 Aug at 16:16:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2132">https://github.com/qt4cg/qtspecs/issues/2132</a></div><p>Error handling in and/or expressions</p></div>
<div class="toot" id="closed-2133"><h2>Issue #2133 closed<span class="toot-id"> #closed-2133</span></h2><div class="pubdate">12 Aug at 16:16:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2133">https://github.com/qt4cg/qtspecs/pull/2133</a></div><p>2132 error handling in logical expressions</p></div>
<div class="toot" id="closed-1996"><h2>Issue #1996 closed<span class="toot-id"> #closed-1996</span></h2><div class="pubdate">12 Aug at 16:14:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1996">https://github.com/qt4cg/qtspecs/issues/1996</a></div><p>Lookups, KeySpecifier: add NumericLiteral and ContextValueRef?</p></div>
<div class="toot" id="closed-2134"><h2>Issue #2134 closed<span class="toot-id"> #closed-2134</span></h2><div class="pubdate">12 Aug at 16:14:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2134">https://github.com/qt4cg/qtspecs/pull/2134</a></div><p>1996 Lookups, KeySpecifier: Literal, ContextValueRef</p></div>
<div class="toot" id="closed-2147"><h2>Issue #2147 closed<span class="toot-id"> #closed-2147</span></h2><div class="pubdate">12 Aug at 16:12:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2147">https://github.com/qt4cg/qtspecs/pull/2147</a></div><p>2143 Redesign of method calls</p></div>
<div class="toot" id="closed-2152"><h2>Issue #2152 closed<span class="toot-id"> #closed-2152</span></h2><div class="pubdate">12 Aug at 16:08:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2152">https://github.com/qt4cg/qtspecs/issues/2152</a></div><p>"x" is not an instance of enum("x")</p></div>
<div class="toot" id="closed-2154"><h2>Issue #2154 closed<span class="toot-id"> #closed-2154</span></h2><div class="pubdate">12 Aug at 16:08:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2154">https://github.com/qt4cg/qtspecs/pull/2154</a></div><p>2152 Revise rules for enumeration types</p></div>
<div class="toot" id="closed-2156"><h2>Issue #2156 closed<span class="toot-id"> #closed-2156</span></h2><div class="pubdate">12 Aug at 16:06:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2156">https://github.com/qt4cg/qtspecs/pull/2156</a></div><p>2092 Drop map:pair, map:of-pairs, map-pairs</p></div>
<div class="toot" id="closed-2135"><h2>Issue #2135 closed<span class="toot-id"> #closed-2135</span></h2><div class="pubdate">12 Aug at 16:04:15 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2135">https://github.com/qt4cg/qtspecs/pull/2135</a></div><p>QT4CG-131-01/02 Expand on example as actioned</p></div>
<div class="toot" id="closed-2136"><h2>Issue #2136 closed<span class="toot-id"> #closed-2136</span></h2><div class="pubdate">12 Aug at 16:02:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2136">https://github.com/qt4cg/qtspecs/issues/2136</a></div><p>Drop full-width angle brackets</p></div>
<div class="toot" id="closed-2137"><h2>Issue #2137 closed<span class="toot-id"> #closed-2137</span></h2><div class="pubdate">12 Aug at 16:02:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2137">https://github.com/qt4cg/qtspecs/pull/2137</a></div><p>2136 Drop full-width &lt; and &gt; symbols</p></div>
<div class="toot" id="closed-2141"><h2>Issue #2141 closed<span class="toot-id"> #closed-2141</span></h2><div class="pubdate">12 Aug at 15:59:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2141">https://github.com/qt4cg/qtspecs/pull/2141</a></div><p>Remove nested paragraphs</p></div>
<div class="toot" id="closed-2145"><h2>Issue #2145 closed<span class="toot-id"> #closed-2145</span></h2><div class="pubdate">12 Aug at 15:57:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2145">https://github.com/qt4cg/qtspecs/pull/2145</a></div><p>Allow implicit whitespace in StringInterpolation</p></div>
<div class="toot" id="closed-2146"><h2>Issue #2146 closed<span class="toot-id"> #closed-2146</span></h2><div class="pubdate">12 Aug at 15:56:15 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2146">https://github.com/qt4cg/qtspecs/pull/2146</a></div><p>Require at least one character in StringTemplateFixedPart</p></div>
<div class="toot" id="closed-1062"><h2>Issue #1062 closed<span class="toot-id"> #closed-1062</span></h2><div class="pubdate">12 Aug at 15:55:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1062">https://github.com/qt4cg/qtspecs/pull/1062</a></div><p>150bis revised proposal for fn:ranks</p></div>
<div class="toot" id="closed-150"><h2>Issue #150 closed<span class="toot-id"> #closed-150</span></h2><div class="pubdate">12 Aug at 15:55:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/150">https://github.com/qt4cg/qtspecs/issues/150</a></div><p>fn:ranks: Produce all ranks in applying a function on the items of a sequence</p></div></div><p>See 4405
            more statuses in yearly archives.</p></article></main></body></html>