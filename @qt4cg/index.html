<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-04-09"><h2>QT4 CG meeting 072 draft agenda<span class="toot-id"> #agenda-04-09</span></h2><div class="pubdate">08 Apr at 11:45:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/04-09">https://qt4cg.org/meeting/agenda/2024/04-09</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1138"><h2>Issue #1138 created<span class="toot-id"> #created-1138</span></h2><div class="pubdate">07 Apr at 23:01:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1138">https://github.com/qt4cg/qtspecs/issues/1138</a></div><details><summary>format-number arguments</summary><div class="markup"><p>Given the availability of choice item types, I propose that we merge the <code>format</code> and <code>format-name</code> parameters of <code>fn:format-number</code> into a single parameter of type <code>(xs:string | xs:QName | map(*))</code>. This seems a better design when parameters are mutually exclusive and perform a related role.</p>
</div></details></div>
<div class="toot" id="created-1137"><h2>Pull request #1137 created<span class="toot-id"> #created-1137</span></h2><div class="pubdate">07 Apr at 15:27:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1137">https://github.com/qt4cg/qtspecs/pull/1137</a></div><details><summary>161 Variadic functions</summary><div class="markup"><p>Fix #161</p>
<p>This proposal attempts to do the minimum necessary to allow the variable-arity nature of the fn:concat function to be reproduced for other functions including user-defined functions. The idea is that fn:concat should no longer be treated as a special case.</p>
<p>The proposal is deliberately less ambitious than some of the ideas discussed in the referenced issue. It's generally easier to get something into the language if we take smaller steps.</p>
<p>For an overview see section 4.5.3 of the XQuery spec.</p>
</div></details></div>
<div class="toot" id="created-1136"><h2>Issue #1136 created<span class="toot-id"> #created-1136</span></h2><div class="pubdate">07 Apr at 11:34:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1136">https://github.com/qt4cg/qtspecs/issues/1136</a></div><details><summary>Defining names for parameters on typed function tests</summary><div class="markup"><p>When defining the type of a higher-order function parameter, you cannot currently specify the names of the parameters of that higher-order function.</p>
<p>Allowing this can be useful for variou reasons:</p>
<ol>
<li>documenting the parameter names in the function signature -- this makes it clear looking at the function in an IDE, etc. what the parameters are;</li>
<li>making the specs clearer by referring to the parameters by name;</li>
<li>allowing a processor to provide better error messages by referring to the parameters names, e.g. when there is a type conversion error;</li>
<li>allowing a user to reference the parameter by name if we enable this to resolve named keyword argments (which is currently being discussed in #1114).</li>
</ol>
<p>Thus, you could declare e.g. <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-index-where">index-where</a> like this:</p>
<pre><code class="language-xquery">declare function fn:index-where(
  $input as&nbsp;item()*,
  $predicate as&nbsp;function(
    $item as item(),
    $position as xs:integer
  ) as xs:boolean
)&nbsp;as&nbsp;xs:integer* {
  (: ... :)
};
</code></pre>
</div></details></div>
<div class="toot" id="created-1135"><h2>Issue #1135 created<span class="toot-id"> #created-1135</span></h2><div class="pubdate">06 Apr at 12:08:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1135">https://github.com/qt4cg/qtspecs/issues/1135</a></div><details><summary>Definition of focus functions</summary><div class="markup"><p>§5.4.2.6 states</p>
<blockquote>
<p>The expression function { EXPR } (or fn { EXPR }) is a syntactic shorthand for the expression function($Z as item()<em>) as item()</em> { $Z ! (EXPR) }, where $Z is a variable name that is otherwise unused. Note that the function body (EXPR) is evaluated with a [fixed focus]: the context position and context size will always be 1 (one).</p>
</blockquote>
<p>This is no longer true now since generalization of the context item to context value. EXPR is evaluated once with the entire sequence $Z as the context value, it is not evaluated once for each item in $Z.</p>
<p>We have no direct way of expressing this in the absence of a resolution to issue #755.</p>
</div></details></div>
<div class="toot" id="created-1134"><h2>Pull request #1134 created<span class="toot-id"> #created-1134</span></h2><div class="pubdate">05 Apr at 15:45:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1134">https://github.com/qt4cg/qtspecs/pull/1134</a></div><details><summary>1133 Correct map:filter callback signature</summary><div class="markup"><p>Fix #1133</p>
</div></details></div>
<div class="toot" id="created-1133"><h2>Issue #1133 created<span class="toot-id"> #created-1133</span></h2><div class="pubdate">05 Apr at 15:23:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1133">https://github.com/qt4cg/qtspecs/issues/1133</a></div><details><summary>fn:filter why predicate as map(*)</summary><div class="markup"><p><code>fn:filter</code> is defined like this :</p>
<pre><code>map:filter(
  $map as map(*),	
  $predicate as function(xs:anyAtomicType, item()*) as map(*)	
) as map(*)
</code></pre>
<p>Why the predicate function is not returning a <code>xs:boolean</code> ?</p>
</div></details></div>
<div class="toot" id="created-1132"><h2>Pull request #1132 created<span class="toot-id"> #created-1132</span></h2><div class="pubdate">05 Apr at 11:26:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1132">https://github.com/qt4cg/qtspecs/pull/1132</a></div><details><summary>122 Choice item types (generalizing local union types)</summary><div class="markup"><p>Fix #122.</p>
<p>Allows the new item type syntax <code>(A | B)</code>, replacing <code>union(A, B)</code>; the alternatives are no longer restricted to be atomic types. The choice item type is a generalized atomic type if and only if all the alternatives are generalized atomic types.</p>
<p>Note that #122 also proposed unions of sequence types. While that is also viable, I found that unions of item types handled pretty well all practical use cases, and it seems excessive to offer both. Unions of item types proved (a) more useful (b) easier to combine with the existing feature of local union types, and (c) easier to handle in the coercion rules. Providing both is also tricky to handle in the grammar.</p>
</div></details></div>
<div class="toot" id="closed-1044"><h2>Issue #1044 closed<span class="toot-id"> #closed-1044</span></h2><div class="pubdate">04 Apr at 08:51:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1044">https://github.com/qt4cg/qtspecs/issues/1044</a></div><p>CSV row delimiter - allowed values</p></div>
<div class="toot" id="closed-1104"><h2>Issue #1104 closed<span class="toot-id"> #closed-1104</span></h2><div class="pubdate">04 Apr at 08:49:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1104">https://github.com/qt4cg/qtspecs/issues/1104</a></div><p>TypeTest expressions</p></div>
<div class="toot" id="created-1131"><h2>Pull request #1131 created<span class="toot-id"> #created-1131</span></h2><div class="pubdate">31 Mar at 22:29:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1131">https://github.com/qt4cg/qtspecs/pull/1131</a></div><details><summary>796,231 - Extend XPath for and let expressions</summary><div class="markup"><p>Fix #796
Fix #231</p>
<p>Extends "for" and "let" expressions in XPath to allow a larger subset of XQuery FLWOR expression syntax. Specifically:</p>
<ul>
<li>Allow positional variables (<code>at $pos</code>)</li>
<li>Allow type declarations (<code>as type</code>)</li>
<li>Allow let/for clauses to be mixed without an intervening <code>return</code>.</li>
</ul>
</div></details></div>
<div class="toot" id="closed-1122"><h2>Issue #1122 closed<span class="toot-id"> #closed-1122</span></h2><div class="pubdate">28 Mar at 14:10:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1122">https://github.com/qt4cg/qtspecs/issues/1122</a></div><p>Rendering xspecref</p></div>
<div class="toot" id="closed-1130"><h2>Issue #1130 closed<span class="toot-id"> #closed-1130</span></h2><div class="pubdate">28 Mar at 14:10:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1130">https://github.com/qt4cg/qtspecs/pull/1130</a></div><p>Fix xspecref to production</p></div>
<div class="toot" id="created-1130"><h2>Pull request #1130 created<span class="toot-id"> #created-1130</span></h2><div class="pubdate">28 Mar at 14:10:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1130">https://github.com/qt4cg/qtspecs/pull/1130</a></div><details><summary>Fix xspecref to production</summary><div class="markup"><p>Fix #1122</p>
<p>This is (apparently) the first use of an <code>xspecref</code> to a production.</p>
</div></details></div>
<div class="toot" id="closed-1129"><h2>Issue #1129 closed<span class="toot-id"> #closed-1129</span></h2><div class="pubdate">28 Mar at 13:22:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1129">https://github.com/qt4cg/qtspecs/pull/1129</a></div><p>Fix Norm's affiliation</p></div>
<div class="toot" id="created-1129"><h2>Pull request #1129 created<span class="toot-id"> #created-1129</span></h2><div class="pubdate">28 Mar at 13:22:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1129">https://github.com/qt4cg/qtspecs/pull/1129</a></div><details><summary>Fix Norm's affiliation</summary><div class="markup"><p>Someone preparing a QT4 status talk for a conference observed that my affiliation on the data model spec was out-of-date.</p>
<p>I'm just going to merge this one without any fanfare.</p>
</div></details></div>
<div class="toot" id="created-1128"><h2>Pull request #1128 created<span class="toot-id"> #created-1128</span></h2><div class="pubdate">28 Mar at 11:07:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1128">https://github.com/qt4cg/qtspecs/pull/1128</a></div><details><summary>1020 Further notes on the consequences of function coercion</summary><div class="markup"><p>Adds further notes an examples explaining the consequences of function coercion, especially when applied to maps and arrays. The new notes make it clear that test case MapTest-058 is incorrect; a map, once coerced to a function, cannot be used as a map.</p>
</div></details></div>
<div class="toot" id="created-1127"><h2>Issue #1127 created<span class="toot-id"> #created-1127</span></h2><div class="pubdate">28 Mar at 00:59:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1127">https://github.com/qt4cg/qtspecs/issues/1127</a></div><details><summary>Binary resources</summary><div class="markup"><p>We have some functions that accept binary input (parse-html, parse-csv) and others that don't (parse-xml, parse-json). There seems to be no obvious justification for the inconsistency.</p>
<p>Related to this:</p>
<p>(a) we have no functions to convert (encode/decode) between binary and string given an encoding</p>
<p>(b) we have no function to read a binary resource from a URI</p>
<p>Both of these are available in the EXPath bin library but should perhaps be promoted to the main spec.</p>
</div></details></div>
<div class="toot" id="closed-1039"><h2>Issue #1039 closed<span class="toot-id"> #closed-1039</span></h2><div class="pubdate">28 Mar at 00:24:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1039">https://github.com/qt4cg/qtspecs/issues/1039</a></div><p>Allow dynamic collations in XQuery "order by" and "group by"</p></div>
<div class="toot" id="closed-1092"><h2>Issue #1092 closed<span class="toot-id"> #closed-1092</span></h2><div class="pubdate">28 Mar at 00:24:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1092">https://github.com/qt4cg/qtspecs/pull/1092</a></div><p>1039 Add notes referring to fn:collation-key</p></div>
<div class="toot" id="closed-1100"><h2>Issue #1100 closed<span class="toot-id"> #closed-1100</span></h2><div class="pubdate">27 Mar at 23:59:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1100">https://github.com/qt4cg/qtspecs/pull/1100</a></div><p>99 fn:equal() function to compare sequences and arrays</p></div>
<div class="toot" id="closed-1113"><h2>Issue #1113 closed<span class="toot-id"> #closed-1113</span></h2><div class="pubdate">27 Mar at 22:18:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1113">https://github.com/qt4cg/qtspecs/issues/1113</a></div><p>Misleading rendering BiDi text in parse-integer example</p></div>
<div class="toot" id="closed-1126"><h2>Issue #1126 closed<span class="toot-id"> #closed-1126</span></h2><div class="pubdate">27 Mar at 14:34:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1126">https://github.com/qt4cg/qtspecs/pull/1126</a></div><p>1060 Minor fixes</p></div>
<div class="toot" id="created-1126"><h2>Pull request #1126 created<span class="toot-id"> #created-1126</span></h2><div class="pubdate">27 Mar at 14:34:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1126">https://github.com/qt4cg/qtspecs/pull/1126</a></div><details><summary>1060 Minor fixes</summary><div class="markup"><p>Whitespace, variable names, tests</p>
</div></details></div>
<div class="toot" id="closed-1121"><h2>Issue #1121 closed<span class="toot-id"> #closed-1121</span></h2><div class="pubdate">27 Mar at 14:13:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1121">https://github.com/qt4cg/qtspecs/pull/1121</a></div><p>1060 Formatting</p></div>
<div class="toot" id="created-1125"><h2>Pull request #1125 created<span class="toot-id"> #created-1125</span></h2><div class="pubdate">27 Mar at 12:26:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1125">https://github.com/qt4cg/qtspecs/pull/1125</a></div><details><summary>1094 Enhanced lookup expressions</summary><div class="markup"><p>Fix #1094</p>
<p>Lookup expressions (both deep and shallow) are enhanced in two ways:</p>
<p>(a) the syntax is extended to provide options that avoid flattening the result. For example <code>$V?pairs::K</code> delivers the result as a sequence of key-value pairs.</p>
<p>(b) a new KeySpecifier format is provided to filter the results by type. For example <code>$V??type(record(first, last))</code> selects all items in the recursive content that are of type <code>record(first, last)</code>. This replaces the previous syntax <code>$V??*::record(first, last)</code> which caused ambiguities with occurrence indicators.</p>
</div></details></div>
<div class="toot" id="closed-859"><h2>Issue #859 closed<span class="toot-id"> #closed-859</span></h2><div class="pubdate">27 Mar at 09:21:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/859">https://github.com/qt4cg/qtspecs/issues/859</a></div><p>Syntax problem with type-qualified wildcards in lookup expressions</p></div>
<div class="toot" id="closed-1106"><h2>Issue #1106 closed<span class="toot-id"> #closed-1106</span></h2><div class="pubdate">27 Mar at 09:21:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1106">https://github.com/qt4cg/qtspecs/pull/1106</a></div><p>859 lookup syntax problems</p></div>
<div class="toot" id="created-1124"><h2>Issue #1124 created<span class="toot-id"> #created-1124</span></h2><div class="pubdate">27 Mar at 08:46:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1124">https://github.com/qt4cg/qtspecs/issues/1124</a></div><details><summary>Formatting XPath/XQuery: Preferences, Conventions</summary><div class="markup"><p>In #1060, the formatting of code examples in the spec was unified. This issue is about discussing the formatting rules and (ideally) to define conventions for newly added code. If we don’t manage to define rules, the existing specs should provide enough examples for all syntactical constructs to be inspired by.</p>
<p>To start with, one suggestion in <a href="https://qt4cg.org/meeting/minutes/2024/03-26.html">yesterday’s meeting</a> was to choose a more compact presentation. Empty maps, empty arrays, and functions with an empty body are currently formatted as follows:</p>
<pre><code class="language-xquery">map { }, { },
array { }, [ ],
function { }, fn { }, fn($x) { }
</code></pre>
<p>We could remove the inner whitespace:</p>
<pre><code class="language-xquery">map {}, {},
array {}, [],
function {}, fn {}, fn($x) {}
</code></pre>
</div></details></div>
<div class="toot" id="created-1123"><h2>Pull request #1123 created<span class="toot-id"> #created-1123</span></h2><div class="pubdate">27 Mar at 08:36:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1123">https://github.com/qt4cg/qtspecs/pull/1123</a></div><details><summary>1118 Drop the "map" keyword in adaptive serialization output</summary><div class="markup"><p>Close #1118</p>
</div></details></div></div><p>See 2196
            more statuses in yearly archives.</p></article></main></body></html>