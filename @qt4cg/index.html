<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2025/">2025</a>, <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-12-09"><h2>QT4 CG meeting 145 draft agenda<span class="toot-id"> #agenda-12-09</span></h2><div class="pubdate">08 Dec at 11:00:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2025/12-09">https://qt4cg.org/meeting/agenda/2025/12-09</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-2335"><h2>Issue #2335 created<span class="toot-id"> #created-2335</span></h2><div class="pubdate">06 Dec at 13:45:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2335">https://github.com/qt4cg/qtspecs/issues/2335</a></div><details><summary>Make `jnode()` like `element()`</summary><div class="markup"><p>Is it possible to make the <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#doc-xpath40-JNodeType"><code>JNodeType</code></a> form similar to <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#doc-xpath40-ElementTest"><code>ElementTest</code></a> and <a href="https://qt4cg.org/specifications/xslt-40/Overview.html#jnode-patterns"><code>JNodePattern</code></a> (in XSLT)?</p>
<p><code>ElementTest</code> has the form:</p>
<pre><code class="language-abnf">ElementTest 	::= 	"element" "(" (NameTestUnion ("," TypeName "?"?)?)? ")"
NameTestUnion 	::= 	(NameTest ++ "|")
</code></pre>
<p>And <code>JNodePattern</code> currently has the form:</p>
<pre><code class="language-abnf">JNodePattern ::="jnode" "(" JNodePatternSelector "," JNodePatternContent ")" Predicate*
JNodePatternSelector 	::= 	"*" | NCName | Constant
</code></pre>
<p>But <code>JNodeType</code> has the form:</p>
<pre><code class="language-abnf">JNodeType 	::= 	"jnode" "(" SequenceType? ")"
</code></pre>
<p>I think, <strong>this introduces an inconsistency</strong>.</p>
<p>The expected forms are:</p>
<pre><code class="language-abnf">JNodePattern ::= JNodeType Predicate*
JNodeType 	::= 	"jnode" "(" (JNodePatternSelector ("," JNodePatternContent )? )? ")"
JNodePatternContent 	::= 	"*" | SequenceType
</code></pre>
<p>Probably, <code>JNodePatternContent</code> is not needed, since <code>JNodePattern</code> <code>jnode()</code> should be equal to <code>jnode(*,*)</code> in the current spec. Then, <code>SequenceType</code> should be used instead of <code>JNodePatternContent</code> in <code>JNodeType</code>:</p>
<pre><code class="language-abnf">JNodePattern ::= JNodeType Predicate*
JNodeType 	::= 	"jnode" "(" (JNodePatternSelector ("," SequenceType )? )? ")"
</code></pre>
<p>This form is not only more consistent, but also it provides a more concise way to select GNodes by matching both their <em>selector</em> property and their <code>jnode()</code> type:</p>
<ul>
<li><code>$g / jnode( foo )</code> will be equivalent to <code>$g / foo [ self::jnode() ]</code></li>
<li><code>$g / jnode( foo, xs:integer )</code> will be equivalent to <code>$g / foo [ self::jnode() ][ jnode-content() instance of xs:integer ]</code></li>
<li><code>$g / jnode( *, xs:integer )</code> will be equivalent to <code>$g / jnode() [ jnode-content() instance of xs:integer ]</code></li>
</ul>
<p>Probably, <code>JNodePatternSelector</code> can be changed to <code>JNodeSelectorUnion</code> to support unions like <code>NameTestUnion</code> in <code>ElementTest</code>:</p>
<pre><code class="language-abnf">JNodeType 	::= 	"jnode" "(" (JNodeSelectorUnion ("," SequenceType )? )? ")"
JNodeSelectorUnion ::= JNodeSelector ++ "|"
JNodeSelector ::= "*" | NCName | Constant
</code></pre>
<p>Side note: It appears that despite of the name <code>ElementTest</code>, an expression of the <code>ElementTest</code> production represents a <strong>type</strong>, the same as <code>JNodeType</code>.</p>
<hr>
<p>This topic was also discussed a bit in <a href="https://github.com/qt4cg/qtspecs/issues/2099#issuecomment-3104549916">#2099 (comment)</a>, and the analogy was mentioned in <a href="https://github.com/qt4cg/qtspecs/issues/2150#issue-3295735972:~:text=An%20analogy%20with%20element%28N%2C%20T%29%20might%20suggest%20match%3D%22jnode%28K%2C%20V%29%22%20where%20K%20constrains%20the%20selector%20property%20of%20the%20JNode%2C%20and%20V%20constrains%20its%20content%20property%2E">#2150</a>: "An analogy with <code>element(N, T)</code> might suggest <code>match="jnode(K, V)"</code> where <code>K</code> constrains the selector property of the JNode, and <code>V</code> constrains its content property".</p>
</div></details></div>
<div class="toot" id="created-2334"><h2>Issue #2334 created<span class="toot-id"> #created-2334</span></h2><div class="pubdate">05 Dec at 18:47:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2334">https://github.com/qt4cg/qtspecs/issues/2334</a></div><details><summary>XSLT: Parenthesized subexpressions within Patterns</summary><div class="markup"><p>We seem to have a problem with parenthesized subexpressions / sub patterns within a pattern.</p>
<p>We have an extra-grammatical rule:</p>
<blockquote>
<p>The content of any ParenthesizedPattern within an XNodePattern that contains a / or // operator (other than within a predicate) must itself parse as an XNodePattern.</p>
</blockquote>
<p>This appears to rule out parenthesized sub-expressions that contain both a "/" and a "|" operator, for example <code>a/(b/@x | c/@x)</code></p>
<p>The rule is obviously pretty bizarre, and the reason we have it is so that any XNodePattern is a syntactically valid XPath expression, which ensures that we can define the semantics of the pattern in terms of the semantics of XPath expressions.</p>
<p>Ideally we would have different productions for a parenthesised pattern at the top level, and a parenthesised expression within an XNodePattern, but we know that leads to ambiguities (or at any rate, a need for unbounded lookahead). But the current rule isn't an adequate solution.</p>
</div></details></div>
<div class="toot" id="closed-2333"><h2>Issue #2333 closed<span class="toot-id"> #closed-2333</span></h2><div class="pubdate">05 Dec at 00:08:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2333">https://github.com/qt4cg/qtspecs/issues/2333</a></div><p>Data Model: `dm:empty-sequence` signature</p></div>
<div class="toot" id="created-2333"><h2>Issue #2333 created<span class="toot-id"> #created-2333</span></h2><div class="pubdate">04 Dec at 23:02:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2333">https://github.com/qt4cg/qtspecs/issues/2333</a></div><details><summary>Data Model: `dm:empty-sequence` signature</summary><div class="markup"><p>In XQuery and XPath Data Model 4.0,
the section 3.2.1 <a href="https://qt4cg.org/specifications/xpath-datamodel-40/Overview.html#dm-empty-sequence">empty-sequence Constructor</a> defines <code>dm:empty-sequence()</code> as:</p>
<ul>
<li>
<blockquote>
<p><code>dm:empty-sequence() as item()*</code><br>
The <code>dm:empty-sequence</code> constructor returns a sequence containing no items.</p>
</blockquote>
</li>
</ul>
<p>Why is the return type specified as <code>item()*</code> and not <code>empty-sequence()</code>?   Is this an oversight or intentional?</p>
<p>Note that 4.2 <a href="https://qt4cg.org/specifications/xpath-datamodel-40/Overview.html#types-hierarchy">Type System</a> mentions a sequence of exactly zero items (emphasis mine):</p>
<ul>
<li>
<blockquote>
<p>[Definition: A sequence type constrains the set of permitted sequences, by defining the permitted <a href="https://qt4cg.org/specifications/xpath-datamodel-40/Overview.html#dt-item-type">item types</a> and the permitted number of items in the sequence (<strong>exactly zero</strong>, exactly one, zero-or-more, one-or-more, zero-or-one).]</p>
</blockquote>
</li>
</ul>
</div></details></div>
<div class="toot" id="created-2332"><h2>Pull request #2332 created<span class="toot-id"> #created-2332</span></h2><div class="pubdate">04 Dec at 19:00:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2332">https://github.com/qt4cg/qtspecs/pull/2332</a></div><details><summary>2195 Misc XSLT editorial fixes</summary><div class="markup"><p>Addresses issues raised in issue #2195</p>
</div></details></div>
<div class="toot" id="created-2331"><h2>Pull request #2331 created<span class="toot-id"> #created-2331</span></h2><div class="pubdate">04 Dec at 12:32:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2331">https://github.com/qt4cg/qtspecs/pull/2331</a></div><details><summary>2330 In XSLT Patterns, allow Constants rather than Literals</summary><div class="markup"><p>Fix #2330</p>
</div></details></div>
<div class="toot" id="created-2330"><h2>Issue #2330 created<span class="toot-id"> #created-2330</span></h2><div class="pubdate">04 Dec at 11:53:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2330">https://github.com/qt4cg/qtspecs/issues/2330</a></div><details><summary>XSLT Pattern Syntax: in ArgumentP, generalize Literal to Constant</summary><div class="markup"><p>In the XSLT pattern syntax, an ArgumentP is constrained to be either a variable reference or a Literal.</p>
<p>Elsewhere in the pattern syntax, we allow a Constant rather than a Literal. A Constant additionally allows (a) a negative number, and (b) true() and false().</p>
<p>ArgumentP is used where the pattern starts with a function call, which must be one of doc(), id(), element-with-id(), key(), or root(). Of these only key() can take a non-string argument, and it's unlikely that booleans or negative numbers will be useful very often, but it's worth making the change in the interests of consistency.</p>
</div></details></div>
<div class="toot" id="created-2329"><h2>Pull request #2329 created<span class="toot-id"> #created-2329</span></h2><div class="pubdate">03 Dec at 23:45:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2329">https://github.com/qt4cg/qtspecs/pull/2329</a></div><details><summary>2327 Rename sequence-join as intersperse</summary><div class="markup"><p>Reverts the function to its original name.</p>
<p>The name <code>sequence-join</code> seems to be based on a false analogy with string-join (which joins multiple strings with an optional separator) and array-join (which joins multiple arrays with an optional separator). The sequence-join function is quite different, it does not join multiple sequences. The name <code>intersperse</code> far better describes what the function actually does.</p>
</div></details></div>
<div class="toot" id="created-2328"><h2>Pull request #2328 created<span class="toot-id"> #created-2328</span></h2><div class="pubdate">03 Dec at 20:35:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2328">https://github.com/qt4cg/qtspecs/pull/2328</a></div><details><summary>2326 Expand spec of new `cdata` attribute</summary><div class="markup"><p>Fix #2326</p>
</div></details></div>
<div class="toot" id="closed-2288"><h2>Issue #2288 closed<span class="toot-id"> #closed-2288</span></h2><div class="pubdate">03 Dec at 17:00:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2288">https://github.com/qt4cg/qtspecs/issues/2288</a></div><p>XSLT implicit document nodes</p></div>
<div class="toot" id="created-2327"><h2>Issue #2327 created<span class="toot-id"> #created-2327</span></h2><div class="pubdate">02 Dec at 23:08:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2327">https://github.com/qt4cg/qtspecs/issues/2327</a></div><details><summary>Name of sequence-join() function</summary><div class="markup"><p>I had some trouble finding the <code>sequence-join</code> function because I couldn't remember what we ended up callling it.</p>
<p>The name seems very poorly chosen for a function that doesn't join sequences. It was chosen, I'm sure, by analogy with string-join(), but whereas <code>string-join</code> does actually join multiple strings, and <code>array-join</code> joins multiple arrays, <code>sequence-join</code> does not join multiple sequences. The old name <code>intersperse</code> seems better.</p>
<p>That's assuming we need the function at all -- it seems of fairly modest value.</p>
</div></details></div>
<div class="toot" id="created-2326"><h2>Issue #2326 created<span class="toot-id"> #created-2326</span></h2><div class="pubdate">02 Dec at 20:49:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2326">https://github.com/qt4cg/qtspecs/issues/2326</a></div><details><summary>xsl:text/@cdata edge cases and interactions</summary><div class="markup"><p>During review of the CDATA proposal today it was suggested that we should offer some rules or at least guidance on the interaction of <code>xsl:text/@cdata</code> with other features:</p>
<ul>
<li>Sequence normalization (esp merging of adjacent text nodes)</li>
<li><code>cdata-section-elements</code></li>
<li>Unicode normalisation</li>
<li>character maps</li>
</ul>
</div></details></div>
<div class="toot" id="minutes-12-02"><h2>QT4 CG meeting 144 draft minutes<span class="toot-id"> #minutes-12-02</span></h2><div class="pubdate">02 Dec at 17:15:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2025/12-02">https://qt4cg.org/meeting/minutes/2025/12-02</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-2256"><h2>Issue #2256 closed<span class="toot-id"> #closed-2256</span></h2><div class="pubdate">02 Dec at 17:08:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2256">https://github.com/qt4cg/qtspecs/pull/2256</a></div><p>2216 All atomic types become ordered</p></div>
<div class="toot" id="closed-2301"><h2>Issue #2301 closed<span class="toot-id"> #closed-2301</span></h2><div class="pubdate">02 Dec at 17:06:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2301">https://github.com/qt4cg/qtspecs/pull/2301</a></div><p>2198 Add cdata attribute to xsl:text and xsl:value-of</p></div>
<div class="toot" id="closed-2280"><h2>Issue #2280 closed<span class="toot-id"> #closed-2280</span></h2><div class="pubdate">02 Dec at 17:04:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2280">https://github.com/qt4cg/qtspecs/issues/2280</a></div><p>Usability problems with xsl:array-member</p></div>
<div class="toot" id="closed-2281"><h2>Issue #2281 closed<span class="toot-id"> #closed-2281</span></h2><div class="pubdate">02 Dec at 17:04:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2281">https://github.com/qt4cg/qtspecs/pull/2281</a></div><p>2280 Usability of xsl:array-member</p></div>
<div class="toot" id="closed-2311"><h2>Issue #2311 closed<span class="toot-id"> #closed-2311</span></h2><div class="pubdate">02 Dec at 17:02:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2311">https://github.com/qt4cg/qtspecs/issues/2311</a></div><p>XSLT default priorities for patterns</p></div>
<div class="toot" id="closed-2319"><h2>Issue #2319 closed<span class="toot-id"> #closed-2319</span></h2><div class="pubdate">02 Dec at 17:02:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2319">https://github.com/qt4cg/qtspecs/pull/2319</a></div><p>2311 Change default XSLT pattern priorities</p></div>
<div class="toot" id="closed-2317"><h2>Issue #2317 closed<span class="toot-id"> #closed-2317</span></h2><div class="pubdate">02 Dec at 16:59:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2317">https://github.com/qt4cg/qtspecs/issues/2317</a></div><p>Arguments of fn:civil-timezone</p></div>
<div class="toot" id="closed-2318"><h2>Issue #2318 closed<span class="toot-id"> #closed-2318</span></h2><div class="pubdate">02 Dec at 16:59:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2318">https://github.com/qt4cg/qtspecs/pull/2318</a></div><p>2317 Correct signature of fn:civil-timezone</p></div>
<div class="toot" id="closed-2310"><h2>Issue #2310 closed<span class="toot-id"> #closed-2310</span></h2><div class="pubdate">02 Dec at 16:57:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2310">https://github.com/qt4cg/qtspecs/issues/2310</a></div><p>Inconsistency in XPath description of // expansion</p></div>
<div class="toot" id="closed-2320"><h2>Issue #2320 closed<span class="toot-id"> #closed-2320</span></h2><div class="pubdate">02 Dec at 16:57:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2320">https://github.com/qt4cg/qtspecs/pull/2320</a></div><p>2310 Reinstate spec for infix // operator</p></div>
<div class="toot" id="agenda-12-02"><h2>QT4 CG meeting 144 draft agenda<span class="toot-id"> #agenda-12-02</span></h2><div class="pubdate">01 Dec at 11:40:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2025/12-02">https://qt4cg.org/meeting/agenda/2025/12-02</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-2325"><h2>Issue #2325 created<span class="toot-id"> #created-2325</span></h2><div class="pubdate">01 Dec at 11:13:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2325">https://github.com/qt4cg/qtspecs/issues/2325</a></div><details><summary>Specify evaluation more tight and more formal to disallow unsane cases</summary><div class="markup"><blockquote>
<blockquote>
<blockquote>
<p>I think it's very hard to change the spec to disallow over-optimization of a construct like <code>if ($x &gt; 0) then "positive" else error()</code></p>
</blockquote>
<p>Could you please clarify which over-optimization do you mean?</p>
</blockquote>
<p>Technically a processor can determine when it starts evaluating this expression that the only possible outcome is either the string "positive" or an error, and it can therefore return "positive" immediately.</p>
<p>We just have to assume that no sane implementor is going to do that. I can't see an easy way to change the rules to mandate this.</p>
</blockquote>
<p><em>Originally posted by @michaelhkay in <a href="https://github.com/qt4cg/qtspecs/issues/2314#issuecomment-3595888452">#2314</a></em></p>
<p>This is about the rule from 2.5.4 <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#id-errors-and-opt">Errors and Optimization</a>:</p>
<ul>
<li>
<blockquote>
<p>if [...] there are only two possible outcomes of evaluating <em>Q</em>, namely the value <em>V</em> or an error, then the processor may deliver the result <em>V</em> without evaluating further items in the operand <em>E</em>.</p>
</blockquote>
</li>
</ul>
<p>In a filtering expression <code>E[ P ]</code>, this rule allows to filter out those items in <em>E</em>, examining of which raises an error.</p>
<p>What are negative consequences if  the rules are changed so an error during obtaining an item from <em>E</em> cannot be ignored, but an error during examining an item in <em>P</em> may be interpreted as false() (i.e., the item may be filtered out) ?</p>
</div></details></div>
<div class="toot" id="created-2324"><h2>Pull request #2324 created<span class="toot-id"> #created-2324</span></h2><div class="pubdate">01 Dec at 09:32:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2324">https://github.com/qt4cg/qtspecs/pull/2324</a></div><details><summary>2278 bin:infer-encoding, bin:decode-string</summary><div class="markup"><ul>
<li>The latest version of <code>bin:decode-string</code> takes advantage of <code>bin:part</code> and passes a supplied encoding to <code>bin:infer-encoding</code>.</li>
<li><code>bin:infer-encoding</code> accepts an optional encoding argument, which is considered when chosing the effective encoding.</li>
</ul>
<p>Closes #2278</p>
</div></details></div>
<div class="toot" id="created-2323"><h2>Pull request #2323 created<span class="toot-id"> #created-2323</span></h2><div class="pubdate">30 Nov at 20:53:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2323">https://github.com/qt4cg/qtspecs/pull/2323</a></div><details><summary>2322 Generalize simplified stylesheets</summary><div class="markup"><p>Fix #2322</p>
</div></details></div>
<div class="toot" id="created-2322"><h2>Issue #2322 created<span class="toot-id"> #created-2322</span></h2><div class="pubdate">30 Nov at 13:53:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2322">https://github.com/qt4cg/qtspecs/issues/2322</a></div><details><summary>Relax the rules for simplified stylesheets</summary><div class="markup"><p>Simplified stylesheets are currently constrained to have a literal result element as the outermost element. There's no real reason for this: we could allow any instruction. For generating JSON, <code>xsl:array</code> or <code>xsl:map</code> would be reasonable choices.</p>
<p>Perhaps we could also change the spec of <code>xsl:result-document</code> to allow serialization parameters such as <code>method="json"</code> to be used for a simplified stylesheet: that doesn't work currently because <code>xsl:result-document</code> always creates an XML document node. An "as" attribute with similar semantics to <code>xsl:variable</code> might work.</p>
<p>Defining the implicit template rule for a simplified stylesheet to use <code>match="."</code> rather than <code>match="/"</code> would also allow them to take parsed JSON documents as input.</p>
</div></details></div>
<div class="toot" id="created-2321"><h2>Issue #2321 created<span class="toot-id"> #created-2321</span></h2><div class="pubdate">30 Nov at 12:29:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2321">https://github.com/qt4cg/qtspecs/issues/2321</a></div><details><summary>Make `fn:trace` non-deterministic</summary><div class="markup"><p>The function <code>fn:trace</code> is currently defined as deterministic. I think we should change this, as it is side-effecting. Next, if someone writes…</p>
<pre><code class="language-xquery">let $x := trace('x')
for $i in 1 to 10
return $x
</code></pre>
<p>…optimizers should not be motivated to rewrite it to…</p>
<pre><code class="language-xquery">for $i in 1 to 10
return trace('x')
</code></pre>
<p>…or vice versa.</p>
<p>Even if the specifiation does not clarify how optimization differs for (non)deterministic code, it is obvious that the rewriting above would not be allowed for a node constructor (which is non-deterministic with respect to node identity).</p>
</div></details></div></div><p>See 4768
            more statuses in yearly archives.</p></article></main></body></html>