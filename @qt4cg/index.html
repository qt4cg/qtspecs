<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2026/">2026</a>, <a href="2025/">2025</a>, <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-01-20"><h2>QT4 CG meeting 149 draft agenda<span class="toot-id"> #agenda-01-20</span></h2><div class="pubdate">19 Jan at 13:40:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2026/01-20">https://qt4cg.org/meeting/agenda/2026/01-20</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-2386"><h2>Issue #2386 closed<span class="toot-id"> #closed-2386</span></h2><div class="pubdate">19 Jan at 13:11:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2386">https://github.com/qt4cg/qtspecs/pull/2386</a></div><p>Add namespace declaration to environment for generated tests</p></div>
<div class="toot" id="created-2387"><h2>Pull request #2387 created<span class="toot-id"> #created-2387</span></h2><div class="pubdate">16 Jan at 01:03:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2387">https://github.com/qt4cg/qtspecs/pull/2387</a></div><details><summary>641 NaN/Infinity in JSON</summary><div class="markup"><p>Addresses part of issue #641</p>
<p>In the JSON serialization method, NaN is output as <code>null</code>, and infinity is output as <code>±1e9999</code>.</p>
<p>The parse-json function adds recommendations on how to achieve round-tripping of these values.</p>
</div></details></div>
<div class="toot" id="created-2386"><h2>Pull request #2386 created<span class="toot-id"> #created-2386</span></h2><div class="pubdate">15 Jan at 17:55:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2386">https://github.com/qt4cg/qtspecs/pull/2386</a></div><details><summary>Add namespace declaration to environment for generated tests</summary><div class="markup"><p>Changes the stylesheet for generating keyword and function signature tests so that the namespace prefix "output" is explicitly declared in the test environment. This prefix is used in one of the tests and it needs to be declared if the test is to work in XPath.</p>
</div></details></div>
<div class="toot" id="created-2385"><h2>Issue #2385 created<span class="toot-id"> #created-2385</span></h2><div class="pubdate">15 Jan at 13:59:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2385">https://github.com/qt4cg/qtspecs/issues/2385</a></div><details><summary>The XML version of the XPath spec isn't the XML version of the spec, it's HTML</summary><div class="markup"><p>Probably XQuery too. I have no idea why.</p>
</div></details></div>
<div class="toot" id="created-2384"><h2>Issue #2384 created<span class="toot-id"> #created-2384</span></h2><div class="pubdate">15 Jan at 11:09:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2384">https://github.com/qt4cg/qtspecs/issues/2384</a></div><details><summary>`fn:xsd-validator` - attribute nodes</summary><div class="markup"><p>The type signature of the xsd-validator function suggests that it can be used to validate attribute nodes (as well as documents and elements), and the prose description concurs with this. However the function summary says "can be invoked to validate a document or element node against this schema."</p>
<p>Test case xsd-validator-092 expects an attribute node to be rejected.</p>
<p>Also the Notes in the specification say</p>
<blockquote>
<p>The validation process is explained in more detail in the XQuery ([[XQuery 4.0: An XML Query Language]] section [4.25 Validate Expressions] and XSLT ([[XSL Transformations (XSLT) Version 4.0]] section [25.4 Validation]</p>
</blockquote>
<p>but the detailed description has since been moved to F&amp;O 17.2.4.</p>
<p>Note that XSLT has always allowed validation of free-standing attribute nodes, but the <code>validate</code> expression in XQuery allows only document and element nodes.</p>
</div></details></div>
<div class="toot" id="created-2383"><h2>Pull request #2383 created<span class="toot-id"> #created-2383</span></h2><div class="pubdate">14 Jan at 11:41:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2383">https://github.com/qt4cg/qtspecs/pull/2383</a></div><details><summary>Attempt to resolve action QT4CG-148-01</summary><div class="markup"><p>Per #2315:</p>
<ol>
<li>Added ‘at-risk’ changes to the fn:insert-separator, array:members, and array:of-members</li>
<li>Added ‘at-risk’ changes to the XPath/XQuery section on map and array filtering</li>
<li>Added a note about what ‘at risk’ means to the status sections</li>
</ol>
</div></details></div>
<div class="toot" id="closed-2382"><h2>Issue #2382 closed<span class="toot-id"> #closed-2382</span></h2><div class="pubdate">14 Jan at 11:34:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2382">https://github.com/qt4cg/qtspecs/pull/2382</a></div><p>Tool changes for action QT4CG-148-01</p></div>
<div class="toot" id="created-2382"><h2>Pull request #2382 created<span class="toot-id"> #created-2382</span></h2><div class="pubdate">14 Jan at 11:34:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2382">https://github.com/qt4cg/qtspecs/pull/2382</a></div><details><summary>Tool changes for action QT4CG-148-01</summary><div class="markup"><p>These should have no effect without additional commits, but they have to be merged into main in order to have a visible effect on my subsequent PR.</p>
</div></details></div>
<div class="toot" id="closed-573"><h2>Issue #573 closed<span class="toot-id"> #closed-573</span></h2><div class="pubdate">13 Jan at 23:08:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/573">https://github.com/qt4cg/qtspecs/issues/573</a></div><p>Node construction functions</p></div>
<div class="toot" id="closed-2124"><h2>Issue #2124 closed<span class="toot-id"> #closed-2124</span></h2><div class="pubdate">13 Jan at 23:07:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2124">https://github.com/qt4cg/qtspecs/pull/2124</a></div><p>573 Functions to Construct Trees</p></div>
<div class="toot" id="minutes-01-13"><h2>QT4 CG meeting 148 draft minutes<span class="toot-id"> #minutes-01-13</span></h2><div class="pubdate">13 Jan at 17:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2026/01-13">https://qt4cg.org/meeting/minutes/2026/01-13</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-2357"><h2>Issue #2357 closed<span class="toot-id"> #closed-2357</span></h2><div class="pubdate">13 Jan at 17:19:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2357">https://github.com/qt4cg/qtspecs/issues/2357</a></div><p>element() vs element(*) in function signatures</p></div>
<div class="toot" id="closed-2358"><h2>Issue #2358 closed<span class="toot-id"> #closed-2358</span></h2><div class="pubdate">13 Jan at 17:19:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2358">https://github.com/qt4cg/qtspecs/pull/2358</a></div><p>2357 Standardize on element() rather than element(*)</p></div>
<div class="toot" id="closed-2367"><h2>Issue #2367 closed<span class="toot-id"> #closed-2367</span></h2><div class="pubdate">13 Jan at 17:17:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2367">https://github.com/qt4cg/qtspecs/issues/2367</a></div><p>Documentation for new main-module attribute of xsl:stylesheet</p></div>
<div class="toot" id="closed-2366"><h2>Issue #2366 closed<span class="toot-id"> #closed-2366</span></h2><div class="pubdate">13 Jan at 17:17:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2366">https://github.com/qt4cg/qtspecs/issues/2366</a></div><p>json-lines attribute for xsl:output and xl:result-document in XSLT spec</p></div>
<div class="toot" id="closed-2356"><h2>Issue #2356 closed<span class="toot-id"> #closed-2356</span></h2><div class="pubdate">13 Jan at 17:17:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2356">https://github.com/qt4cg/qtspecs/issues/2356</a></div><p>Clarification on scope of variables in xsl:for-each-group/(@split-when|@merge-when)</p></div>
<div class="toot" id="closed-2368"><h2>Issue #2368 closed<span class="toot-id"> #closed-2368</span></h2><div class="pubdate">13 Jan at 17:17:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2368">https://github.com/qt4cg/qtspecs/pull/2368</a></div><p>2367 Misc XSLT editorial fixes</p></div>
<div class="toot" id="closed-2369"><h2>Issue #2369 closed<span class="toot-id"> #closed-2369</span></h2><div class="pubdate">13 Jan at 17:16:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2369">https://github.com/qt4cg/qtspecs/issues/2369</a></div><p>F+O section 11 is empty</p></div>
<div class="toot" id="closed-2371"><h2>Issue #2371 closed<span class="toot-id"> #closed-2371</span></h2><div class="pubdate">13 Jan at 17:16:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2371">https://github.com/qt4cg/qtspecs/pull/2371</a></div><p>2369 Add content for F&amp;O section 11 (Processing binary values)</p></div>
<div class="toot" id="closed-2375"><h2>Issue #2375 closed<span class="toot-id"> #closed-2375</span></h2><div class="pubdate">13 Jan at 17:13:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2375">https://github.com/qt4cg/qtspecs/pull/2375</a></div><p>2195 Editorial Omnibus</p></div>
<div class="toot" id="closed-1591"><h2>Issue #1591 closed<span class="toot-id"> #closed-1591</span></h2><div class="pubdate">13 Jan at 17:12:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1591">https://github.com/qt4cg/qtspecs/issues/1591</a></div><p>Implausible filter expressions</p></div>
<div class="toot" id="closed-1934"><h2>Issue #1934 closed<span class="toot-id"> #closed-1934</span></h2><div class="pubdate">13 Jan at 17:12:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1934">https://github.com/qt4cg/qtspecs/issues/1934</a></div><p>Supporting RELAX NG validation</p></div>
<div class="toot" id="closed-2377"><h2>Issue #2377 closed<span class="toot-id"> #closed-2377</span></h2><div class="pubdate">13 Jan at 17:11:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2377">https://github.com/qt4cg/qtspecs/pull/2377</a></div><p>2195 F+O Editorial Corrections</p></div>
<div class="toot" id="created-2381"><h2>Issue #2381 created<span class="toot-id"> #created-2381</span></h2><div class="pubdate">13 Jan at 13:37:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2381">https://github.com/qt4cg/qtspecs/issues/2381</a></div><details><summary>Add facility to serialize binary values as url-safe base64 encoded strings</summary><div class="markup"><p>In XQuery 3.1 there are two XDM types to represent binary values <code>xs:base64binary</code> and <code>xs:hexBinary</code>.
The current draft adds binary literals as an additional option.</p>
<p>Thus, it is possible to base64 encode any value by casting a xs:base64binary to a xs:string.</p>
<pre><code class="language-xquery">xs:base64Binary("+w==") =&gt; xs:string()
</code></pre>
<p>There is no standard way to serialize those binary values to the URL safe variant of that encoding described in <a href="https://datatracker.ietf.org/doc/html/rfc4648#section-5">section 5 of RFC 4648</a>.</p>
<p>The simplest workaround is replacing the unsafe characters of the alphabet (<code>+</code> and <code>/</code>) and dropping the padding at the end with</p>
<pre><code class="language-xquery">xs:base64Binary("+w==") =&gt; translate("+/=", "-_")
</code></pre>
<p>This of course will only work for relatively small binary values. In order for processors to offer a performant and efficient way I see several options.</p>
<ol>
<li>adding new type <code>xs:base64BinaryUrlSafe</code> whose string representation uses the adapted alphabet with <code>-</code> and <code>_</code> and does not add padding at the end</li>
<li>a new function in fn namespace <code>fn:encode-base64-url-safe($data as (xs:string | xs:base64Binary | xs:hexBinary)) as xs:string</code></li>
<li>a new function in bin namespace <code>bin:encode-base64-url-safe($data as (xs:string | xs:base64Binary | xs:hexBinary)) as xs:string</code></li>
<li>add an <strong>output option</strong> that will serialize all binary values to base64 url-safe when cast to strings</li>
</ol>
<p>Addendum</p>
<p>I am also wondering why binary values cannot be created from numeric literals. Especially now that we have the binary notation for integer literals and the xs:integer type is unbounded this would be a perfectly fine literal notation to create binary values from. At least as suitable as string literals that are currently allowed.</p>
<p><code>xs:hexBinary(0xfb)</code> and <code>xs:base64Binary(0b11111111)</code></p>
</div></details></div>
<div class="toot" id="created-2380"><h2>Issue #2380 created<span class="toot-id"> #created-2380</span></h2><div class="pubdate">13 Jan at 01:22:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2380">https://github.com/qt4cg/qtspecs/issues/2380</a></div><details><summary>Use Case for Generators: News Feeds Aggregation Using Generators</summary><div class="markup"><p>In response to:
<code>QT4CG-147-02: NW to chase up DN and LQ about follow-up to the generator discussion</code></p>
<hr>
<h1>Use Case: News Feeds Aggregation Using Generators</h1>
<h2>Contents</h2>
<h3>Use Case: News Feeds Aggregation Using Generators</h3>
<ul>
<li>Actors</li>
<li>Goals</li>
<li>Functional Requirements</li>
<li>Constraints / Assumptions / Preconditions</li>
<li>Proposed High-Level Solution</li>
<li>Known Approaches that are Problematic</li>
<li>Benefits of the Generators Approach</li>
<li>End-to-End Flow
<ul>
<li>Brief Description of the Core Processes in the Pipeline</li>
<li>Notes on the Process Pipeline</li>
</ul>
</li>
<li>Why This Fits the Generator Datatype Extremely Well</li>
<li>Alternative Flows
<ul>
<li>Alternative Flow-1: A Feed Temporarily Stops Producing New Items</li>
<li>Alternative Flow-2: Partial Consumption of the Pipeline</li>
<li>Alternative Flow-3: Editor Inserts or Reorders Items	11</li>
</ul>
</li>
<li>Exception Flows
<ul>
<li>Exception Flow-1: Feed Unreachable or Network Failure</li>
<li>Exception Flow-2: Malformed Feed Data</li>
<li>Exception Flow-3: Resource Exhaustion Risk</li>
</ul>
</li>
<li>Postconditions</li>
<li>References</li>
</ul>
<hr>
<h2>The Problem</h2>
<p>Modern RSS/JSON aggregators must process hundreds of continuously updating feeds without excessive memory usage or latency, while supporting filtering, merging, and prioritization in real time.</p>
<hr>
<h2>Actors</h2>
<ul>
<li><strong>End-User</strong></li>
<li><strong>Editor</strong></li>
<li><strong>Administrator</strong></li>
<li><strong>System components</strong> (internal processes acting as secondary actors)</li>
<li><strong>External services</strong> (RSS providers, APIs, social signals)</li>
</ul>
<hr>
<h2>Goals</h2>
<ul>
<li>
<p><strong>End-User</strong><br>
“As a user, I want to get the latest, up-to-the-minute news from many important sources. I want each brief news item to be presented with a link to more detailed information from the original source.”</p>
</li>
<li>
<p><strong>Editor</strong><br>
“As an editor, I want to be alerted to any change in the aggregated news-stream, as it happens continuously, and to have powerful ways of inserting, reordering, appending, prepending  or deleting one or more news-items.”</p>
</li>
<li>
<p><strong>Administrator</strong><br>
“As an administrator, I want to start, stop, or restart the system, manage the configured feeds, and monitor operational health and error conditions.”</p>
</li>
</ul>
<hr>
<h2>Functional Requirements</h2>
<ul>
<li>Consume RSS / Atom / JSON-LD feeds incrementally</li>
<li>Filter items by topic or sensitivity</li>
<li>Merge multiple feeds chronologically</li>
<li>Produce continuously updated summaries</li>
</ul>
<hr>
<h2>Constraints / Assumptions / Preconditions</h2>
<h3>Assumptions</h3>
<ul>
<li>Feeds may be large or unbounded</li>
<li>Items arrive over time</li>
</ul>
<h3>Constraint</h3>
<ul>
<li>Memory usage must remain bounded</li>
</ul>
<h3>Preconditions</h3>
<ul>
<li>At least one news feed is configured</li>
<li>Feeds are RSS or JSON-LD and timestamped</li>
<li>Items within a feed are presented in reverse-chronological order</li>
<li>Each item contains a content-link or optionally -  inline content</li>
<li>Items may belong to multiple categories</li>
</ul>
<hr>
<h2>Proposed High-Level Solution</h2>
<p>Each feed is modeled as a <strong>generator</strong> producing yield values lazily.<br>
The ordered set of values produced by successive, demand-driven calls to <code>move-next()</code> is called the <strong>yield of the generator</strong>.</p>
<h2>A generator’s yield may be finite or infinite, and may be empty for a given generator instance without implying exhaustion of the underlying data source.</h2>
<h2>Known Approaches That Are Problematic</h2>
<p>These approaches require full materialization in memory:</p>
<ul>
<li>Eager sequences (XPath)</li>
<li>DOM-style loading</li>
<li>Materialized feeds</li>
</ul>
<hr>
<h2>Benefits of the Generators Approach</h2>
<ul>
<li>Bounded memory usage</li>
<li>Low latency</li>
<li>Composability</li>
<li>Deterministic control of evaluation</li>
</ul>
<hr>
<h2>End-to-End Flow</h2>
<pre><code class="language-text">+-------------------------------+
| 1. Feed Fetching              |
| Input:  external providers    |
| Output: G_rawItems            |
+---------------+---------------+
                |
+---------------v---------------+
| 2. Normalization              |
| Input:  G_rawItems            |
| Output: G_normalizedItems     |
+---------------+---------------+
                |
+---------------v---------------+
| 3. Filtering                  |  &lt;-- unwanted content removed
| Input:  G_normalizedItems     |
| Output: G_filteredItems       |
+---------------+---------------+
                |
+---------------v---------------+
| 4. Topic Classification       |
| Input:  G_filteredItems       |
| Output: G_classifiedItems     |
+---------------+---------------+
                |
+---------------v---------------+
| 5. Clustering                 |
| Input:  G_classifiedItems     |
| Output: G_clusteredItems      |
+---------------+---------------+
                |
+---------------v---------------+
| 6. Ranking                    |
| Input:  G_clusteredItems      |
| Output: G_rankedItems         |
+---------------+---------------+
                |
+---------------v---------------+
| 7. Summary Page Generation    |
| Input:  G_rankedItems         |
| Output: G_summaryPageItems,   |
|         HTML                  |
+---------------+---------------+
                |
+---------------v---------------+
| 8. Detail Page Generation     |
| Input:  G_summaryPageItems    |
| Output: HTML Detail Pages     |
+-------------------------------+
</code></pre>
<h2>Remarks</h2>
<ol>
<li>The participating generator instances are named using the convention <code>G_{name}</code>.</li>
<li>Every stage except the final one produces a new generator.</li>
<li>Every stage except the very first uses a generator as its input.</li>
<li>Arrow semantics: the output generator of one stage is the input for the next stage.</li>
</ol>
<hr>
<h2>Brief Description of the Core Processes in the Pipeline</h2>
<h3>Process 1 — Feed Fetching &amp; Acquisition</h3>
<p><strong>Goal:</strong><br>
Continuously pull RSS / Atom / JSON-LD feeds from CNN, Fox, NBC, BBC, etc.</p>
<p><strong>Includes:</strong></p>
<ul>
<li>Periodic polling (e.g., every 5 minutes)</li>
<li>Detection of new items (GUID, URL hash, published timestamps)</li>
<li>N-way merging to ensure the resulting yield is sorted in reverse-chronological order</li>
<li>Basic sanity validation (e.g., XML schema validity)</li>
</ul>
<p><strong>Output:</strong><br>
A generator whose yield values are raw feed items (XML / JSON documents) → input to Process 2.</p>
<hr>
<h3>Process 2 — Parsing &amp; Normalization</h3>
<p><strong>Goal:</strong><br>
Convert heterogeneous raw feed items into a uniform internal format.</p>
<p><strong>Normalized fields include:</strong></p>
<ul>
<li>Title</li>
<li>Description / Summary</li>
<li>Full text (if available)</li>
<li>URL</li>
<li>Publication time (converted to UTC)</li>
<li>Source</li>
<li>Images, categories, tags</li>
<li>Named entities (optional NLP-based enrichment)</li>
</ul>
<p><strong>Output:</strong><br>
A generator yielding clean, normalized <code>NewsItem</code> documents → input to Process 3.</p>
<hr>
<h3>Process 3 — Content Filtering &amp; Exclusion Rules</h3>
<p><strong>Goal:</strong><br>
Remove unwanted items early using configurable rule sets.</p>
<p><strong>Examples:</strong></p>
<ul>
<li><strong>Blocked topics:</strong> politics, celebrity gossip, violence, etc.</li>
<li><strong>Blocked entities:</strong> Donald Trump, Joe Biden, Kanye West, etc.</li>
<li><strong>Blocked publishers</strong> (optional)</li>
<li><strong>Expiration rules:</strong>
<ul>
<li>Tech news stale after 48 hours</li>
<li>Breaking news stale after 6 hours</li>
</ul>
</li>
</ul>
<p><strong>Techniques:</strong></p>
<ul>
<li>Keyword filtering</li>
<li>Named Entity Recognition (NER)</li>
<li>Sensitive-topic classifiers (ML-based)</li>
<li>Freshness scoring</li>
</ul>
<p><strong>Output:</strong><br>
A generator yielding allowed, filtered <code>NewsItem</code> documents → input to Process 4.<br>
Rejected items are stored separately for auditing.</p>
<hr>
<h3>Process 4 — Topic Classification</h3>
<p><strong>Goal:</strong><br>
Assign each item to one or more topics.</p>
<p><strong>Example topics:</strong></p>
<ul>
<li>Politics</li>
<li>World</li>
<li>Tech</li>
<li>Health</li>
<li>Sports</li>
<li>Business</li>
<li>Disasters / Urgent events</li>
<li>Crime / Safety</li>
<li>Entertainment</li>
</ul>
<p><strong>Approaches:</strong></p>
<ul>
<li>Fine-tuned BERT classifier (preferred)</li>
<li>TF-IDF + SVM (simpler)</li>
<li>Feed-provided category tags (fallback)</li>
</ul>
<p><strong>Output:</strong><br>
A generator yielding categorized <code>NewsItem</code> documents → input to Process 5.</p>
<hr>
<h3>Process 5 — Similarity Analysis &amp; Clustering</h3>
<p><strong>Goal:</strong><br>
Group news items from different sources describing the same event.</p>
<p><strong>Techniques:</strong></p>
<ul>
<li>Semantic vector embeddings (e.g., SBERT, Ada embeddings)</li>
<li>Cosine similarity</li>
<li>Hierarchical clustering or DBSCAN</li>
</ul>
<p><strong>Produces:</strong></p>
<ul>
<li>Clusters of highly similar articles</li>
<li>A primary (best) representative per cluster</li>
</ul>
<p><strong>Output:</strong><br>
A generator yielding clusters of related articles → input to Process 6.</p>
<p><strong>Note:</strong><br>
To better match streaming behavior, clustering may operate within bounded windows (e.g., sliding windows) while still consuming the input generator.</p>
<hr>
<h3>Process 6 — Ranking, Urgency, and Freshness Scoring</h3>
<p><strong>Goal:</strong><br>
Prioritize which news appears on the Summary Page.</p>
<p><strong>Computed scores:</strong></p>
<ul>
<li>Freshness score (more recent → higher)</li>
<li>Urgency score (disasters, crises, violence)</li>
<li>Coverage score (number of sources reporting)</li>
<li>Engagement score (optional: social signals)</li>
</ul>
<p><strong>Weighted formula:</strong></p>
<p><code>FinalScore = a*Urgency + b*Freshness + c*Coverage + d*EditorRules</code></p>
<p>Items with the highest scores per topic are selected.</p>
<p>This stage does <strong>not</strong> require a full total ordering; instead a partial ordering (e.g., top-K per topic) preserves bounded memory.</p>
<p>Editor-driven operations (insert, remove, reorder) are modeled as generator transformations applied downstream of ranking.</p>
<p><strong>Output:</strong><br>
A generator yielding ranked clusters → input to Process 7.</p>
<hr>
<h3>Process 7 — Summary Page Generation</h3>
<p>This stage consumes the input generator and produces finite views intended for presentation.</p>
<p><strong>Goal:</strong><br>
Build a continuously updated Summary Page (“Front Page”) containing:</p>
<ul>
<li>Top events per topic</li>
<li>Short summaries</li>
<li>Links to primary articles</li>
<li>“Read similar news” (cluster siblings)</li>
<li>Source icons</li>
<li>Timestamp of most recent update</li>
</ul>
<p>The page auto-refreshes and always reflects the newest items.</p>
<hr>
<h3>Process 8 — Detailed Pages &amp; Cross-Links</h3>
<p>This stage consumes its input generator and produces finite presentation views.</p>
<p><strong>For each cluster:</strong></p>
<ul>
<li>Canonical article (primary representative)</li>
<li>Related articles across sources</li>
<li>Timeline of developments</li>
<li>Additional metadata (images, entities, tags)</li>
</ul>
<p><strong>Cross-links include:</strong></p>
<ul>
<li>“More like this…”</li>
<li>“Earlier developments…”</li>
<li>“Follow-up stories…”</li>
</ul>
<hr>
<h2>Notes on the Process Pipeline</h2>
<ul>
<li>Feed Fetching typically wraps one or more data providers<br>
→ produces <code>G_rawItems</code> lazily (RSS, JSON APIs, DB cursors, web services)</li>
<li>Every stage is expressible as:
<ul>
<li><code>for-each</code>, <code>filter</code>, <code>append</code>, <code>prepend</code>, <code>insert-at</code>, <code>remove-where</code>, <code>concat</code>, or <code>fold</code>, etc., producing a new generator derived from the previous one</li>
</ul>
</li>
<li>No stage requires full materialization unless explicitly demanded<br>
(e.g., <code>to-array</code>, bounded sort, pagination)</li>
<li>Infinite generators are valid until stage 6; stages 7–8 typically consume finite prefixes (<code>take(n)</code>)</li>
</ul>
<hr>
<h2>Why This Fits the Generator Datatype Extremely Well</h2>
<ul>
<li>The pipeline is a composition of generator transformers</li>
<li>Each box maps almost 1-to-1 to generator operations</li>
<li>External data providers integrate naturally at Stage 1</li>
<li>Sorting can be introduced in different ways:
<ul>
<li>External merge-sort over generators</li>
<li>Bounded-window ranking</li>
<li>Top-K lazy ranking – e.g. using heaps.</li>
</ul>
</li>
</ul>
<hr>
<h2>Alternative Flows</h2>
<h3>Alternative Flow 1 — Feed Temporarily Stops Producing New Items</h3>
<p><strong>Condition:</strong><br>
A feed is reachable but has no new items since the last polling cycle.</p>
<p><strong>Flow:</strong></p>
<ol>
<li>The feed generator advances (<code>move-next()</code>).</li>
<li>The data provider returns no new items.</li>
<li>The feed-generator instance yields no items during this interval.</li>
<li>Downstream generators remain operational.</li>
<li>If all feeds are empty, no new items are added downstream.</li>
</ol>
<p><strong>Result:</strong><br>
The pipeline continues uninterrupted; no special handling is required.</p>
<hr>
<h3>Alternative Flow 2 — Partial Consumption of the Pipeline</h3>
<p><strong>Condition:</strong><br>
Only a finite prefix of the stream is required (e.g., top N items).</p>
<p><strong>Flow:</strong></p>
<ol>
<li>Downstream consumers apply <code>take(N)</code>.</li>
<li>Upstream generators are evaluated only as needed.</li>
<li>Remaining potential yield values are never materialized.</li>
</ol>
<p><strong>Result:</strong><br>
Latency and memory usage remain bounded. The pipeline supports early termination naturally.</p>
<hr>
<h3>Alternative Flow 3 — Editor Inserts or Reorders Items</h3>
<p><strong>Condition:</strong><br>
An editor manually modifies the aggregated stream.</p>
<p><strong>Flow:</strong></p>
<ol>
<li>Editor operations are applied as generator transformations<br>
(<code>append</code>, <code>prepend</code>, <code>insert-at</code>, <code>remove-at</code>, <code>remove-where</code>).</li>
<li>A new generator with the modified yield is produced.</li>
<li>Downstream stages consume it transparently.</li>
</ol>
<p><strong>Result:</strong><br>
Editorial control integrates seamlessly without breaking the pipeline.</p>
<hr>
<h2>Exception Flows</h2>
<h3>Exception Flow 1 — Feed Unreachable or Network Failure</h3>
<p><strong>Condition:</strong><br>
A feed cannot be reached during polling.</p>
<p><strong>Flow:</strong></p>
<ol>
<li>The data provider reports an error or timeout.</li>
<li>The next instance of the feed generator yields no items during this polling interval.</li>
<li>The error is logged for monitoring.</li>
<li>A retry policy (e.g., exponential backoff) is applied.</li>
</ol>
<p><strong>Result:</strong><br>
The system continues operating with remaining feeds.</p>
<hr>
<h3>Exception Flow 2 — Malformed Feed Data</h3>
<p><strong>Condition:</strong><br>
A feed item is malformed (invalid XML/JSON or schema validation problems, e.g. missing required fields).</p>
<p><strong>Flow:</strong></p>
<ol>
<li>The normalization stage detects the issue.</li>
<li>The item is discarded or quarantined.</li>
<li>Processing continues with subsequent items.</li>
</ol>
<p><strong>Result:</strong><br>
Malformed data does not propagate downstream.</p>
<hr>
<h3>Exception Flow 3 — Resource Exhaustion Risk</h3>
<p><strong>Condition:</strong><br>
A downstream operation risks exceeding memory limits.</p>
<p><strong>Flow:</strong></p>
<ol>
<li>Bounded strategies (windowing, top-K selection) are applied.</li>
<li>Full materialization is avoided.</li>
<li>If needed, the operation degrades gracefully (e.g., reduced clustering depth).</li>
</ol>
<p><strong>Result:</strong><br>
System stability is preserved under load.</p>
<hr>
<h2>Postconditions</h2>
<p>Upon successful execution:</p>
<h3>Functional Outcomes</h3>
<ul>
<li>End users see an up-to-date Summary Page.</li>
<li>Each summary item links to a Detailed Page.</li>
<li>Editors can intervene using generator operations.</li>
<li>Administrators retain full system control.</li>
</ul>
<h3>Technical Guarantees</h3>
<ul>
<li>Memory usage remains bounded.</li>
<li>Latency is minimized through lazy evaluation.</li>
<li>Full materialization occurs only when explicitly requested.</li>
</ul>
<h3>System State</h3>
<ul>
<li>All generators remain composable.</li>
<li>Generator composition remains valid after alternative and exceptional flows.</li>
<li>Empty generators correctly represent exhaustion.</li>
<li>Infinite yields are supported up to stages that require finiteness.</li>
</ul>
<hr>
<h2>References</h2>
<ol>
<li>
<p>RSS 2.0 Specification<br>
https://www.rssboard.org/rss-specification</p>
</li>
<li>
<p>Atom Publishing Protocol (RFC 5023)<br>
https://www.rfc-editor.org/rfc/rfc5023</p>
</li>
<li>
<p>JSON-LD Specification<br>
https://json-ld.org/spec/</p>
</li>
<li>
<p>TF-IDF, “Understanding TF-IDF (Term Frequency-Inverse Document Frequency)”,
https://www.geeksforgeeks.org/machine-learning/understanding-tf-idf-term-frequency-inverse-document-frequency/</p>
</li>
<li>
<p>TF-IDF + SVM, “Strengthening Fake News Detection: Leveraging SVM and Sophisticated Text Vectorization Techniques. Defying BERT?”,
https://arxiv.org/html/2411.12703v1</p>
</li>
<li>
<p>Sentence-BERT (SBERT)<br>
Reimers, N. &amp; Gurevych, I., 2019<br>
https://arxiv.org/abs/1908.10084</p>
</li>
<li>
<p>Fine-tuned BERT, “Fine-tuning a BERT model”,
https://www.tensorflow.org/tfmodels/nlp/fine_tune_bert</p>
</li>
<li>
<p>Ada Embeddings (OpenAI)<br>
Radford et al., 2021<br>
https://arxiv.org/abs/2103.00020</p>
</li>
<li>
<p>Cosine Similarity<br>
https://en.wikipedia.org/wiki/Cosine_similarity</p>
</li>
<li>
<p>Hierarchical Clustering<br>
https://en.wikipedia.org/wiki/Hierarchical_clustering</p>
</li>
<li>
<p>DBSCAN<br>
Ester et al., 1996<br>
https://www.aaai.org/Papers/KDD/1996/KDD96-037.pdf</p>
</li>
</ol>
</div></details></div>
<div class="toot" id="created-2379"><h2>Pull request #2379 created<span class="toot-id"> #created-2379</span></h2><div class="pubdate">12 Jan at 15:03:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2379">https://github.com/qt4cg/qtspecs/pull/2379</a></div><details><summary>Use exported schema to validate function catalogs</summary><div class="markup"><p>This PR adds an exported SCM version of the <code>fos.xsd</code> schema with an embedded license. Updates to the build script use it to validate all <code>function-catalog.xml</code> files.</p>
<p>Pro: validation</p>
<p>Con: any change to the <code>fos.xsd</code> also has to be accompanied by an update to the exported schema, which probably, only Mike or I can do.</p>
</div></details></div>
<div class="toot" id="created-2378"><h2>Issue #2378 created<span class="toot-id"> #created-2378</span></h2><div class="pubdate">12 Jan at 12:07:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2378">https://github.com/qt4cg/qtspecs/issues/2378</a></div><details><summary>HTML indenting</summary><div class="markup"><p>The spec says (in both 3.1 and 4.0):</p>
<blockquote>
<p>The inline elements are those included in the %inline category of any of the HTML 4.01 DTDs or those elements defined to be phrasing elements in HTML5</p>
</blockquote>
<p>This could be read as defining one set of inline elements for version="4.01" and a different set of inline elements for version="5.0", or it could be read as indicating that an element is an inline element if it satisfies either of these two conditions.</p>
</div></details></div>
<div class="toot" id="closed-2370"><h2>Issue #2370 closed<span class="toot-id"> #closed-2370</span></h2><div class="pubdate">12 Jan at 11:00:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2370">https://github.com/qt4cg/qtspecs/pull/2370</a></div><p>Add character-maps to the allowed context dependencies</p></div>
<div class="toot" id="closed-2374"><h2>Issue #2374 closed<span class="toot-id"> #closed-2374</span></h2><div class="pubdate">12 Jan at 10:53:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2374">https://github.com/qt4cg/qtspecs/pull/2374</a></div><p>Markup: Allow empty nt elements</p></div></div><p>See 4881
            more statuses in yearly archives.</p></article></main></body></html>