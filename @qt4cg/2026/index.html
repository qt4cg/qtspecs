<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses in 2026</title></head><body><main><article><h1>@qt4cg statuses in 2026</h1><p>This page displays status
              updates
              about the QT4 CG project from 2026.</p><p>See also <a href="../">recent statuses</a>.</p><div class="toots">
<div class="toot" id="closed-2424"><h2>Issue #2424 closed<span class="toot-id"> #closed-2424</span></h2><div class="pubdate">30 Jan at 09:46:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2424">https://github.com/qt4cg/qtspecs/pull/2424</a></div><p>More Explorer tweaks</p></div>
<div class="toot" id="created-2425"><h2>Issue #2425 created<span class="toot-id"> #created-2425</span></h2><div class="pubdate">29 Jan at 21:58:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2425">https://github.com/qt4cg/qtspecs/issues/2425</a></div><details><summary>Permanent diffs for PRs</summary><div class="markup"><p>Since we link to pull requests in the spec and in test cases, I wonder whether it would be possible to publish a permanent diff showing the effect of each PR?</p>
<p>Essentially, the idea would be to take the HTML diff as we currently publish it, and reduce it to those sections of the specs that actually contain changes.</p>
<p>I would find this very useful, for example, when a PR has been accepted but is still marked with "Tests needed" - it's not easy at present to see retrospectively what tests might be required. It would also be useful, of course, when implementing the PR. But I think that all readers of the specs might find this beneficial.</p>
</div></details></div>
<div class="toot" id="created-2424"><h2>Pull request #2424 created<span class="toot-id"> #created-2424</span></h2><div class="pubdate">29 Jan at 21:48:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2424">https://github.com/qt4cg/qtspecs/pull/2424</a></div><details><summary>More Explorer tweaks</summary><div class="markup"><p>Building on the awesome work from @ndw I just tweaked the grammar explorer layout a little more</p>
<ul>
<li>layout works better on bigger and smaller screens</li>
<li>consistent navigation between all screens with back button alwasy on the navigation at the top</li>
<li>consistent sizes, paddings, colors set by CSS variables</li>
<li>output as html5 which fixes small issues with whitespace in inline elements</li>
<li>additional, minor layout improvmements</li>
</ul>
<img width="400" alt="Screenshot 2026-01-29 at 22 25 40" src="https://github.com/user-attachments/assets/1ec721f8-fde8-490e-ad31-442891874c7c">
<img width="400" alt="Screenshot 2026-01-29 at 22 25 58" src="https://github.com/user-attachments/assets/e01953dd-10e1-4b68-9b17-4bbe82de0ac8">
<img width="364" alt="Screenshot 2026-01-29 at 22 26 11" src="https://github.com/user-attachments/assets/2d816271-ee5c-4b49-aea8-e3e094b88f15">
<h2>Before</h2>
<img width="400" alt="Screenshot 2026-01-29 at 22 41 33" src="https://github.com/user-attachments/assets/4d3ef049-7666-4ed7-9e6b-9201ca63c66f">
<h2>After</h2>
<img width="400" alt="Screenshot 2026-01-29 at 22 41 20" src="https://github.com/user-attachments/assets/ae790d26-0c8e-4fcd-b6c4-81653c577c93">
</div></details></div>
<div class="toot" id="created-2423"><h2>Pull request #2423 created<span class="toot-id"> #created-2423</span></h2><div class="pubdate">29 Jan at 21:28:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2423">https://github.com/qt4cg/qtspecs/pull/2423</a></div><details><summary>2421 document XSLT incompatibility with simplified stylesheets</summary><div class="markup"><p>Fix #2421</p>
</div></details></div>
<div class="toot" id="created-2422"><h2>Issue #2422 created<span class="toot-id"> #created-2422</span></h2><div class="pubdate">29 Jan at 21:11:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2422">https://github.com/qt4cg/qtspecs/issues/2422</a></div><details><summary>XSLT: drop 3.11 Embedded Stylesheet Modules</summary><div class="markup"><p>XSLT Section 3.11 describes embedded stylesheet modules - a stylesheet rooted at an element node which is not the outermost element of a document. There are no real conformance requirements associated with this feature and it isn't widely used. I proposed we drop the section, while retaining the statement in §3.5 that a stylesheet module can be "all or part" of an XML document.</p>
</div></details></div>
<div class="toot" id="created-2421"><h2>Issue #2421 created<span class="toot-id"> #created-2421</span></h2><div class="pubdate">29 Jan at 15:43:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2421">https://github.com/qt4cg/qtspecs/issues/2421</a></div><details><summary>XSLT edge case incompatibility with simplified stylesheet</summary><div class="markup"><p>Simplified stylesheets have changed so that the implicit template rule now does <code>match="."</code> rather than <code>match="/"</code>.</p>
<p>This creates a theoretical incompatibility when</p>
<p>(a) the stylesheet is invoked supplying a node other than a document node as the input. It will now execute the (only) template rule, previously it would execute the built-in template for the node kind</p>
<p>(b) the simplified stylesheet module is included/imported into another stylesheet. This is a highly unlikely scenario, but it is tested by test case include-0601.</p>
<p>The incompatibility should be documented.</p>
</div></details></div>
<div class="toot" id="closed-2420"><h2>Issue #2420 closed<span class="toot-id"> #closed-2420</span></h2><div class="pubdate">29 Jan at 13:01:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2420">https://github.com/qt4cg/qtspecs/pull/2420</a></div><p>Explorer tweaks</p></div>
<div class="toot" id="created-2420"><h2>Pull request #2420 created<span class="toot-id"> #created-2420</span></h2><div class="pubdate">29 Jan at 13:01:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2420">https://github.com/qt4cg/qtspecs/pull/2420</a></div><details><summary>Explorer tweaks</summary><div class="markup"><p>h/t @line-o</p>
<p>Plus a few other tweaks.</p>
</div></details></div>
<div class="toot" id="created-2419"><h2>Pull request #2419 created<span class="toot-id"> #created-2419</span></h2><div class="pubdate">28 Jan at 16:21:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2419">https://github.com/qt4cg/qtspecs/pull/2419</a></div><details><summary>2292 XSLT document() function: options parameter</summary><div class="markup"><p>Fix #2292</p>
</div></details></div>
<div class="toot" id="closed-2414"><h2>Issue #2414 closed<span class="toot-id"> #closed-2414</span></h2><div class="pubdate">28 Jan at 15:26:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2414">https://github.com/qt4cg/qtspecs/issues/2414</a></div><p>Diff markup issues</p></div>
<div class="toot" id="created-2418"><h2>Pull request #2418 created<span class="toot-id"> #created-2418</span></h2><div class="pubdate">28 Jan at 15:20:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2418">https://github.com/qt4cg/qtspecs/pull/2418</a></div><details><summary>2399b Add rules and advice for JSON output of special numerics</summary><div class="markup"><p>Fix #2399</p>
</div></details></div>
<div class="toot" id="closed-2417"><h2>Issue #2417 closed<span class="toot-id"> #closed-2417</span></h2><div class="pubdate">28 Jan at 15:18:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2417">https://github.com/qt4cg/qtspecs/pull/2417</a></div><p>2399 Add rules/advice for JSON output of special xs:double values</p></div>
<div class="toot" id="created-2417"><h2>Pull request #2417 created<span class="toot-id"> #created-2417</span></h2><div class="pubdate">28 Jan at 15:15:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2417">https://github.com/qt4cg/qtspecs/pull/2417</a></div><details><summary>2399 Add rules/advice for JSON output of special xs:double values</summary><div class="markup"><p>Fix #2399</p>
</div></details></div>
<div class="toot" id="created-2416"><h2>Pull request #2416 created<span class="toot-id"> #created-2416</span></h2><div class="pubdate">28 Jan at 12:43:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2416">https://github.com/qt4cg/qtspecs/pull/2416</a></div><details><summary>2406 Add fn:parts-of-dateTime and fn:build-dateTime functions</summary><div class="markup"><p>Fix #2406</p>
</div></details></div>
<div class="toot" id="closed-2415"><h2>Issue #2415 closed<span class="toot-id"> #closed-2415</span></h2><div class="pubdate">28 Jan at 12:26:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2415">https://github.com/qt4cg/qtspecs/pull/2415</a></div><p>Publish the grammar explorer pages</p></div>
<div class="toot" id="created-2415"><h2>Pull request #2415 created<span class="toot-id"> #created-2415</span></h2><div class="pubdate">28 Jan at 12:26:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2415">https://github.com/qt4cg/qtspecs/pull/2415</a></div><p>Publish the grammar explorer pages</p></div>
<div class="toot" id="created-2414"><h2>Issue #2414 created<span class="toot-id"> #created-2414</span></h2><div class="pubdate">28 Jan at 09:36:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2414">https://github.com/qt4cg/qtspecs/issues/2414</a></div><details><summary>Diff markup issues</summary><div class="markup"><p>There seem to be two consistent errors in the diff markup that appears in PRs on the dashboard:</p>
<ol>
<li>When an inline <code>&lt;code&gt;</code> element is modified, the diff version shows the old code as deleted (red background), but does not show the new code.</li>
</ol>
<p>For example:</p>
<img width="1756" height="248" alt="Image" src="https://github.com/user-attachments/assets/76e02a8a-30be-46fa-ada5-8b5166c908f7">
<ol start="2">
<li>When a grammar entry is modified, the text gets duplicated.</li>
</ol>
<p>For example:</p>
<img width="1696" height="502" alt="Image" src="https://github.com/user-attachments/assets/b5780688-767b-4622-b74d-ff593566109b">
</div></details></div>
<div class="toot" id="created-2413"><h2>Pull request #2413 created<span class="toot-id"> #created-2413</span></h2><div class="pubdate">28 Jan at 08:44:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2413">https://github.com/qt4cg/qtspecs/pull/2413</a></div><details><summary>2365 Drop extensible record types</summary><div class="markup"><p>This PR drops the concept of extensible record types, replacing it with a rule that coercion to a record type drops any map entries that are not defined by the record type. In effect this means that a record type used when declaring a function parameter is implicitly extensible.</p>
<p>The benefits of the proposal are:</p>
<ul>
<li>It simplifies the spec, especially rules on type subsumption and on generation of implicit constructor functions</li>
<li>It avoids the need to declare pairs of record types, one extensible and one not.</li>
<li>It avoids all the awkward decisions about whether record types used in core functions should be extensible or not.</li>
</ul>
<p>The rules for type patterns in XSLT are changed to invoke coercion.</p>
<p>Fix #1484
Fix #2365</p>
</div></details></div>
<div class="toot" id="created-2412"><h2>Pull request #2412 created<span class="toot-id"> #created-2412</span></h2><div class="pubdate">28 Jan at 00:11:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2412">https://github.com/qt4cg/qtspecs/pull/2412</a></div><details><summary>2395 2396 Add missing "new in 4.0" entries</summary><div class="markup"><p>Fix #2395
Fix #2396</p>
</div></details></div>
<div class="toot" id="created-2411"><h2>Pull request #2411 created<span class="toot-id"> #created-2411</span></h2><div class="pubdate">27 Jan at 23:45:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2411">https://github.com/qt4cg/qtspecs/pull/2411</a></div><details><summary>2397 add to F&amp;O list of functions defined in XSLT</summary><div class="markup"><p>Fix #2397</p>
</div></details></div>
<div class="toot" id="created-2410"><h2>Pull request #2410 created<span class="toot-id"> #created-2410</span></h2><div class="pubdate">27 Jan at 23:16:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2410">https://github.com/qt4cg/qtspecs/pull/2410</a></div><details><summary>2398 Fix fn:highest to match fn:lowest</summary><div class="markup"><p>Fix #2398</p>
</div></details></div>
<div class="toot" id="created-2409"><h2>Pull request #2409 created<span class="toot-id"> #created-2409</span></h2><div class="pubdate">27 Jan at 21:24:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2409">https://github.com/qt4cg/qtspecs/pull/2409</a></div><details><summary>2407 Change function to fn in type-of output</summary><div class="markup"><p>Fix #2407</p>
</div></details></div>
<div class="toot" id="closed-2195"><h2>Issue #2195 closed<span class="toot-id"> #closed-2195</span></h2><div class="pubdate">27 Jan at 17:23:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2195">https://github.com/qt4cg/qtspecs/issues/2195</a></div><p>Editorial notes (incremental)</p></div>
<div class="toot" id="created-2408"><h2>Issue #2408 created<span class="toot-id"> #created-2408</span></h2><div class="pubdate">27 Jan at 17:22:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2408">https://github.com/qt4cg/qtspecs/issues/2408</a></div><details><summary>Editorial notes (incremental)</summary><div class="markup"><p>This issue summarizes the unresolved comments from #2195:</p>
<ul>
<li>[x] Oxford/serial comma should be used consistently at numerous places. Candidates:
<ul>
<li>sine, cosine and tangent</li>
<li>durations, dates and times</li>
<li>year, month, day, hour, minute, second and timezone</li>
<li>The month, day, hour and minute components</li>
<li>the tokens w, W and Ww</li>
<li>rules for overflow, underflow and approximation</li>
</ul>
</li>
<li>[ ] The comma may need to be removed at other places:
<ul>
<li>This function is context-independent, and focus-independent.</li>
<li>A dynamic error is raised [err:FODC0002] if a relative URI reference is supplied, and the base-URI property in the static context is absent.</li>
</ul>
</li>
<li>[x] <code>fn:distinct-values</code>: <code>$coll</code> → <code>$collation</code></li>
<li>[x] “If … is <em>an</em> empty sequence” vs. “If … is <em>the</em> empty sequence” (which one do we prefer?)
<ul>
<li>MHK: I can't say I have a strong preference, but pedantically, <em>the</em> is probably more accurate.</li>
</ul>
</li>
<li>[ ] Section 2.1.3 Values of the XPath 4.0 spec includes a change note highlighting that the terms XNode and JNode have been introduced but the section text only mentions XNode; there's no reference to JNode in that section other than in the change note itself.</li>
<li>[ ] In the XPath 4.0 spec, the <code>publoc</code> URL appears to be incorrect (<code>/spec/header/publoc/loc</code>)</li>
<li>[x] A number of examples in the function catalog should be annotated with <code>spec="XQuery"</code> so that the corresponding test cases are marked as inapplicable to XPath. Specifically:</li>
</ul>
<pre><code>  fo-test-fn-count-001
  fo-test-fn-deep-equal-005
  fo-test-fn-every-010
  fo-test-fn-function-annotations-002
  fo-test-fn-function-annotations-003
  fo-test-fn-hash-009
  fo-test-fn-hash-010
  fo-test-fn-serialize-004
  fo-test-fn-sort-with-005
</code></pre>
<ul>
<li>[ ] The serialization spec, in the section on the serialization parameter document, makes it rather hard to discover that the namespace prefix <code>output</code> is bound to the URI <code>http://www.w3.org/2010/xslt-xquery-serialization</code></li>
<li>[x] F+O The definition of fn:compare refers to a function <code>fn:months-from-dateTime</code>, this should be <code>fn:month-from-dateTime</code></li>
<li>[ ] F+O The description of unparsed-text refers to the <strong>available text resources</strong> component of the dynamic context which has been dropped.</li>
<li>[ ] The serialization spec for Adaptive serialization of function items gives an example <code>**fn:exists#1** is serialized as **function fn:exists#1**</code>  but the word <strong>function</strong> does not actually appear in the result.</li>
<li>[ ] fn:parse-html needs to define an error code for use when $encoding is an unknown or invalid encoding.</li>
<li>[ ] Consistent rendition for term definitions. Most of the specs output definitions as <code>[Definition: here is the definition]</code>. F+O uses <code>[Definition] here is the definition</code>. XSLT puts the keyword "Definition" in small caps.</li>
<li>[x] The function catalog contains entries for functions such as <code>op:gMonthDay-equal</code> that are no longer referenced.</li>
<li>[ ] Serialization, HTML5, Processing Instructions: Dashes in the name must be escaped as well. Example: <code>&lt;?a---b c---d?&gt;</code> should be serialized as <code>&lt;!--?a- - -b c- - -d?--&gt;</code>..</li>
<li>[ ] <code>UTF-16le</code> → <code>UTF-16LE</code>, <code>UTF-16be</code> → <code>UTF-16BE</code> (caused by #2239)</li>
<li>[ ] <code>fn:unparsed-text</code>: Reference <code>bin:infer-encoding</code>, drop redundant rules</li>
<li>[x] <code>op:divide-dayTimeDuration-by-dayTimeDuration</code>: An example could be simplified by using <code>seconds(1)</code></li>
</ul>
</div></details></div>
<div class="toot" id="created-2407"><h2>Issue #2407 created<span class="toot-id"> #created-2407</span></h2><div class="pubdate">27 Jan at 17:19:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2407">https://github.com/qt4cg/qtspecs/issues/2407</a></div><details><summary>`fn:type-of`: function vs fn</summary><div class="markup"><p>As we use the <code>fn</code> alias in (almost) all XQFO signatures, we could also return it by the <code>fn:type-of</code> function.</p>
</div></details></div>
<div class="toot" id="closed-2355"><h2>Issue #2355 closed<span class="toot-id"> #closed-2355</span></h2><div class="pubdate">27 Jan at 17:06:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2355">https://github.com/qt4cg/qtspecs/issues/2355</a></div><p>bin:infer-encoding error conditions</p></div>
<div class="toot" id="closed-2362"><h2>Issue #2362 closed<span class="toot-id"> #closed-2362</span></h2><div class="pubdate">27 Jan at 17:06:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2362">https://github.com/qt4cg/qtspecs/pull/2362</a></div><p>2355 bin:infer-encoding: further alignments</p></div>
<div class="toot" id="minutes-01-27"><h2>QT4 CG meeting 150 draft minutes<span class="toot-id"> #minutes-01-27</span></h2><div class="pubdate">27 Jan at 17:00:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2026/01-27">https://qt4cg.org/meeting/minutes/2026/01-27</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-2361"><h2>Issue #2361 closed<span class="toot-id"> #closed-2361</span></h2><div class="pubdate">27 Jan at 16:57:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2361">https://github.com/qt4cg/qtspecs/issues/2361</a></div><p>Encoding parameters: upper/lower case, normalization</p></div>
<div class="toot" id="closed-2394"><h2>Issue #2394 closed<span class="toot-id"> #closed-2394</span></h2><div class="pubdate">27 Jan at 16:57:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2394">https://github.com/qt4cg/qtspecs/pull/2394</a></div><p>2361 Use upper case for encoding names; comparisons are case-blind</p></div>
<div class="toot" id="closed-2349"><h2>Issue #2349 closed<span class="toot-id"> #closed-2349</span></h2><div class="pubdate">27 Jan at 16:55:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2349">https://github.com/qt4cg/qtspecs/issues/2349</a></div><p>Revert `array:join`</p></div>
<div class="toot" id="closed-2363"><h2>Issue #2363 closed<span class="toot-id"> #closed-2363</span></h2><div class="pubdate">27 Jan at 16:55:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2363">https://github.com/qt4cg/qtspecs/pull/2363</a></div><p>2349 Revert array:join</p></div>
<div class="toot" id="closed-2378"><h2>Issue #2378 closed<span class="toot-id"> #closed-2378</span></h2><div class="pubdate">27 Jan at 16:53:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2378">https://github.com/qt4cg/qtspecs/issues/2378</a></div><p>HTML indenting</p></div>
<div class="toot" id="closed-2391"><h2>Issue #2391 closed<span class="toot-id"> #closed-2391</span></h2><div class="pubdate">27 Jan at 16:53:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2391">https://github.com/qt4cg/qtspecs/pull/2391</a></div><p>2378 HTML indenting: clarify the definition of inline elements</p></div>
<div class="toot" id="closed-1944"><h2>Issue #1944 closed<span class="toot-id"> #closed-1944</span></h2><div class="pubdate">27 Jan at 16:52:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1944">https://github.com/qt4cg/qtspecs/issues/1944</a></div><p>Try/Catch/Finally - order of evaluation</p></div>
<div class="toot" id="closed-2127"><h2>Issue #2127 closed<span class="toot-id"> #closed-2127</span></h2><div class="pubdate">27 Jan at 16:52:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2127">https://github.com/qt4cg/qtspecs/issues/2127</a></div><p>JNodes: Include atomic items</p></div>
<div class="toot" id="closed-2159"><h2>Issue #2159 closed<span class="toot-id"> #closed-2159</span></h2><div class="pubdate">27 Jan at 16:52:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2159">https://github.com/qt4cg/qtspecs/issues/2159</a></div><p>JNodes: Learning from JSONiq?</p></div>
<div class="toot" id="closed-2351"><h2>Issue #2351 closed<span class="toot-id"> #closed-2351</span></h2><div class="pubdate">27 Jan at 16:52:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2351">https://github.com/qt4cg/qtspecs/issues/2351</a></div><p>Current Drafts: What will we keep, what may be dropped?</p></div>
<div class="toot" id="closed-2354"><h2>Issue #2354 closed<span class="toot-id"> #closed-2354</span></h2><div class="pubdate">27 Jan at 16:52:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2354">https://github.com/qt4cg/qtspecs/issues/2354</a></div><p>`fn:append`</p></div>
<div class="toot" id="closed-2360"><h2>Issue #2360 closed<span class="toot-id"> #closed-2360</span></h2><div class="pubdate">27 Jan at 16:52:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2360">https://github.com/qt4cg/qtspecs/issues/2360</a></div><p>fn:root() vs. absolute path expressions</p></div>
<div class="toot" id="closed-2384"><h2>Issue #2384 closed<span class="toot-id"> #closed-2384</span></h2><div class="pubdate">27 Jan at 16:50:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2384">https://github.com/qt4cg/qtspecs/issues/2384</a></div><p>`fn:xsd-validator` - attribute nodes</p></div>
<div class="toot" id="closed-2392"><h2>Issue #2392 closed<span class="toot-id"> #closed-2392</span></h2><div class="pubdate">27 Jan at 16:50:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2392">https://github.com/qt4cg/qtspecs/pull/2392</a></div><p>2384 Clarify that fn:xsd-validator can validate attributes</p></div>
<div class="toot" id="created-2406"><h2>Issue #2406 created<span class="toot-id"> #created-2406</span></h2><div class="pubdate">27 Jan at 12:28:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2406">https://github.com/qt4cg/qtspecs/issues/2406</a></div><details><summary>Rounding dates/times and durations</summary><div class="markup"><p>The precision returned for dates, times, and durations is implementation-defined, and it has changed between Saxon releases. This leads one of our users to point out that there is no easy way to request a reduced precision (e.g. milliseconds) in order to ensure interoperability. The simplest approach we can offer seems to be current-dateTime() =&gt; format-dateTime("....") =&gt; xs:dateTime() which is pretty cumbersome and inefficient.</p>
<p>Rather than providing specific functions for rounding dates, times, and durations, the most versatile solution to this might be to provide functions that reduce a dateTime or duration to a record containing the numeric values of the components, allowing these to be manipulated as numbers, with a further function to reconstruct the dateTime or duration from the record: rather like the parse-uri()/build-uri() pair. Something like:</p>
<p><code>parts(current-dateTime()) ! map:put(., 'seconds', round(?seconds, 3)) ! build-dateTime()</code></p>
</div></details></div>
<div class="toot" id="closed-2405"><h2>Issue #2405 closed<span class="toot-id"> #closed-2405</span></h2><div class="pubdate">27 Jan at 10:15:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2405">https://github.com/qt4cg/qtspecs/pull/2405</a></div><p>The published XML for XPath and XQuery is incorrect</p></div>
<div class="toot" id="created-2405"><h2>Pull request #2405 created<span class="toot-id"> #created-2405</span></h2><div class="pubdate">27 Jan at 10:15:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2405">https://github.com/qt4cg/qtspecs/pull/2405</a></div><details><summary>The published XML for XPath and XQuery is incorrect</summary><div class="markup"><p>It’s not the specification XML, it’s the pre-fixed-up HTML as XML. h/t to @martian-a for noticing first!</p>
</div></details></div>
<div class="toot" id="created-2404"><h2>Pull request #2404 created<span class="toot-id"> #created-2404</span></h2><div class="pubdate">27 Jan at 00:08:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2404">https://github.com/qt4cg/qtspecs/pull/2404</a></div><details><summary>2403 Enhancements to fos.xsd</summary><div class="markup"><p>Schema enhancements to the function catalog for</p>
<p>Issue #2403 - allow non-testable results for examples to be labelled narrative="true"
Issue #2177 - allow a fos:see-also element to make links to related functions</p>
<p>Note this PR is purely an enabler, it does not include changes to the function catalog to exploit this features, nor stylesheet enhancements to render them.</p>
</div></details></div>
<div class="toot" id="agenda-01-27"><h2>QT4 CG meeting 150 draft agenda<span class="toot-id"> #agenda-01-27</span></h2><div class="pubdate">26 Jan at 13:40:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2026/01-27">https://qt4cg.org/meeting/agenda/2026/01-27</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-2402"><h2>Issue #2402 closed<span class="toot-id"> #closed-2402</span></h2><div class="pubdate">23 Jan at 12:16:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2402">https://github.com/qt4cg/qtspecs/pull/2402</a></div><p>This PR should fail to build</p></div>
<div class="toot" id="created-2403"><h2>Issue #2403 created<span class="toot-id"> #created-2403</span></h2><div class="pubdate">23 Jan at 12:00:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2403">https://github.com/qt4cg/qtspecs/issues/2403</a></div><details><summary>Testable examples in the file spec</summary><div class="markup"><p>In PR #2401 Norm introduced a temporary fix needed because the function catalog in the EXPath file spec doesn't conform to the fos.xsd schema.</p>
<p>I think we can fix this without a schema or stylesheet change by using existing mechanisms illustrated by this example from fn:collation:</p>
<pre><code>             &lt;fos:test&gt;
               &lt;fos:expression&gt;collation({ 'lang': 'de', 'strength': 'primary' })&lt;/fos:expression&gt;
               &lt;fos:result&gt;"http://www.w3.org/2013/collation/UCA?lang=de;strength=primary"&lt;/fos:result&gt;
               &lt;fos:test-assertion&gt;
                  &lt;result xmlns="http://www.w3.org/2010/09/qt-fots-catalog"&gt;
                     &lt;any-of&gt;
                        &lt;assert-string-value&gt;http://www.w3.org/2013/collation/UCA?lang=de;strength=primary&lt;/assert-string-value&gt;
                        &lt;assert-string-value&gt;http://www.w3.org/2013/collation/UCA?strength=primary;lang=de;&lt;/assert-string-value&gt;
                     &lt;/any-of&gt;
                  &lt;/result&gt;
               &lt;/fos:test-assertion&gt;
               &lt;fos:postamble&gt;The order of query parameters may vary.&lt;/fos:postamble&gt;
            &lt;/fos:test&gt;
</code></pre>
<p>The <code>fos:result</code> (or <code>fos:error-result</code>) element must always be present, and will always be rendered in the spec as the expected result. If the example will not always deliver this result, then <code>&lt;fos:test-assertion&gt;</code> can appear to give the result as it will appear in the generated test case.</p>
<p>But I suggest we add another attribute <code>&lt;fos:result narrative="true"/&gt;</code> to indicate that the result is given as explanatory prose, not as a testable XPath expression. This would allow another fn:collation example</p>
<pre><code>         &lt;fos:example&gt;
            &lt;p&gt;The expression &lt;code&gt;collation({ 'lang': default-language() })&lt;/code&gt;
               returns a collation suitable for the default language in the
               dynamic context.&lt;/p&gt;
         &lt;/fos:example&gt;
</code></pre>
<p>to be rewritten as</p>
<pre><code>         &lt;fos:example&gt;
            &lt;fos:test&gt;
                &lt;fos:expression&gt;collation({ 'lang': default-language() })&lt;/fos:expression&gt;
                &lt;fos:result narrative="true"&gt;A collation suitable for the default language in the
               dynamic context.&lt;/fos:result&gt;
                &lt;fos:test-assertion&gt;
                   &lt;result xmlns="http://www.w3.org/2010/09/qt-fots-catalog"&gt;&lt;assert&gt;true()&lt;/assert&gt;&lt;/result&gt;
                &lt;/fos:test-assertion&gt;
           &lt;/fos:test&gt;
         &lt;/fos:example&gt;
</code></pre>
<p>which will (a) make it easier to fit the results into the tabular presentation of examples, and (b) cause a test case to be generated which will ensure that the example is syntactically valid.</p>
<p>(Or we could leave out <code>&lt;fos:test-assertion&gt;</code> in this example. If the supplied fos:result has narrative="true" and there is no test assertion, the generated test case can assume <code>&lt;assert&gt;true()&lt;/assert&gt;</code>)</p>
</div></details></div>
<div class="toot" id="created-2402"><h2>Pull request #2402 created<span class="toot-id"> #created-2402</span></h2><div class="pubdate">23 Jan at 11:41:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2402">https://github.com/qt4cg/qtspecs/pull/2402</a></div><details><summary>This PR should fail to build</summary><div class="markup"><p>We're never going to merge this, it's just a CI test.</p>
</div></details></div>
<div class="toot" id="closed-2379"><h2>Issue #2379 closed<span class="toot-id"> #closed-2379</span></h2><div class="pubdate">23 Jan at 11:39:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2379">https://github.com/qt4cg/qtspecs/pull/2379</a></div><p>Use exported schema to validate function catalogs</p></div>
<div class="toot" id="closed-1948"><h2>Issue #1948 closed<span class="toot-id"> #closed-1948</span></h2><div class="pubdate">22 Jan at 16:37:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1948">https://github.com/qt4cg/qtspecs/issues/1948</a></div><p>fn:element-to-map: Tests</p></div>
<div class="toot" id="closed-2401"><h2>Issue #2401 closed<span class="toot-id"> #closed-2401</span></h2><div class="pubdate">22 Jan at 11:57:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2401">https://github.com/qt4cg/qtspecs/pull/2401</a></div><p>Stopgap fix to get the status quo drafts built</p></div>
<div class="toot" id="created-2401"><h2>Pull request #2401 created<span class="toot-id"> #created-2401</span></h2><div class="pubdate">22 Jan at 11:56:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2401">https://github.com/qt4cg/qtspecs/pull/2401</a></div><details><summary>Stopgap fix to get the status quo drafts built</summary><div class="markup"><p>The content model of fos:test requires an fos:result or fos:error-result. For the EXPath File module, we have to work out what those should be or change the markup or change the schema.</p>
<p>In the short term, I’ve made bogus fos:results of FIXME:</p>
</div></details></div>
<div class="toot" id="closed-2400"><h2>Issue #2400 closed<span class="toot-id"> #closed-2400</span></h2><div class="pubdate">22 Jan at 10:55:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2400">https://github.com/qt4cg/qtspecs/pull/2400</a></div><p>Irrelevant whitespace change to nudge CI</p></div>
<div class="toot" id="created-2400"><h2>Pull request #2400 created<span class="toot-id"> #created-2400</span></h2><div class="pubdate">22 Jan at 10:55:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2400">https://github.com/qt4cg/qtspecs/pull/2400</a></div><p>Irrelevant whitespace change to nudge CI</p></div>
<div class="toot" id="created-2399"><h2>Issue #2399 created<span class="toot-id"> #created-2399</span></h2><div class="pubdate">22 Jan at 10:45:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2399">https://github.com/qt4cg/qtspecs/issues/2399</a></div><details><summary>Canonical JSON Serialization: edge cases</summary><div class="markup"><p>RFC 8785 says:</p>
<blockquote>
<p>Note: Since Not a Number (NaN) and Infinity are not permitted in JSON, occurrences of NaN or Infinity MUST cause a compliant JCS implementation to terminate with an appropriate error.</p>
</blockquote>
<p>We have just decided to treat these cases more liberally, but I think we should continue to raise an error if canonical serialization is requested.</p>
<p>In our serialization spec, we also say:</p>
<blockquote>
<p>Implementations may serialize an xs:double value using any lexical representation of a JSON number defined in <a href="https://qt4cg.org/specifications/xslt-xquery-serialization-40/Overview.html#rfc7159">[RFC 7159]</a>, but it is recommended to use the same representation as when the canonical parameter is true.</p>
</blockquote>
<p>We may need to exclude the edge cases from this recommendation.</p>
<p>If we keep the recommendation, we may need to fix the test case <a href="https://github.com/qt4cg/qt4tests/blob/d1d9e32460246b66c0dcaa14c457cfc7a1cc007b/ser/method-json.xml#L164-L178">Serialization-json-11</a>, which expects <code>-0</code> instead of <code>0</code> (what is returned for RFC8785).</p>
</div></details></div>
<div class="toot" id="created-2398"><h2>Issue #2398 created<span class="toot-id"> #created-2398</span></h2><div class="pubdate">21 Jan at 18:09:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2398">https://github.com/qt4cg/qtspecs/issues/2398</a></div><details><summary>fn:highest documentation in F&amp;O spec not up to date?</summary><div class="markup"><p>The description for the new <code>fn:highest</code> function does not align with the description for the <code>fn:lowest</code> function; contrary to what I'd expect. In particular, the rules section makes no mention of the <code>$key</code> argument; so I suspect this is not up to date?</p>
</div></details></div>
<div class="toot" id="created-2397"><h2>Issue #2397 created<span class="toot-id"> #created-2397</span></h2><div class="pubdate">21 Jan at 18:01:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2397">https://github.com/qt4cg/qtspecs/issues/2397</a></div><details><summary>Additions for "Functions Defined in XSLT" section in F&amp;O spec</summary><div class="markup"><p>The new XSLT 4.0 functions <code>current-merge-key-array</code> and <code>regex-groups</code> are missing from the "Functions Defined in XSLT" section.</p>
<p>Also I believe the function <code>unparsed-text-available</code> should be added saying "Originally XSLT 2.0; then XPath 3.0 and later".</p>
</div></details></div>
<div class="toot" id="created-2396"><h2>Issue #2396 created<span class="toot-id"> #created-2396</span></h2><div class="pubdate">21 Jan at 17:55:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2396">https://github.com/qt4cg/qtspecs/issues/2396</a></div><details><summary>Missing "New in 4.0" labels for functions in F&amp;O Spec</summary><div class="markup"><p>Please add changes entries to say "New in 4.0" for the functions: <code>function-identity</code> and <code>jnode-content</code>.</p>
<p>Also I assume the first change entry for <code>function-annotations</code> should actually say "New in 4.0" (rather than be a duplicate of the second change entry).</p>
</div></details></div>
<div class="toot" id="created-2395"><h2>Issue #2395 created<span class="toot-id"> #created-2395</span></h2><div class="pubdate">21 Jan at 17:49:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2395">https://github.com/qt4cg/qtspecs/issues/2395</a></div><details><summary>The new fn:regex-groups function is not labelled "New in 4.0"</summary><div class="markup"><p>Please add a changes entry in the spec for the new XSLT 4.0 regex-groups function.</p>
</div></details></div>
<div class="toot" id="created-2394"><h2>Pull request #2394 created<span class="toot-id"> #created-2394</span></h2><div class="pubdate">21 Jan at 11:54:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2394">https://github.com/qt4cg/qtspecs/pull/2394</a></div><details><summary>2361 Use upper case for encoding names; comparisons are case-blind</summary><div class="markup"><p>Standardizes on upper case for encoding names, and mentions that comparisons are case-blind.</p>
<p>Fix #2361</p>
</div></details></div>
<div class="toot" id="created-2393"><h2>Issue #2393 created<span class="toot-id"> #created-2393</span></h2><div class="pubdate">21 Jan at 09:08:15 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2393">https://github.com/qt4cg/qtspecs/issues/2393</a></div><details><summary>Keep or drop `array:members` and `array:of-members`?</summary><div class="markup"><p>Adopted from #2351:</p>
<p>We have recently dropped <code>map:pairs</code> and <code>map:of-pairs</code>. With <code>array:members</code>, the members of arrays are returned as single-entry maps, which may confuse users. Thus, for the sake of reducing redundant functionality, do we want to keep <code>array:members</code> and <code>array:of-members</code>, or rather promote the use of <code>for member $m</code> and <code>array:split</code>/<code>array:join</code> instead?</p>
<p>If we keep the functions, we should add a dedicated record type for <code>record(value)</code>.</p>
</div></details></div>
<div class="toot" id="created-2392"><h2>Pull request #2392 created<span class="toot-id"> #created-2392</span></h2><div class="pubdate">21 Jan at 08:52:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2392">https://github.com/qt4cg/qtspecs/pull/2392</a></div><details><summary>2384 Clarify that fn:xsd-validator can validate attributes</summary><div class="markup"><p>Fix #2384</p>
</div></details></div>
<div class="toot" id="created-2391"><h2>Pull request #2391 created<span class="toot-id"> #created-2391</span></h2><div class="pubdate">21 Jan at 08:44:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2391">https://github.com/qt4cg/qtspecs/pull/2391</a></div><details><summary>2378 HTML indenting: clarify the definition of inline elements</summary><div class="markup"><p>Fix #2378</p>
</div></details></div>
<div class="toot" id="created-2390"><h2>Issue #2390 created<span class="toot-id"> #created-2390</span></h2><div class="pubdate">20 Jan at 22:44:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2390">https://github.com/qt4cg/qtspecs/issues/2390</a></div><details><summary>methods and inheritance</summary><div class="markup"><p>Don’t panic, i am not suggesting a large change :)</p>
<p>But i would like to suggest a small change to the semantics of method calls, with the goal of third parties being able to build something much larger.</p>
<p>Today, we have,</p>
<blockquote>
<p>A method call combines accessing a map M to look up an entry whose value is a function item F, and calling the function item F supplying the map M as the implicit value of the first argument.</p>
</blockquote>
<p>I’d like to add,</p>
<blockquote>
<p>If there is no such function, but there is in the map a key fn:fallback whose value is a function, then that function is called with the map, the function name, and the arity of the desired function as arguments.</p>
</blockquote>
<p>In this way one could write a function that looked for an "isa" entry in the map whose value was a sequence of "class" maps, and find the function.</p>
<p>It’s limited in that there is no possibility of polymorphic functions, but we do not have those elsewhere in the language.</p>
<p>One practical benefit is that you can have a map with all your functions in it, and “instance maps’ then do not need to have, say, 40 entries for all the methods that can be called. In an application in which a map gets updated a million times (I do have one of those), adding 40 extra entries to copy is a significant burden, even though of course it’s encapsulated in a single function.</p>
</div></details></div>
<div class="toot" id="closed-2344"><h2>Issue #2344 closed<span class="toot-id"> #closed-2344</span></h2><div class="pubdate">20 Jan at 18:54:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2344">https://github.com/qt4cg/qtspecs/issues/2344</a></div><p>HTML Serialization: Processing Instructions</p></div>
<div class="toot" id="closed-2372"><h2>Issue #2372 closed<span class="toot-id"> #closed-2372</span></h2><div class="pubdate">20 Jan at 18:54:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2372">https://github.com/qt4cg/qtspecs/pull/2372</a></div><p>2344 Change rendition of PIs in HTML5</p></div>
<div class="toot" id="minutes-01-20"><h2>QT4 CG meeting 149 draft minutes<span class="toot-id"> #minutes-01-20</span></h2><div class="pubdate">20 Jan at 17:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2026/01-20">https://qt4cg.org/meeting/minutes/2026/01-20</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-2359"><h2>Issue #2359 closed<span class="toot-id"> #closed-2359</span></h2><div class="pubdate">20 Jan at 17:13:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2359">https://github.com/qt4cg/qtspecs/issues/2359</a></div><p>Implicit conversion to JNodes with absolute path expressions</p></div>
<div class="toot" id="closed-2373"><h2>Issue #2373 closed<span class="toot-id"> #closed-2373</span></h2><div class="pubdate">20 Jan at 17:13:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2373">https://github.com/qt4cg/qtspecs/pull/2373</a></div><p>2359 No conversion to JNode in absolute paths</p></div>
<div class="toot" id="closed-2337"><h2>Issue #2337 closed<span class="toot-id"> #closed-2337</span></h2><div class="pubdate">20 Jan at 17:11:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2337">https://github.com/qt4cg/qtspecs/issues/2337</a></div><p>XSLT xsl:mode/@typed attribute</p></div>
<div class="toot" id="closed-2376"><h2>Issue #2376 closed<span class="toot-id"> #closed-2376</span></h2><div class="pubdate">20 Jan at 17:11:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2376">https://github.com/qt4cg/qtspecs/pull/2376</a></div><p>2337 Extend xsl:mode/@typed to handle JNodes etc</p></div>
<div class="toot" id="closed-2387"><h2>Issue #2387 closed<span class="toot-id"> #closed-2387</span></h2><div class="pubdate">20 Jan at 17:07:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2387">https://github.com/qt4cg/qtspecs/pull/2387</a></div><p>641 NaN/Infinity in JSON</p></div>
<div class="toot" id="closed-2088"><h2>Issue #2088 closed<span class="toot-id"> #closed-2088</span></h2><div class="pubdate">20 Jan at 17:05:15 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2088">https://github.com/qt4cg/qtspecs/issues/2088</a></div><p>File Module: Feedback, Observations</p></div>
<div class="toot" id="closed-2364"><h2>Issue #2364 closed<span class="toot-id"> #closed-2364</span></h2><div class="pubdate">20 Jan at 17:05:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2364">https://github.com/qt4cg/qtspecs/pull/2364</a></div><p>2088 File Module: Feedback, Observations</p></div>
<div class="toot" id="closed-2185"><h2>Issue #2185 closed<span class="toot-id"> #closed-2185</span></h2><div class="pubdate">20 Jan at 17:03:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2185">https://github.com/qt4cg/qtspecs/issues/2185</a></div><p>Request for an `fn:xproc` function</p></div>
<div class="toot" id="closed-2383"><h2>Issue #2383 closed<span class="toot-id"> #closed-2383</span></h2><div class="pubdate">20 Jan at 17:02:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2383">https://github.com/qt4cg/qtspecs/pull/2383</a></div><p>Attempt to resolve action QT4CG-148-01</p></div>
<div class="toot" id="created-2389"><h2>Issue #2389 created<span class="toot-id"> #created-2389</span></h2><div class="pubdate">20 Jan at 15:44:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2389">https://github.com/qt4cg/qtspecs/issues/2389</a></div><details><summary>Adaptive Serialization: more freedom?</summary><div class="markup"><p>The adaptive serialization method was introduced “for the purposes of debugging query results”. For our processor, it has turned out pretty soon that it does not satisfy the requirements of our users, which is why we have introduced a custom debugging method.</p>
<p>I wonder what others think: Shouldn’t we relax several of the rules and let the implementation decide what to output? We haven’t defined either how the output of <code>fn:trace</code> needs to look like.</p>
<p>Some examples:</p>
<ul>
<li>The output of doubles often causes confusion. If parsed JSON is output, small integers will be output in exponential notation. For example, <code>parse-json('{ "A" : 20 }')</code> needs to be output as <code>{ "A": 2.0e1 }</code>.</li>
<li><code>xs:date("2001-01-01")</code> is output as <code>xs:date("2001-01-01")</code>, while <code>xs:token('x')</code> is output as <code>"x"</code>.</li>
<li><code>fn() { 1 }</code> is output as <code>(anonymous-function)#0</code>, whereas an implementation could prefer to use the output of <code>fn:function-identity</code> (see #2388), or output the original query string (if available), reproduce a string representation of the function body, etc.</li>
</ul>
<p>I will be glad to create a PR.</p>
</div></details></div>
<div class="toot" id="created-2388"><h2>Issue #2388 created<span class="toot-id"> #created-2388</span></h2><div class="pubdate">20 Jan at 15:28:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2388">https://github.com/qt4cg/qtspecs/issues/2388</a></div><details><summary>Adaptive Serialization: function items</summary><div class="markup"><p>The serialization specs defines rules for creating a string representation for function items. Now that we have `fn:function-identity', we should replace the rules and use this string instead.</p>
</div></details></div>
<div class="toot" id="agenda-01-20"><h2>QT4 CG meeting 149 draft agenda<span class="toot-id"> #agenda-01-20</span></h2><div class="pubdate">19 Jan at 13:40:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2026/01-20">https://qt4cg.org/meeting/agenda/2026/01-20</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-2386"><h2>Issue #2386 closed<span class="toot-id"> #closed-2386</span></h2><div class="pubdate">19 Jan at 13:11:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2386">https://github.com/qt4cg/qtspecs/pull/2386</a></div><p>Add namespace declaration to environment for generated tests</p></div>
<div class="toot" id="created-2387"><h2>Pull request #2387 created<span class="toot-id"> #created-2387</span></h2><div class="pubdate">16 Jan at 01:03:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2387">https://github.com/qt4cg/qtspecs/pull/2387</a></div><details><summary>641 NaN/Infinity in JSON</summary><div class="markup"><p>Addresses part of issue #641</p>
<p>In the JSON serialization method, NaN is output as <code>null</code>, and infinity is output as <code>±1e9999</code>.</p>
<p>The parse-json function adds recommendations on how to achieve round-tripping of these values.</p>
</div></details></div>
<div class="toot" id="created-2386"><h2>Pull request #2386 created<span class="toot-id"> #created-2386</span></h2><div class="pubdate">15 Jan at 17:55:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2386">https://github.com/qt4cg/qtspecs/pull/2386</a></div><details><summary>Add namespace declaration to environment for generated tests</summary><div class="markup"><p>Changes the stylesheet for generating keyword and function signature tests so that the namespace prefix "output" is explicitly declared in the test environment. This prefix is used in one of the tests and it needs to be declared if the test is to work in XPath.</p>
</div></details></div>
<div class="toot" id="created-2385"><h2>Issue #2385 created<span class="toot-id"> #created-2385</span></h2><div class="pubdate">15 Jan at 13:59:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2385">https://github.com/qt4cg/qtspecs/issues/2385</a></div><details><summary>The XML version of the XPath spec isn't the XML version of the spec, it's HTML</summary><div class="markup"><p>Probably XQuery too. I have no idea why.</p>
</div></details></div>
<div class="toot" id="created-2384"><h2>Issue #2384 created<span class="toot-id"> #created-2384</span></h2><div class="pubdate">15 Jan at 11:09:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2384">https://github.com/qt4cg/qtspecs/issues/2384</a></div><details><summary>`fn:xsd-validator` - attribute nodes</summary><div class="markup"><p>The type signature of the xsd-validator function suggests that it can be used to validate attribute nodes (as well as documents and elements), and the prose description concurs with this. However the function summary says "can be invoked to validate a document or element node against this schema."</p>
<p>Test case xsd-validator-092 expects an attribute node to be rejected.</p>
<p>Also the Notes in the specification say</p>
<blockquote>
<p>The validation process is explained in more detail in the XQuery ([[XQuery 4.0: An XML Query Language]] section [4.25 Validate Expressions] and XSLT ([[XSL Transformations (XSLT) Version 4.0]] section [25.4 Validation]</p>
</blockquote>
<p>but the detailed description has since been moved to F&amp;O 17.2.4.</p>
<p>Note that XSLT has always allowed validation of free-standing attribute nodes, but the <code>validate</code> expression in XQuery allows only document and element nodes.</p>
</div></details></div>
<div class="toot" id="created-2383"><h2>Pull request #2383 created<span class="toot-id"> #created-2383</span></h2><div class="pubdate">14 Jan at 11:41:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2383">https://github.com/qt4cg/qtspecs/pull/2383</a></div><details><summary>Attempt to resolve action QT4CG-148-01</summary><div class="markup"><p>Per #2315:</p>
<ol>
<li>Added ‘at-risk’ changes to the fn:insert-separator, array:members, and array:of-members</li>
<li>Added ‘at-risk’ changes to the XPath/XQuery section on map and array filtering</li>
<li>Added a note about what ‘at risk’ means to the status sections</li>
</ol>
</div></details></div>
<div class="toot" id="closed-2382"><h2>Issue #2382 closed<span class="toot-id"> #closed-2382</span></h2><div class="pubdate">14 Jan at 11:34:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2382">https://github.com/qt4cg/qtspecs/pull/2382</a></div><p>Tool changes for action QT4CG-148-01</p></div>
<div class="toot" id="created-2382"><h2>Pull request #2382 created<span class="toot-id"> #created-2382</span></h2><div class="pubdate">14 Jan at 11:34:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2382">https://github.com/qt4cg/qtspecs/pull/2382</a></div><details><summary>Tool changes for action QT4CG-148-01</summary><div class="markup"><p>These should have no effect without additional commits, but they have to be merged into main in order to have a visible effect on my subsequent PR.</p>
</div></details></div>
<div class="toot" id="closed-573"><h2>Issue #573 closed<span class="toot-id"> #closed-573</span></h2><div class="pubdate">13 Jan at 23:08:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/573">https://github.com/qt4cg/qtspecs/issues/573</a></div><p>Node construction functions</p></div>
<div class="toot" id="closed-2124"><h2>Issue #2124 closed<span class="toot-id"> #closed-2124</span></h2><div class="pubdate">13 Jan at 23:07:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2124">https://github.com/qt4cg/qtspecs/pull/2124</a></div><p>573 Functions to Construct Trees</p></div>
<div class="toot" id="minutes-01-13"><h2>QT4 CG meeting 148 draft minutes<span class="toot-id"> #minutes-01-13</span></h2><div class="pubdate">13 Jan at 17:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2026/01-13">https://qt4cg.org/meeting/minutes/2026/01-13</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-2357"><h2>Issue #2357 closed<span class="toot-id"> #closed-2357</span></h2><div class="pubdate">13 Jan at 17:19:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2357">https://github.com/qt4cg/qtspecs/issues/2357</a></div><p>element() vs element(*) in function signatures</p></div>
<div class="toot" id="closed-2358"><h2>Issue #2358 closed<span class="toot-id"> #closed-2358</span></h2><div class="pubdate">13 Jan at 17:19:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2358">https://github.com/qt4cg/qtspecs/pull/2358</a></div><p>2357 Standardize on element() rather than element(*)</p></div>
<div class="toot" id="closed-2367"><h2>Issue #2367 closed<span class="toot-id"> #closed-2367</span></h2><div class="pubdate">13 Jan at 17:17:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2367">https://github.com/qt4cg/qtspecs/issues/2367</a></div><p>Documentation for new main-module attribute of xsl:stylesheet</p></div>
<div class="toot" id="closed-2366"><h2>Issue #2366 closed<span class="toot-id"> #closed-2366</span></h2><div class="pubdate">13 Jan at 17:17:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2366">https://github.com/qt4cg/qtspecs/issues/2366</a></div><p>json-lines attribute for xsl:output and xl:result-document in XSLT spec</p></div>
<div class="toot" id="closed-2356"><h2>Issue #2356 closed<span class="toot-id"> #closed-2356</span></h2><div class="pubdate">13 Jan at 17:17:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2356">https://github.com/qt4cg/qtspecs/issues/2356</a></div><p>Clarification on scope of variables in xsl:for-each-group/(@split-when|@merge-when)</p></div>
<div class="toot" id="closed-2368"><h2>Issue #2368 closed<span class="toot-id"> #closed-2368</span></h2><div class="pubdate">13 Jan at 17:17:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2368">https://github.com/qt4cg/qtspecs/pull/2368</a></div><p>2367 Misc XSLT editorial fixes</p></div>
<div class="toot" id="closed-2369"><h2>Issue #2369 closed<span class="toot-id"> #closed-2369</span></h2><div class="pubdate">13 Jan at 17:16:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2369">https://github.com/qt4cg/qtspecs/issues/2369</a></div><p>F+O section 11 is empty</p></div>
<div class="toot" id="closed-2371"><h2>Issue #2371 closed<span class="toot-id"> #closed-2371</span></h2><div class="pubdate">13 Jan at 17:16:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2371">https://github.com/qt4cg/qtspecs/pull/2371</a></div><p>2369 Add content for F&amp;O section 11 (Processing binary values)</p></div>
<div class="toot" id="closed-2375"><h2>Issue #2375 closed<span class="toot-id"> #closed-2375</span></h2><div class="pubdate">13 Jan at 17:13:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2375">https://github.com/qt4cg/qtspecs/pull/2375</a></div><p>2195 Editorial Omnibus</p></div>
<div class="toot" id="closed-1591"><h2>Issue #1591 closed<span class="toot-id"> #closed-1591</span></h2><div class="pubdate">13 Jan at 17:12:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1591">https://github.com/qt4cg/qtspecs/issues/1591</a></div><p>Implausible filter expressions</p></div>
<div class="toot" id="closed-1934"><h2>Issue #1934 closed<span class="toot-id"> #closed-1934</span></h2><div class="pubdate">13 Jan at 17:12:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1934">https://github.com/qt4cg/qtspecs/issues/1934</a></div><p>Supporting RELAX NG validation</p></div>
<div class="toot" id="closed-2377"><h2>Issue #2377 closed<span class="toot-id"> #closed-2377</span></h2><div class="pubdate">13 Jan at 17:11:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2377">https://github.com/qt4cg/qtspecs/pull/2377</a></div><p>2195 F+O Editorial Corrections</p></div>
<div class="toot" id="created-2381"><h2>Issue #2381 created<span class="toot-id"> #created-2381</span></h2><div class="pubdate">13 Jan at 13:37:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2381">https://github.com/qt4cg/qtspecs/issues/2381</a></div><details><summary>Add facility to serialize binary values as url-safe base64 encoded strings</summary><div class="markup"><p>In XQuery 3.1 there are two XDM types to represent binary values <code>xs:base64binary</code> and <code>xs:hexBinary</code>.
The current draft adds binary literals as an additional option.</p>
<p>Thus, it is possible to base64 encode any value by casting a xs:base64binary to a xs:string.</p>
<pre><code class="language-xquery">xs:base64Binary("+w==") =&gt; xs:string()
</code></pre>
<p>There is no standard way to serialize those binary values to the URL safe variant of that encoding described in <a href="https://datatracker.ietf.org/doc/html/rfc4648#section-5">section 5 of RFC 4648</a>.</p>
<p>The simplest workaround is replacing the unsafe characters of the alphabet (<code>+</code> and <code>/</code>) and dropping the padding at the end with</p>
<pre><code class="language-xquery">xs:base64Binary("+w==") =&gt; translate("+/=", "-_")
</code></pre>
<p>This of course will only work for relatively small binary values. In order for processors to offer a performant and efficient way I see several options.</p>
<ol>
<li>adding new type <code>xs:base64BinaryUrlSafe</code> whose string representation uses the adapted alphabet with <code>-</code> and <code>_</code> and does not add padding at the end</li>
<li>a new function in fn namespace <code>fn:encode-base64-url-safe($data as (xs:string | xs:base64Binary | xs:hexBinary)) as xs:string</code></li>
<li>a new function in bin namespace <code>bin:encode-base64-url-safe($data as (xs:string | xs:base64Binary | xs:hexBinary)) as xs:string</code></li>
<li>add an <strong>output option</strong> that will serialize all binary values to base64 url-safe when cast to strings</li>
</ol>
<p>Addendum</p>
<p>I am also wondering why binary values cannot be created from numeric literals. Especially now that we have the binary notation for integer literals and the xs:integer type is unbounded this would be a perfectly fine literal notation to create binary values from. At least as suitable as string literals that are currently allowed.</p>
<p><code>xs:hexBinary(0xfb)</code> and <code>xs:base64Binary(0b11111111)</code></p>
</div></details></div>
<div class="toot" id="created-2380"><h2>Issue #2380 created<span class="toot-id"> #created-2380</span></h2><div class="pubdate">13 Jan at 01:22:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2380">https://github.com/qt4cg/qtspecs/issues/2380</a></div><details><summary>Use Case for Generators: News Feeds Aggregation Using Generators</summary><div class="markup"><p>In response to:
<code>QT4CG-147-02: NW to chase up DN and LQ about follow-up to the generator discussion</code></p>
<hr>
<h1>Use Case: News Feeds Aggregation Using Generators</h1>
<h2>Contents</h2>
<h3>Use Case: News Feeds Aggregation Using Generators</h3>
<ul>
<li>Actors</li>
<li>Goals</li>
<li>Functional Requirements</li>
<li>Constraints / Assumptions / Preconditions</li>
<li>Proposed High-Level Solution</li>
<li>Known Approaches that are Problematic</li>
<li>Benefits of the Generators Approach</li>
<li>End-to-End Flow
<ul>
<li>Brief Description of the Core Processes in the Pipeline</li>
<li>Notes on the Process Pipeline</li>
</ul>
</li>
<li>Why This Fits the Generator Datatype Extremely Well</li>
<li>Alternative Flows
<ul>
<li>Alternative Flow-1: A Feed Temporarily Stops Producing New Items</li>
<li>Alternative Flow-2: Partial Consumption of the Pipeline</li>
<li>Alternative Flow-3: Editor Inserts or Reorders Items	11</li>
</ul>
</li>
<li>Exception Flows
<ul>
<li>Exception Flow-1: Feed Unreachable or Network Failure</li>
<li>Exception Flow-2: Malformed Feed Data</li>
<li>Exception Flow-3: Resource Exhaustion Risk</li>
</ul>
</li>
<li>Postconditions</li>
<li>References</li>
</ul>
<hr>
<h2>The Problem</h2>
<p>Modern RSS/JSON aggregators must process hundreds of continuously updating feeds without excessive memory usage or latency, while supporting filtering, merging, and prioritization in real time.</p>
<hr>
<h2>Actors</h2>
<ul>
<li><strong>End-User</strong></li>
<li><strong>Editor</strong></li>
<li><strong>Administrator</strong></li>
<li><strong>System components</strong> (internal processes acting as secondary actors)</li>
<li><strong>External services</strong> (RSS providers, APIs, social signals)</li>
</ul>
<hr>
<h2>Goals</h2>
<ul>
<li>
<p><strong>End-User</strong><br>
“As a user, I want to get the latest, up-to-the-minute news from many important sources. I want each brief news item to be presented with a link to more detailed information from the original source.”</p>
</li>
<li>
<p><strong>Editor</strong><br>
“As an editor, I want to be alerted to any change in the aggregated news-stream, as it happens continuously, and to have powerful ways of inserting, reordering, appending, prepending  or deleting one or more news-items.”</p>
</li>
<li>
<p><strong>Administrator</strong><br>
“As an administrator, I want to start, stop, or restart the system, manage the configured feeds, and monitor operational health and error conditions.”</p>
</li>
</ul>
<hr>
<h2>Functional Requirements</h2>
<ul>
<li>Consume RSS / Atom / JSON-LD feeds incrementally</li>
<li>Filter items by topic or sensitivity</li>
<li>Merge multiple feeds chronologically</li>
<li>Produce continuously updated summaries</li>
</ul>
<hr>
<h2>Constraints / Assumptions / Preconditions</h2>
<h3>Assumptions</h3>
<ul>
<li>Feeds may be large or unbounded</li>
<li>Items arrive over time</li>
</ul>
<h3>Constraint</h3>
<ul>
<li>Memory usage must remain bounded</li>
</ul>
<h3>Preconditions</h3>
<ul>
<li>At least one news feed is configured</li>
<li>Feeds are RSS or JSON-LD and timestamped</li>
<li>Items within a feed are presented in reverse-chronological order</li>
<li>Each item contains a content-link or optionally -  inline content</li>
<li>Items may belong to multiple categories</li>
</ul>
<hr>
<h2>Proposed High-Level Solution</h2>
<p>Each feed is modeled as a <strong>generator</strong> producing yield values lazily.<br>
The ordered set of values produced by successive, demand-driven calls to <code>move-next()</code> is called the <strong>yield of the generator</strong>.</p>
<h2>A generator’s yield may be finite or infinite, and may be empty for a given generator instance without implying exhaustion of the underlying data source.</h2>
<h2>Known Approaches That Are Problematic</h2>
<p>These approaches require full materialization in memory:</p>
<ul>
<li>Eager sequences (XPath)</li>
<li>DOM-style loading</li>
<li>Materialized feeds</li>
</ul>
<hr>
<h2>Benefits of the Generators Approach</h2>
<ul>
<li>Bounded memory usage</li>
<li>Low latency</li>
<li>Composability</li>
<li>Deterministic control of evaluation</li>
</ul>
<hr>
<h2>End-to-End Flow</h2>
<pre><code class="language-text">+-------------------------------+
| 1. Feed Fetching              |
| Input:  external providers    |
| Output: G_rawItems            |
+---------------+---------------+
                |
+---------------v---------------+
| 2. Normalization              |
| Input:  G_rawItems            |
| Output: G_normalizedItems     |
+---------------+---------------+
                |
+---------------v---------------+
| 3. Filtering                  |  &lt;-- unwanted content removed
| Input:  G_normalizedItems     |
| Output: G_filteredItems       |
+---------------+---------------+
                |
+---------------v---------------+
| 4. Topic Classification       |
| Input:  G_filteredItems       |
| Output: G_classifiedItems     |
+---------------+---------------+
                |
+---------------v---------------+
| 5. Clustering                 |
| Input:  G_classifiedItems     |
| Output: G_clusteredItems      |
+---------------+---------------+
                |
+---------------v---------------+
| 6. Ranking                    |
| Input:  G_clusteredItems      |
| Output: G_rankedItems         |
+---------------+---------------+
                |
+---------------v---------------+
| 7. Summary Page Generation    |
| Input:  G_rankedItems         |
| Output: G_summaryPageItems,   |
|         HTML                  |
+---------------+---------------+
                |
+---------------v---------------+
| 8. Detail Page Generation     |
| Input:  G_summaryPageItems    |
| Output: HTML Detail Pages     |
+-------------------------------+
</code></pre>
<h2>Remarks</h2>
<ol>
<li>The participating generator instances are named using the convention <code>G_{name}</code>.</li>
<li>Every stage except the final one produces a new generator.</li>
<li>Every stage except the very first uses a generator as its input.</li>
<li>Arrow semantics: the output generator of one stage is the input for the next stage.</li>
</ol>
<hr>
<h2>Brief Description of the Core Processes in the Pipeline</h2>
<h3>Process 1 — Feed Fetching &amp; Acquisition</h3>
<p><strong>Goal:</strong><br>
Continuously pull RSS / Atom / JSON-LD feeds from CNN, Fox, NBC, BBC, etc.</p>
<p><strong>Includes:</strong></p>
<ul>
<li>Periodic polling (e.g., every 5 minutes)</li>
<li>Detection of new items (GUID, URL hash, published timestamps)</li>
<li>N-way merging to ensure the resulting yield is sorted in reverse-chronological order</li>
<li>Basic sanity validation (e.g., XML schema validity)</li>
</ul>
<p><strong>Output:</strong><br>
A generator whose yield values are raw feed items (XML / JSON documents) → input to Process 2.</p>
<hr>
<h3>Process 2 — Parsing &amp; Normalization</h3>
<p><strong>Goal:</strong><br>
Convert heterogeneous raw feed items into a uniform internal format.</p>
<p><strong>Normalized fields include:</strong></p>
<ul>
<li>Title</li>
<li>Description / Summary</li>
<li>Full text (if available)</li>
<li>URL</li>
<li>Publication time (converted to UTC)</li>
<li>Source</li>
<li>Images, categories, tags</li>
<li>Named entities (optional NLP-based enrichment)</li>
</ul>
<p><strong>Output:</strong><br>
A generator yielding clean, normalized <code>NewsItem</code> documents → input to Process 3.</p>
<hr>
<h3>Process 3 — Content Filtering &amp; Exclusion Rules</h3>
<p><strong>Goal:</strong><br>
Remove unwanted items early using configurable rule sets.</p>
<p><strong>Examples:</strong></p>
<ul>
<li><strong>Blocked topics:</strong> politics, celebrity gossip, violence, etc.</li>
<li><strong>Blocked entities:</strong> Donald Trump, Joe Biden, Kanye West, etc.</li>
<li><strong>Blocked publishers</strong> (optional)</li>
<li><strong>Expiration rules:</strong>
<ul>
<li>Tech news stale after 48 hours</li>
<li>Breaking news stale after 6 hours</li>
</ul>
</li>
</ul>
<p><strong>Techniques:</strong></p>
<ul>
<li>Keyword filtering</li>
<li>Named Entity Recognition (NER)</li>
<li>Sensitive-topic classifiers (ML-based)</li>
<li>Freshness scoring</li>
</ul>
<p><strong>Output:</strong><br>
A generator yielding allowed, filtered <code>NewsItem</code> documents → input to Process 4.<br>
Rejected items are stored separately for auditing.</p>
<hr>
<h3>Process 4 — Topic Classification</h3>
<p><strong>Goal:</strong><br>
Assign each item to one or more topics.</p>
<p><strong>Example topics:</strong></p>
<ul>
<li>Politics</li>
<li>World</li>
<li>Tech</li>
<li>Health</li>
<li>Sports</li>
<li>Business</li>
<li>Disasters / Urgent events</li>
<li>Crime / Safety</li>
<li>Entertainment</li>
</ul>
<p><strong>Approaches:</strong></p>
<ul>
<li>Fine-tuned BERT classifier (preferred)</li>
<li>TF-IDF + SVM (simpler)</li>
<li>Feed-provided category tags (fallback)</li>
</ul>
<p><strong>Output:</strong><br>
A generator yielding categorized <code>NewsItem</code> documents → input to Process 5.</p>
<hr>
<h3>Process 5 — Similarity Analysis &amp; Clustering</h3>
<p><strong>Goal:</strong><br>
Group news items from different sources describing the same event.</p>
<p><strong>Techniques:</strong></p>
<ul>
<li>Semantic vector embeddings (e.g., SBERT, Ada embeddings)</li>
<li>Cosine similarity</li>
<li>Hierarchical clustering or DBSCAN</li>
</ul>
<p><strong>Produces:</strong></p>
<ul>
<li>Clusters of highly similar articles</li>
<li>A primary (best) representative per cluster</li>
</ul>
<p><strong>Output:</strong><br>
A generator yielding clusters of related articles → input to Process 6.</p>
<p><strong>Note:</strong><br>
To better match streaming behavior, clustering may operate within bounded windows (e.g., sliding windows) while still consuming the input generator.</p>
<hr>
<h3>Process 6 — Ranking, Urgency, and Freshness Scoring</h3>
<p><strong>Goal:</strong><br>
Prioritize which news appears on the Summary Page.</p>
<p><strong>Computed scores:</strong></p>
<ul>
<li>Freshness score (more recent → higher)</li>
<li>Urgency score (disasters, crises, violence)</li>
<li>Coverage score (number of sources reporting)</li>
<li>Engagement score (optional: social signals)</li>
</ul>
<p><strong>Weighted formula:</strong></p>
<p><code>FinalScore = a*Urgency + b*Freshness + c*Coverage + d*EditorRules</code></p>
<p>Items with the highest scores per topic are selected.</p>
<p>This stage does <strong>not</strong> require a full total ordering; instead a partial ordering (e.g., top-K per topic) preserves bounded memory.</p>
<p>Editor-driven operations (insert, remove, reorder) are modeled as generator transformations applied downstream of ranking.</p>
<p><strong>Output:</strong><br>
A generator yielding ranked clusters → input to Process 7.</p>
<hr>
<h3>Process 7 — Summary Page Generation</h3>
<p>This stage consumes the input generator and produces finite views intended for presentation.</p>
<p><strong>Goal:</strong><br>
Build a continuously updated Summary Page (“Front Page”) containing:</p>
<ul>
<li>Top events per topic</li>
<li>Short summaries</li>
<li>Links to primary articles</li>
<li>“Read similar news” (cluster siblings)</li>
<li>Source icons</li>
<li>Timestamp of most recent update</li>
</ul>
<p>The page auto-refreshes and always reflects the newest items.</p>
<hr>
<h3>Process 8 — Detailed Pages &amp; Cross-Links</h3>
<p>This stage consumes its input generator and produces finite presentation views.</p>
<p><strong>For each cluster:</strong></p>
<ul>
<li>Canonical article (primary representative)</li>
<li>Related articles across sources</li>
<li>Timeline of developments</li>
<li>Additional metadata (images, entities, tags)</li>
</ul>
<p><strong>Cross-links include:</strong></p>
<ul>
<li>“More like this…”</li>
<li>“Earlier developments…”</li>
<li>“Follow-up stories…”</li>
</ul>
<hr>
<h2>Notes on the Process Pipeline</h2>
<ul>
<li>Feed Fetching typically wraps one or more data providers<br>
→ produces <code>G_rawItems</code> lazily (RSS, JSON APIs, DB cursors, web services)</li>
<li>Every stage is expressible as:
<ul>
<li><code>for-each</code>, <code>filter</code>, <code>append</code>, <code>prepend</code>, <code>insert-at</code>, <code>remove-where</code>, <code>concat</code>, or <code>fold</code>, etc., producing a new generator derived from the previous one</li>
</ul>
</li>
<li>No stage requires full materialization unless explicitly demanded<br>
(e.g., <code>to-array</code>, bounded sort, pagination)</li>
<li>Infinite generators are valid until stage 6; stages 7–8 typically consume finite prefixes (<code>take(n)</code>)</li>
</ul>
<hr>
<h2>Why This Fits the Generator Datatype Extremely Well</h2>
<ul>
<li>The pipeline is a composition of generator transformers</li>
<li>Each box maps almost 1-to-1 to generator operations</li>
<li>External data providers integrate naturally at Stage 1</li>
<li>Sorting can be introduced in different ways:
<ul>
<li>External merge-sort over generators</li>
<li>Bounded-window ranking</li>
<li>Top-K lazy ranking – e.g. using heaps.</li>
</ul>
</li>
</ul>
<hr>
<h2>Alternative Flows</h2>
<h3>Alternative Flow 1 — Feed Temporarily Stops Producing New Items</h3>
<p><strong>Condition:</strong><br>
A feed is reachable but has no new items since the last polling cycle.</p>
<p><strong>Flow:</strong></p>
<ol>
<li>The feed generator advances (<code>move-next()</code>).</li>
<li>The data provider returns no new items.</li>
<li>The feed-generator instance yields no items during this interval.</li>
<li>Downstream generators remain operational.</li>
<li>If all feeds are empty, no new items are added downstream.</li>
</ol>
<p><strong>Result:</strong><br>
The pipeline continues uninterrupted; no special handling is required.</p>
<hr>
<h3>Alternative Flow 2 — Partial Consumption of the Pipeline</h3>
<p><strong>Condition:</strong><br>
Only a finite prefix of the stream is required (e.g., top N items).</p>
<p><strong>Flow:</strong></p>
<ol>
<li>Downstream consumers apply <code>take(N)</code>.</li>
<li>Upstream generators are evaluated only as needed.</li>
<li>Remaining potential yield values are never materialized.</li>
</ol>
<p><strong>Result:</strong><br>
Latency and memory usage remain bounded. The pipeline supports early termination naturally.</p>
<hr>
<h3>Alternative Flow 3 — Editor Inserts or Reorders Items</h3>
<p><strong>Condition:</strong><br>
An editor manually modifies the aggregated stream.</p>
<p><strong>Flow:</strong></p>
<ol>
<li>Editor operations are applied as generator transformations<br>
(<code>append</code>, <code>prepend</code>, <code>insert-at</code>, <code>remove-at</code>, <code>remove-where</code>).</li>
<li>A new generator with the modified yield is produced.</li>
<li>Downstream stages consume it transparently.</li>
</ol>
<p><strong>Result:</strong><br>
Editorial control integrates seamlessly without breaking the pipeline.</p>
<hr>
<h2>Exception Flows</h2>
<h3>Exception Flow 1 — Feed Unreachable or Network Failure</h3>
<p><strong>Condition:</strong><br>
A feed cannot be reached during polling.</p>
<p><strong>Flow:</strong></p>
<ol>
<li>The data provider reports an error or timeout.</li>
<li>The next instance of the feed generator yields no items during this polling interval.</li>
<li>The error is logged for monitoring.</li>
<li>A retry policy (e.g., exponential backoff) is applied.</li>
</ol>
<p><strong>Result:</strong><br>
The system continues operating with remaining feeds.</p>
<hr>
<h3>Exception Flow 2 — Malformed Feed Data</h3>
<p><strong>Condition:</strong><br>
A feed item is malformed (invalid XML/JSON or schema validation problems, e.g. missing required fields).</p>
<p><strong>Flow:</strong></p>
<ol>
<li>The normalization stage detects the issue.</li>
<li>The item is discarded or quarantined.</li>
<li>Processing continues with subsequent items.</li>
</ol>
<p><strong>Result:</strong><br>
Malformed data does not propagate downstream.</p>
<hr>
<h3>Exception Flow 3 — Resource Exhaustion Risk</h3>
<p><strong>Condition:</strong><br>
A downstream operation risks exceeding memory limits.</p>
<p><strong>Flow:</strong></p>
<ol>
<li>Bounded strategies (windowing, top-K selection) are applied.</li>
<li>Full materialization is avoided.</li>
<li>If needed, the operation degrades gracefully (e.g., reduced clustering depth).</li>
</ol>
<p><strong>Result:</strong><br>
System stability is preserved under load.</p>
<hr>
<h2>Postconditions</h2>
<p>Upon successful execution:</p>
<h3>Functional Outcomes</h3>
<ul>
<li>End users see an up-to-date Summary Page.</li>
<li>Each summary item links to a Detailed Page.</li>
<li>Editors can intervene using generator operations.</li>
<li>Administrators retain full system control.</li>
</ul>
<h3>Technical Guarantees</h3>
<ul>
<li>Memory usage remains bounded.</li>
<li>Latency is minimized through lazy evaluation.</li>
<li>Full materialization occurs only when explicitly requested.</li>
</ul>
<h3>System State</h3>
<ul>
<li>All generators remain composable.</li>
<li>Generator composition remains valid after alternative and exceptional flows.</li>
<li>Empty generators correctly represent exhaustion.</li>
<li>Infinite yields are supported up to stages that require finiteness.</li>
</ul>
<hr>
<h2>References</h2>
<ol>
<li>
<p>RSS 2.0 Specification<br>
https://www.rssboard.org/rss-specification</p>
</li>
<li>
<p>Atom Publishing Protocol (RFC 5023)<br>
https://www.rfc-editor.org/rfc/rfc5023</p>
</li>
<li>
<p>JSON-LD Specification<br>
https://json-ld.org/spec/</p>
</li>
<li>
<p>TF-IDF, “Understanding TF-IDF (Term Frequency-Inverse Document Frequency)”,
https://www.geeksforgeeks.org/machine-learning/understanding-tf-idf-term-frequency-inverse-document-frequency/</p>
</li>
<li>
<p>TF-IDF + SVM, “Strengthening Fake News Detection: Leveraging SVM and Sophisticated Text Vectorization Techniques. Defying BERT?”,
https://arxiv.org/html/2411.12703v1</p>
</li>
<li>
<p>Sentence-BERT (SBERT)<br>
Reimers, N. &amp; Gurevych, I., 2019<br>
https://arxiv.org/abs/1908.10084</p>
</li>
<li>
<p>Fine-tuned BERT, “Fine-tuning a BERT model”,
https://www.tensorflow.org/tfmodels/nlp/fine_tune_bert</p>
</li>
<li>
<p>Ada Embeddings (OpenAI)<br>
Radford et al., 2021<br>
https://arxiv.org/abs/2103.00020</p>
</li>
<li>
<p>Cosine Similarity<br>
https://en.wikipedia.org/wiki/Cosine_similarity</p>
</li>
<li>
<p>Hierarchical Clustering<br>
https://en.wikipedia.org/wiki/Hierarchical_clustering</p>
</li>
<li>
<p>DBSCAN<br>
Ester et al., 1996<br>
https://www.aaai.org/Papers/KDD/1996/KDD96-037.pdf</p>
</li>
</ol>
</div></details></div>
<div class="toot" id="created-2379"><h2>Pull request #2379 created<span class="toot-id"> #created-2379</span></h2><div class="pubdate">12 Jan at 15:03:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2379">https://github.com/qt4cg/qtspecs/pull/2379</a></div><details><summary>Use exported schema to validate function catalogs</summary><div class="markup"><p>This PR adds an exported SCM version of the <code>fos.xsd</code> schema with an embedded license. Updates to the build script use it to validate all <code>function-catalog.xml</code> files.</p>
<p>Pro: validation</p>
<p>Con: any change to the <code>fos.xsd</code> also has to be accompanied by an update to the exported schema, which probably, only Mike or I can do.</p>
</div></details></div>
<div class="toot" id="created-2378"><h2>Issue #2378 created<span class="toot-id"> #created-2378</span></h2><div class="pubdate">12 Jan at 12:07:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2378">https://github.com/qt4cg/qtspecs/issues/2378</a></div><details><summary>HTML indenting</summary><div class="markup"><p>The spec says (in both 3.1 and 4.0):</p>
<blockquote>
<p>The inline elements are those included in the %inline category of any of the HTML 4.01 DTDs or those elements defined to be phrasing elements in HTML5</p>
</blockquote>
<p>This could be read as defining one set of inline elements for version="4.01" and a different set of inline elements for version="5.0", or it could be read as indicating that an element is an inline element if it satisfies either of these two conditions.</p>
</div></details></div>
<div class="toot" id="closed-2370"><h2>Issue #2370 closed<span class="toot-id"> #closed-2370</span></h2><div class="pubdate">12 Jan at 11:00:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2370">https://github.com/qt4cg/qtspecs/pull/2370</a></div><p>Add character-maps to the allowed context dependencies</p></div>
<div class="toot" id="closed-2374"><h2>Issue #2374 closed<span class="toot-id"> #closed-2374</span></h2><div class="pubdate">12 Jan at 10:53:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2374">https://github.com/qt4cg/qtspecs/pull/2374</a></div><p>Markup: Allow empty nt elements</p></div>
<div class="toot" id="created-2377"><h2>Pull request #2377 created<span class="toot-id"> #created-2377</span></h2><div class="pubdate">12 Jan at 10:51:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2377">https://github.com/qt4cg/qtspecs/pull/2377</a></div><details><summary>2195 F+O Editorial Corrections</summary><div class="markup"><p>F+O: editorial corrections to issues identified in #2195 (mainly corrections to examples), plus completion of missing change metadata.</p>
</div></details></div>
<div class="toot" id="created-2376"><h2>Pull request #2376 created<span class="toot-id"> #created-2376</span></h2><div class="pubdate">09 Jan at 15:02:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2376">https://github.com/qt4cg/qtspecs/pull/2376</a></div><details><summary>2337 Extend xsl:mode/@typed to handle JNodes etc</summary><div class="markup"><p>Fix #2337</p>
</div></details></div>
<div class="toot" id="created-2375"><h2>Pull request #2375 created<span class="toot-id"> #created-2375</span></h2><div class="pubdate">09 Jan at 13:24:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2375">https://github.com/qt4cg/qtspecs/pull/2375</a></div><details><summary>2195 Editorial Omnibus</summary><div class="markup"><p>Fixes a number of problems from issue #2195.</p>
</div></details></div>
<div class="toot" id="created-2374"><h2>Pull request #2374 created<span class="toot-id"> #created-2374</span></h2><div class="pubdate">09 Jan at 13:15:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2374">https://github.com/qt4cg/qtspecs/pull/2374</a></div><details><summary>Markup: Allow empty nt elements</summary><div class="markup"><p>Stylesheet change to allow empty NT elements, bringing them into line with other referencing elements such as <code>termref</code> and <code>xnt</code>. The markup <code>&lt;nt def="AxisStep"/&gt;</code> is treated as equivalent to <code>&lt;nt def="AxisStep"&gt;AxisStep&lt;/nt&gt;</code>. This removes a common source of error which tends to result in missing text in the spec rather than in any kind of build error.</p>
</div></details></div>
<div class="toot" id="created-2373"><h2>Pull request #2373 created<span class="toot-id"> #created-2373</span></h2><div class="pubdate">09 Jan at 10:30:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2373">https://github.com/qt4cg/qtspecs/pull/2373</a></div><details><summary>2359 No conversion to JNode in absolute paths</summary><div class="markup"><p>Fix #2359</p>
</div></details></div>
<div class="toot" id="created-2372"><h2>Pull request #2372 created<span class="toot-id"> #created-2372</span></h2><div class="pubdate">09 Jan at 10:21:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2372">https://github.com/qt4cg/qtspecs/pull/2372</a></div><details><summary>2344 Change rendition of PIs in HTML5</summary><div class="markup"><p>Fix #2344</p>
</div></details></div>
<div class="toot" id="created-2371"><h2>Pull request #2371 created<span class="toot-id"> #created-2371</span></h2><div class="pubdate">09 Jan at 09:50:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2371">https://github.com/qt4cg/qtspecs/pull/2371</a></div><details><summary>2369 Add content for F&amp;O section 11 (Processing binary values)</summary><div class="markup"><p>Fix #2369</p>
</div></details></div>
<div class="toot" id="created-2370"><h2>Pull request #2370 created<span class="toot-id"> #created-2370</span></h2><div class="pubdate">09 Jan at 09:20:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2370">https://github.com/qt4cg/qtspecs/pull/2370</a></div><details><summary>Add character-maps to the allowed context dependencies</summary><div class="markup"><p>Currently function-catalog.xml is invalid against the schema fos.xsd. This PR updates the schema to allow "character-maps" in the enumeration of allowed context dependencies.</p>
<p>(Note, this should probably cause the build to fail. The problem was only spotted when using Oxygen to query the function catalog.)</p>
</div></details></div>
<div class="toot" id="created-2369"><h2>Issue #2369 created<span class="toot-id"> #created-2369</span></h2><div class="pubdate">09 Jan at 00:40:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2369">https://github.com/qt4cg/qtspecs/issues/2369</a></div><details><summary>F+O section 11 is empty</summary><div class="markup"><p>F+O section 11, Processing Binary Values, is currently empty</p>
<p>Has something gone wrong, or should we delete the section?</p>
</div></details></div>
<div class="toot" id="created-2368"><h2>Pull request #2368 created<span class="toot-id"> #created-2368</span></h2><div class="pubdate">08 Jan at 23:08:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2368">https://github.com/qt4cg/qtspecs/pull/2368</a></div><details><summary>2367 Misc XSLT editorial fixes</summary><div class="markup"><p>Most of the changes here are to bring the change log entries up to date. Also:</p>
<p>Fix #2356
Fix #2366
Fix #2367</p>
</div></details></div>
<div class="toot" id="created-2367"><h2>Issue #2367 created<span class="toot-id"> #created-2367</span></h2><div class="pubdate">08 Jan at 18:04:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2367">https://github.com/qt4cg/qtspecs/issues/2367</a></div><details><summary>Documentation for new main-module attribute of xsl:stylesheet</summary><div class="markup"><p>In the XSLT 4.0 spec, 3.6 <a href="https://qt4cg.org/specifications/xslt-40/Overview.html#stylesheet-element">Stylesheet Element</a> says:</p>
<blockquote>
<p>The optional main-module attribute is purely documentary. By including this attribute in every <a href="https://qt4cg.org/specifications/xslt-40/Overview.html#dt-stylesheet-module">stylesheet module</a> of a <a href="https://qt4cg.org/specifications/xslt-40/Overview.html#dt-package">package</a>, an XSLT editing tool may be enabled to locate the top-level module of the relevant package [...]</p>
</blockquote>
<p>But what does "top-level module" mean? Should this say "principal stylesheet module" instead? I can see that <em>top-level package</em> is defined, but not "top-level module", so I'm confused.</p>
</div></details></div>
<div class="toot" id="created-2366"><h2>Issue #2366 created<span class="toot-id"> #created-2366</span></h2><div class="pubdate">08 Jan at 17:44:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2366">https://github.com/qt4cg/qtspecs/issues/2366</a></div><details><summary>json-lines attribute for xsl:output and xl:result-document in XSLT spec</summary><div class="markup"><p>The new serialization parameter <code>json-lines</code> is documented at 26.2 <a href="https://qt4cg.org/specifications/xslt-40/Overview.html#id-default-serialization-parameters">Serialization parameters</a>. But please add a "changes" entry for the new attribute <code>json-lines</code> in the sections 25.1 <a href="https://qt4cg.org/specifications/xslt-40/Overview.html#creating-result-trees">Creating Secondary Results</a> and 26.1 <a href="https://qt4cg.org/specifications/xslt-40/Overview.html#id-xsl-output-declaration">The xsl:output declaration</a> in the XSLT 4.0 spec. This is currently missing.</p>
<p>(Note that there <strong>is</strong> already a changes entry in the Serialization spec at 3 <a href="https://qt4cg.org/specifications/xslt-xquery-serialization-40/Overview.html#serparam">Serialization Parameters</a>.)</p>
</div></details></div>
<div class="toot" id="created-2365"><h2>Issue #2365 created<span class="toot-id"> #created-2365</span></h2><div class="pubdate">07 Jan at 21:41:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2365">https://github.com/qt4cg/qtspecs/issues/2365</a></div><details><summary>Record types: extensible and non-extensible pairs</summary><div class="markup"><p>It is often useful in a function signature for an argument type to be an extensible record type (so additional fields are allowed, which the function can ignore, saving the need to check for their presence) while the return type is non-extensible (giving better static type checking for lookup expressions, for example).</p>
<p>Currently this requires two separate named record types to be declared, differing only in that one of them is extensible and the other not. This duplication is clearly undesirable.</p>
<p>One solution to this might be to have a single non-extensible definition of the name of the record type, with some way of indicating at the point where the record type is used that extensions are allowed.</p>
<p>For example (probably not viable syntax as written):</p>
<pre><code>fn:element-to-map-plan(
       $input as&nbsp;element()*  &nbsp;
)&nbsp;as&nbsp;fn:element-to-map-conversion-plan

fn:element-to-map(
       $node as element(),
       $plan as extensible fn:element-to-map-conversion-plan
} as map(*)

</code></pre>
<p>Perhaps the syntax <code>extensible(fn:element-to-map-conversion-plan)</code> would work.</p>
</div></details></div>
<div class="toot" id="created-2364"><h2>Pull request #2364 created<span class="toot-id"> #created-2364</span></h2><div class="pubdate">07 Jan at 15:38:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2364">https://github.com/qt4cg/qtspecs/pull/2364</a></div><details><summary>2088 File Module: Feedback, Observations</summary><div class="markup"><p>Closes #2088</p>
</div></details></div>
<div class="toot" id="closed-2250"><h2>Issue #2250 closed<span class="toot-id"> #closed-2250</span></h2><div class="pubdate">07 Jan at 14:55:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2250">https://github.com/qt4cg/qtspecs/issues/2250</a></div><p>Function to detect/infer the string encoding from a binary</p></div>
<div class="toot" id="closed-2092"><h2>Issue #2092 closed<span class="toot-id"> #closed-2092</span></h2><div class="pubdate">07 Jan at 14:53:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2092">https://github.com/qt4cg/qtspecs/issues/2092</a></div><p>Drop map:pair, map:of-pairs, map:pairs, array:members, array:of-members</p></div>
<div class="toot" id="closed-2194"><h2>Issue #2194 closed<span class="toot-id"> #closed-2194</span></h2><div class="pubdate">07 Jan at 14:52:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2194">https://github.com/qt4cg/qtspecs/issues/2194</a></div><p>fn:transform sandbox=yes option</p></div>
<div class="toot" id="created-2363"><h2>Pull request #2363 created<span class="toot-id"> #created-2363</span></h2><div class="pubdate">07 Jan at 14:46:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2363">https://github.com/qt4cg/qtspecs/pull/2363</a></div><details><summary>2349 Revert array:join</summary><div class="markup"><p>Closes #2349</p>
</div></details></div>
<div class="toot" id="created-2362"><h2>Pull request #2362 created<span class="toot-id"> #created-2362</span></h2><div class="pubdate">07 Jan at 13:57:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2362">https://github.com/qt4cg/qtspecs/pull/2362</a></div><details><summary>2355 bin:infer-encoding: further alignments</summary><div class="markup"><p>Closes #2355</p>
</div></details></div>
<div class="toot" id="created-2361"><h2>Issue #2361 created<span class="toot-id"> #created-2361</span></h2><div class="pubdate">07 Jan at 12:49:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2361">https://github.com/qt4cg/qtspecs/issues/2361</a></div><details><summary>Encoding parameters: upper/lower case, normalization</summary><div class="markup"><p>The serializer spec says…</p>
<blockquote>
<p>Serializer are required to support values of <code>UTF-8</code> and <code>UTF-16</code></p>
</blockquote>
<p>…whereas the XQFO spec mentions <code>utf-8</code> as default value for <code>fn:serialize</code>. Similarly, only the UTF lower-case variants are listed for <code>fn:unparsed-text</code>, and there may be other places.</p>
<p>I think we should mention the upper-case variants everywhere, and add notes that upper/case is ignored when processing the encoding string.</p>
</div></details></div>
<div class="toot" id="created-2360"><h2>Issue #2360 created<span class="toot-id"> #created-2360</span></h2><div class="pubdate">07 Jan at 11:48:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2360">https://github.com/qt4cg/qtspecs/issues/2360</a></div><details><summary>fn:root() vs. absolute path expressions</summary><div class="markup"><p>Is there a particular reason why the absolute slash <code>/</code> is defined as complicated as…</p>
<pre><code class="language-xquery">self::gnode()/(fn:root(.) treat as (document-node()|jnode())/PP
</code></pre>
<p>…and wouldn’t it be helpful to simplify it get rid of the <code>treat as</code> expression?</p>
<pre><code class="language-xquery">self::gnode()/fn:root(.)/PP
</code></pre>
<p>In many cases, the document node does not exist or is not really needed, and it would allow users to use the slash for nodes that would otherwise needs to wrapped into document nodes, for example:</p>
<pre><code class="language-xquery">let $as := analyze-string('abc', 'b')
return $as/fn:match[/fn:non-match]
</code></pre>
</div></details></div>
<div class="toot" id="created-2359"><h2>Issue #2359 created<span class="toot-id"> #created-2359</span></h2><div class="pubdate">06 Jan at 21:27:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2359">https://github.com/qt4cg/qtspecs/issues/2359</a></div><details><summary>Implicit conversion to JNodes with absolute path expressions</summary><div class="markup"><p>Section 4.7.1 discusses absolute path expressions.</p>
<p>The first part of the section concerns leading "/", and includes the note:</p>
<blockquote>
<p>If the context value includes a map or array, it is not converted implicitly to a JNode; rather, a type error occurs.</p>
</blockquote>
<p>The second part concerns leading "//", and includes the statement:</p>
<blockquote>
<p>Any map or array that is present in the context value is first coerced to a JNode by applying the [fn:jtree] function.</p>
</blockquote>
<p>It might be inferred that "/" doesn't do this conversion, but "//" does. However, this certainly isn't stated explicitly, and there would be no logical reason for treating the two cases differently.</p>
<p>We should either do the conversion for both cases, or for neither.</p>
<p>I'm inclined to do it for neither. Partly because an implicit conversion wouldn't do any upwards navigation to a different "root" node, as users might expect; partly because doing the conversion reduces the type information available to the compiler.</p>
</div></details></div>
<div class="toot" id="minutes-01-06"><h2>QT4 CG meeting 147 draft minutes<span class="toot-id"> #minutes-01-06</span></h2><div class="pubdate">06 Jan at 17:15:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2026/01-06">https://qt4cg.org/meeting/minutes/2026/01-06</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-407"><h2>Issue #407 closed<span class="toot-id"> #closed-407</span></h2><div class="pubdate">06 Jan at 16:58:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/407">https://github.com/qt4cg/qtspecs/issues/407</a></div><p>XSLT-specific context properties used in function items</p></div>
<div class="toot" id="closed-2274"><h2>Issue #2274 closed<span class="toot-id"> #closed-2274</span></h2><div class="pubdate">06 Jan at 16:58:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2274">https://github.com/qt4cg/qtspecs/pull/2274</a></div><p>407 Function items capturing XSLT context components</p></div>
<div class="toot" id="closed-1011"><h2>Issue #1011 closed<span class="toot-id"> #closed-1011</span></h2><div class="pubdate">06 Jan at 16:55:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1011">https://github.com/qt4cg/qtspecs/issues/1011</a></div><p>fn:transform() improvements</p></div>
<div class="toot" id="closed-2348"><h2>Issue #2348 closed<span class="toot-id"> #closed-2348</span></h2><div class="pubdate">06 Jan at 16:55:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2348">https://github.com/qt4cg/qtspecs/pull/2348</a></div><p>1011 fn transform improvements</p></div>
<div class="toot" id="closed-2339"><h2>Issue #2339 closed<span class="toot-id"> #closed-2339</span></h2><div class="pubdate">06 Jan at 16:52:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2339">https://github.com/qt4cg/qtspecs/issues/2339</a></div><p>Default priority of match="element(A|B)"</p></div>
<div class="toot" id="closed-2335"><h2>Issue #2335 closed<span class="toot-id"> #closed-2335</span></h2><div class="pubdate">06 Jan at 16:52:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2335">https://github.com/qt4cg/qtspecs/issues/2335</a></div><p>Make `jnode()` like `element()`</p></div>
<div class="toot" id="closed-2334"><h2>Issue #2334 closed<span class="toot-id"> #closed-2334</span></h2><div class="pubdate">06 Jan at 16:52:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2334">https://github.com/qt4cg/qtspecs/issues/2334</a></div><p>XSLT: Parenthesized subexpressions within Patterns</p></div>
<div class="toot" id="closed-2297"><h2>Issue #2297 closed<span class="toot-id"> #closed-2297</span></h2><div class="pubdate">06 Jan at 16:52:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2297">https://github.com/qt4cg/qtspecs/issues/2297</a></div><p>XSLT pattern ambiguities with typed matches</p></div>
<div class="toot" id="closed-2336"><h2>Issue #2336 closed<span class="toot-id"> #closed-2336</span></h2><div class="pubdate">06 Jan at 16:52:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2336">https://github.com/qt4cg/qtspecs/pull/2336</a></div><p>2334 Revise XSLT pattern syntax and semantics</p></div>
<div class="toot" id="closed-2048"><h2>Issue #2048 closed<span class="toot-id"> #closed-2048</span></h2><div class="pubdate">06 Jan at 16:51:41 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2048">https://github.com/qt4cg/qtspecs/issues/2048</a></div><p>Untrusted execution, and security more generally</p></div>
<div class="toot" id="agenda-01-13"><h2>QT4 CG meeting 148 draft agenda<span class="toot-id"> #agenda-01-13</span></h2><div class="pubdate">06 Jan at 11:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2026/01-13">https://qt4cg.org/meeting/agenda/2026/01-13</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-2358"><h2>Pull request #2358 created<span class="toot-id"> #created-2358</span></h2><div class="pubdate">05 Jan at 16:26:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/2358">https://github.com/qt4cg/qtspecs/pull/2358</a></div><details><summary>2357 Standardize on element() rather than element(*)</summary><div class="markup"><p>Fix #2357</p>
</div></details></div>
<div class="toot" id="created-2357"><h2>Issue #2357 created<span class="toot-id"> #created-2357</span></h2><div class="pubdate">05 Jan at 16:12:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2357">https://github.com/qt4cg/qtspecs/issues/2357</a></div><details><summary>element() vs element(*) in function signatures</summary><div class="markup"><p>We use <code>element(*)</code> and <code>element()</code> interchangeably in function signatures. I propose we standardise on the simpler form, <code>element()</code>.</p>
<p>Ditto <code>attribute()</code>.</p>
</div></details></div>
<div class="toot" id="created-2356"><h2>Issue #2356 created<span class="toot-id"> #created-2356</span></h2><div class="pubdate">05 Jan at 15:34:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/2356">https://github.com/qt4cg/qtspecs/issues/2356</a></div><details><summary>Clarification on scope of variables in xsl:for-each-group/(@split-when|@merge-when)</summary><div class="markup"><p>A user experimenting with <code>xsl:for-each-group/@split-when</code> with my 4-&gt;3 source-code transformer, inferred that the variable <code>$group</code> was available within the sequence constructor of the grouping instruction.</p>
<p>(Unfortunately due to an error in my transformer code <code>$group</code> was within scope in the sequence constructor, though with the wrong value ;-) - this has since been corrected.)</p>
<p>A close and detailed reading of the spec shows that <code>$group</code> and <code>$next</code> are implied as only in scope for the evaluation of the <code>@split-when</code> expression. Might I suggest that there is a small note emphasising this is the case? Similar clarification may be worthwhile for <code>@merge-when</code> too.</p>
</div></details></div>
<div class="toot" id="agenda-01-06"><h2>QT4 CG meeting 147 draft agenda<span class="toot-id"> #agenda-01-06</span></h2><div class="pubdate">05 Jan at 12:00:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2026/01-06">https://qt4cg.org/meeting/agenda/2026/01-06</a></div><p>Draft agenda published.</p></div></div></article></main></body></html>