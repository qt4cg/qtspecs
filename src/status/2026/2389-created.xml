<item>
   <title>Issue #2389 created</title>
   <pubDate>2026-01-20T15:44:14Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/2389</link>
   <guid>https://qt4cg.org/@qt4cg/2026/#created-2389</guid>
   <description>&lt;div&gt;&lt;p&gt;Adaptive Serialization: more freedom?&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;The adaptive serialization method was introduced “for the purposes of debugging query results”. For our processor, it has turned out pretty soon that it does not satisfy the requirements of our users, which is why we have introduced a custom debugging method.&lt;/p&gt;
&lt;p&gt;I wonder what others think: Shouldn’t we relax several of the rules and let the implementation decide what to output? We haven’t defined either how the output of &lt;code&gt;fn:trace&lt;/code&gt; needs to look like.&lt;/p&gt;
&lt;p&gt;Some examples:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The output of doubles often causes confusion. If parsed JSON is output, small integers will be output in exponential notation. For example, &lt;code&gt;parse-json('{ "A" : 20 }')&lt;/code&gt; needs to be output as &lt;code&gt;{ "A": 2.0e1 }&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;xs:date("2001-01-01")&lt;/code&gt; is output as &lt;code&gt;xs:date("2001-01-01")&lt;/code&gt;, while &lt;code&gt;xs:token('x')&lt;/code&gt; is output as &lt;code&gt;"x"&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fn() { 1 }&lt;/code&gt; is output as &lt;code&gt;(anonymous-function)#0&lt;/code&gt;, whereas an implementation could prefer to use the output of &lt;code&gt;fn:function-identity&lt;/code&gt; (see #2388), or output the original query string (if available), reproduce a string representation of the function body, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I will be glad to create a PR.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
