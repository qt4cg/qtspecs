<item>
   <title>Issue #2365 created</title>
   <pubDate>2026-01-07T21:41:50Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/2365</link>
   <guid>https://qt4cg.org/@qt4cg/2026/#created-2365</guid>
   <description>&lt;div&gt;&lt;p&gt;Record types: extensible and non-extensible pairs&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;It is often useful in a function signature for an argument type to be an extensible record type (so additional fields are allowed, which the function can ignore, saving the need to check for their presence) while the return type is non-extensible (giving better static type checking for lookup expressions, for example).&lt;/p&gt;
&lt;p&gt;Currently this requires two separate named record types to be declared, differing only in that one of them is extensible and the other not. This duplication is clearly undesirable.&lt;/p&gt;
&lt;p&gt;One solution to this might be to have a single non-extensible definition of the name of the record type, with some way of indicating at the point where the record type is used that extensions are allowed.&lt;/p&gt;
&lt;p&gt;For example (probably not viable syntax as written):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;fn:element-to-map-plan(
       $input as element()*   
) as fn:element-to-map-conversion-plan

fn:element-to-map(
       $node as element(),
       $plan as extensible fn:element-to-map-conversion-plan
} as map(*)

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Perhaps the syntax &lt;code&gt;extensible(fn:element-to-map-conversion-plan)&lt;/code&gt; would work.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
