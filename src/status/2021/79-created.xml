<item>
   <title>Issue #79 created</title>
   <pubDate>2021-06-04T07:46:43Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/79</link>
   <guid>https://qt4cg.org/@qt4cg/2021/#created-79</guid>
   <description>&lt;div&gt;&lt;p&gt;[FO] New function fn:deep-normalize-space($e as node())&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;Summary: removes redundant whitespace within the content of a given node, leaving the element structure intact.&lt;/p&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; &amp;lt;p&amp;gt;  My &amp;lt;i&amp;gt;crazy&amp;lt;/i&amp;gt;
&amp;lt;b&amp;gt; content&amp;lt;/b&amp;gt;.
&amp;lt;/p&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;becomes&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;p&amp;gt;My &amp;lt;i&amp;gt;crazy&amp;lt;/i&amp;gt; &amp;lt;b&amp;gt;content&amp;lt;/b&amp;gt;.&amp;lt;/p&amp;gt; &lt;/code&gt;
Rules (expressed informally, and may need refining):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The string value of the result is the normalize-space() of the string-value of the input.&lt;/li&gt;
&lt;li&gt;Every non-whitespace character in the result has the same ancestor path as the corresponding character in the input (for example if it was in an &lt;code&gt;i&lt;/code&gt; element in the input, then it will be in an &lt;code&gt;i&lt;/code&gt; element in the output).&lt;/li&gt;
&lt;li&gt;When several adjacent whitespace characters from different elements in the input are combined into a single space in the output, the resulting space will be in a text node whose parent is the result node corresponding to the common ancestor of those different elements.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For example &lt;code&gt;&amp;lt;i&amp;gt;easy &amp;lt;/i&amp;gt;&amp;lt;b&amp;gt; peasy&amp;lt;/b&amp;gt;&lt;/code&gt; becomes &lt;code&gt;&amp;lt;i&amp;gt;easy&amp;lt;/i&amp;gt; &amp;lt;b&amp;gt;peasy&amp;lt;/b&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Could perhaps also add an option to word-wrap to a given line length.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
