<item>
   <title>Issue #1459 created</title>
   <pubDate>2024-09-24T14:59:22Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/1459</link>
   <guid>https://qt4cg.org/@qt4cg/2024/#created-1459</guid>
   <description>&lt;div&gt;&lt;p&gt;Function properties and arities&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;I try to understand the semantics behind the &lt;strong&gt;Properties&lt;/strong&gt; section in the XQFO spec. Here are some examples of existing functions:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;fn:format-integer&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;The two-argument form of this function is ·deterministic·, ·context-dependent·, and ·focus-independent·. It depends on default language.
The three-argument form of this function is ·deterministic·, ·context-independent·, and ·focus-independent·.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start="2"&gt;
&lt;li&gt;&lt;code&gt;fn:format-time&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;This function is ·deterministic·, ·context-dependent·, and ·focus-independent·. It depends on default calendar, and default language, and default place, and implicit timezone.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start="3"&gt;
&lt;li&gt;&lt;code&gt;fn:index-of&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;The two-argument form of this function is ·deterministic·, ·context-dependent·, and ·focus-independent·. It depends on collations, and implicit timezone.
The three-argument form of this function is ·deterministic·, ·context-dependent·, and ·focus-independent·. It depends on collations, and static base URI, and implicit timezone.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start="4"&gt;
&lt;li&gt;&lt;code&gt;fn:element-number&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;The zero-argument form of this function is ·deterministic·, ·context-dependent·, and ·focus-dependent·.
The one-argument form of this function is ·deterministic·, ·context-independent·, and ·focus-independent·.
The two-argument form of this function is ·deterministic·, ·context-independent·, and ·focus-independent·.
The three-argument form of this function is ·deterministic·, ·context-independent·, and ·focus-independent·.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I am afraid I cannot give hints for improvement yet; I just noticed it is increasingly difficult to interpret. For the moment, I wonder…&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Are all of these current definitions correct?&lt;/li&gt;
&lt;li&gt;In many cases, if the user supplies an empty sequence as argument, the default value is used instead. This contrasts with the current property description that relies a lot on the function arities. For example, &lt;code&gt;fn:index($a, $b)&lt;/code&gt; and &lt;code&gt;fn:index-of($a, $b, ())&lt;/code&gt; should have identical properties, but the current wording implies that the three-argument of this function has different properties, e.g., it is said to rely in this case on the static base URI.&lt;/li&gt;
&lt;li&gt;Some functions with default values have a single property description (see &lt;code&gt;fn:format-integer&lt;/code&gt;), other have multiple descriptions (see &lt;code&gt;fn:format-time&lt;/code&gt;). Is there a particular rule behind that?&lt;/li&gt;
&lt;li&gt;Could we merge the descriptions for arities with identical properties?&lt;/li&gt;
&lt;li&gt;Maybe it will be easier not to consider the arities at all anymore?&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
