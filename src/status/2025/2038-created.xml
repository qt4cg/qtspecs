<item>
   <title>Issue #2038 created</title>
   <pubDate>2025-06-05T14:04:27Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/2038</link>
   <guid>https://qt4cg.org/@qt4cg/2025/#created-2038</guid>
   <description>&lt;div&gt;&lt;p&gt;Drop dependency of fn:apply-templates on the default mode&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;The new &lt;code&gt;fn:apply-templates&lt;/code&gt; function in XSLT can invoke the "default mode", either by specifying &lt;code&gt;mode="#default"&lt;/code&gt; or by not specifying a mode. The default mode is defined by the nearest containing instruction that has a &lt;code&gt;[xsl:]default-mode&lt;/code&gt; attribute.&lt;/p&gt;
&lt;p&gt;I would like to drop this dependency.&lt;/p&gt;
&lt;p&gt;Most of the cases where a function call depends on the static context (especially an XSLT function) are cases where the relevant property is fixed for a package (e.g. the set of named keys, decimal formats, or character maps). There are places where there is a dependency on something tha can vary in a more fine-grained way - notably (a) the default collation, and (b) the set of namespace bindings, but on the whole such dependencies are undesirable (a) because they introduce opportunities for user error (e.g. when copying and pasting code) and (b) because they increase the amount of information the processor has to keep around at runtime just in case it is needed (for example, in a dynamic function call). I would therefore like to avoid introducing this dependency.&lt;/p&gt;
&lt;p&gt;The proposed change is (a) to drop "#default" as a value of the &lt;code&gt;mode&lt;/code&gt; option for this function, and (b) to say that if no mode is specified by &lt;code&gt;fn:apply-templates&lt;/code&gt; the unnamed mode is used.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
