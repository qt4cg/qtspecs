<item>
   <title>Pull request #2259 created</title>
   <pubDate>2025-10-20T20:17:42Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/pull/2259</link>
   <guid>https://qt4cg.org/@qt4cg/2025/#created-2259</guid>
   <description>&lt;div&gt;&lt;p&gt;938 Canonical serialization&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;This represents a first draft to resolve issue #938 (and thereby slightly reduce our workload).&lt;/p&gt;
&lt;p&gt;Because both JSON and XML have canonical specifications, and there is nothing barring canonicalization being imposed upon other methods, I have opted to introduce the serialization parameter &lt;code&gt;canonical&lt;/code&gt; as a boolean, rather than extend the number of method options.&lt;/p&gt;
&lt;p&gt;I had to make certain decisions in this first draft, worth discussing.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The CX1.1 specs permit a parameter on whether to keep comments or not -- I think the user should deal with that before trying to serialize.&lt;/li&gt;
&lt;li&gt;I opted not to specify what happens for escape-solidus, use-character-maps, normalization-form and some other options, where user control may be desired.&lt;/li&gt;
&lt;li&gt;When a JSON object has an XNode, and when canonical is yes, I think the current serialization parameters should propagate down to the sub-serialization process.&lt;/li&gt;
&lt;li&gt;I think the normalization step I added to 4 Serialization may not be necessary, or incorrectly conceived.&lt;/li&gt;
&lt;li&gt;I opted to avoid specifying exactly what changes should be made to the JSON or XML, deferring to the external specifications. In line with that, I attempted to treat canonicalization as an encapsulated postprocess that could be cleanly disentangled from all the other options involved in serialization.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I've tried to make patches everywhere relevant, but I'm guessing there are places I've overlooked. Comments welcome.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
