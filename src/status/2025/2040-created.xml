<item>
   <title>Issue #2040 created</title>
   <pubDate>2025-06-08T19:56:22Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/2040</link>
   <guid>https://qt4cg.org/@qt4cg/2025/#created-2040</guid>
   <description>&lt;div&gt;&lt;p&gt;XQuery context value declaration&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;Section 5.17:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;there is no changes entry flagging the fact that the coercion rules are now applied (and corresponding test cases such as contextDecl-037a do not identity a PR). The relevant PR is PR #254 .&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The statement "&lt;em&gt;The context value declaration has the effect of setting the context value static type T in the static context.&lt;/em&gt;" is incorrect. The static context no longer includes a context value static type.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The statement "&lt;em&gt;In all cases where the context value has a value, that value must match the type T according to the rules for SequenceType matching&lt;/em&gt;" is incorrect (or at least, misleading): as stated two paragraphs later, coercion is applied. But because there can be multiple context value declarations in different modules, specifying different types, perhaps the intent is that coercion is applied only to a value supplied in the query, and not to a value supplied externally? If so, this needs clarifying. There are apparently no tests for coercing an externally-supplied value to the required type.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
