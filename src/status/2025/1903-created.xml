<item>
   <title>Issue #1903 created</title>
   <pubDate>2025-03-27T11:27:31Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/1903</link>
   <guid>https://qt4cg.org/@qt4cg/2025/#created-1903</guid>
   <description>&lt;div&gt;&lt;p&gt;`fn:scan-left`, `fn:scan-right`: missing steps&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;I have labeled #982 (which included position arguments) to be closed to focus on the remaining todos:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The types of the &lt;code&gt;$action&lt;/code&gt; parameters of &lt;code&gt;fn:fold-right&lt;/code&gt; and &lt;code&gt;fn:scan-right&lt;/code&gt; should be aligned. In particular, &lt;code&gt;item()*&lt;/code&gt; and &lt;code&gt;item()&lt;/code&gt; of the scan function should be swapped:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class="language-xquery"&gt;fn:fold-right(
  $input   as item()*,	
  $init    as item()*,	
  $action  as fn(item(), item()*) as item()*	
) as item()*

fn:scan-right(
  $input   as item()*,	
  $init    as item()*,	
  $action  as fn(item()*, item()) as item()*	
) as array(*)*
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start="2"&gt;
&lt;li&gt;The result of the last example of &lt;code&gt;fn:scan-left&lt;/code&gt; is syntactically wrong.&lt;/li&gt;
&lt;li&gt;The equivalent array functions are still missing (if we still believe we want to include them).&lt;/li&gt;
&lt;li&gt;We need tests.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
