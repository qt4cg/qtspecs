<item>
   <title>Issue #2101 created</title>
   <pubDate>2025-07-15T16:21:58Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/2101</link>
   <guid>https://qt4cg.org/@qt4cg/2025/#created-2101</guid>
   <description>&lt;div&gt;&lt;p&gt;Named record types: drop constructors, complete list&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;The spec defines various built-in named record types (https://qt4cg.org/specifications/xpath-functions-40/Overview.html#id-built-in-named-record-types):&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-xquery"&gt;key-value-pair
load-xquery-module-record
parsed-csv-structure-record
random-number-generator-record
schema-type-record
uri-structure-record
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Suggestions:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The spec says in https://qt4cg.org/specifications/xquery-40/xquery-40.html#id-named-record-types:&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Named record types implicitly create a constructor function that can be used to create instances of the record type.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I would propose excluding the constructors for built-in types. It will save us a lot of bulky code in the implementations, for functions that will hardly be used, as they all refer to return types of existing functions. Ironically, the only exception might be &lt;code&gt;key-value-pair&lt;/code&gt;, but it is redundant anyway (we already have &lt;code&gt;map:pair&lt;/code&gt;â€¦ unless it is dropped, together with the record type, by #2092).&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;A type is missing for the result of &lt;code&gt;fn:divide-decimals&lt;/code&gt;, and we should suffix &lt;code&gt;key-value-pair&lt;/code&gt; with &lt;code&gt;-record&lt;/code&gt; (provided we will keep it in the spec).&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
