<item>
   <title>Issue #2344 created</title>
   <pubDate>2025-12-15T14:46:28Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/2344</link>
   <guid>https://qt4cg.org/@qt4cg/2025/#created-2344</guid>
   <description>&lt;div&gt;&lt;p&gt;HTML Serialization: Processing Instructions&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;I was surprised to find the following rule in the serialiation spec for the &lt;code&gt;html&lt;/code&gt; method:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The HTML output method must terminate processing instructions with &amp;gt; rather than ?&amp;gt;. It is a &lt;a href="https://qt4cg.org/specifications/xslt-xquery-serialization-40/Overview.html#serial-err"&gt;serialization error&lt;/a&gt; [&lt;a href="https://qt4cg.org/specifications/xslt-xquery-serialization-40/Overview.html#ERRSERE0015"&gt;err:SERE0015&lt;/a&gt;] to use the HTML output method when &amp;gt; appears within a processing instruction in &lt;a href="https://qt4cg.org/specifications/xslt-xquery-serialization-40/Overview.html#dt-input-tree"&gt;input tree&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I could not find equivalent rules in other HTML specs. For example, the DOM Parsing and Serialization says in &lt;a href="https://w3c.github.io/DOM-Parsing/#dfn-xml-serializing-a-processinginstruction-node"&gt;3.2.1.7 XML serializing a ProcessingInstruction node&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Let markup be the concatenation of the following, in the order listed:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;"&amp;lt;?" (U+003C LESS-THAN SIGN, U+003F QUESTION MARK);&lt;/li&gt;
&lt;li&gt;The value of node's &lt;a href="https://w3c.github.io/DOM-Parsing/#dfn-target"&gt;target&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;" " (U+0020 SPACE);&lt;/li&gt;
&lt;li&gt;The value of node's &lt;a href="https://w3c.github.io/DOM-Parsing/#dfn-data"&gt;data&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;"?&amp;gt;" (U+003F QUESTION MARK, U+003E GREATER-THAN SIGN).&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;Are there specific reasons for omitting the last question mark?&lt;/p&gt;
&lt;p&gt;Next, what about whitespace if the value is missing? The test &lt;a href="https://github.com/qt4cg/qt4tests/blob/6215a08c4564752483559b490366e14f55fa791b/ser/method-xhtml.xml#L957-L982"&gt;&lt;code&gt;Serialization-xhtml-58&lt;/code&gt;&lt;/a&gt; implies that the space character should be discarded if the &lt;code&gt;xhtml&lt;/code&gt; output method is used. Does this also apply to &lt;code&gt;html&lt;/code&gt;, or is it up to the implementation?&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
