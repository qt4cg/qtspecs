<item>
   <title>Issue #2298 created</title>
   <pubDate>2025-11-17T12:33:43Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/2298</link>
   <guid>https://qt4cg.org/@qt4cg/2025/#created-2298</guid>
   <description>&lt;div&gt;&lt;p&gt;XQFO rules: definition of default values&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;The existing XQFO rules are pretty heterogeneous when it comes to presenting the handling of default values.&lt;/p&gt;
&lt;p&gt;Sometimes, they repeat what the signature says…&lt;/p&gt;
&lt;h4&gt;https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-name&lt;/h4&gt;
&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;fn:name(
  $node  as node()?  := .
) as xs:string
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If the argument is omitted, it defaults to the context value (&lt;code&gt;.&lt;/code&gt;).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Sometimes, it is further elaborated…&lt;/p&gt;
&lt;h4&gt;https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-string&lt;/h4&gt;
&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;fn:string(
  $value  as item()?  := .
) as xs:string
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the zero-argument version of the function, &lt;code&gt;$value&lt;/code&gt; defaults to the context value. That is, calling &lt;code&gt;fn:string()&lt;/code&gt; is equivalent to calling &lt;code&gt;fn:string(.)&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;…sometimes, it is ignored:&lt;/p&gt;
&lt;h4&gt;https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-upper-case&lt;/h4&gt;
&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;fn:upper-case(
  $value  as xs:string?	
) as xs:string
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If &lt;code&gt;$value&lt;/code&gt; is the empty sequence, the zero-length string is returned. […]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I would propose to revise the rules, and to consistently remove phrases on choosing default values. I believe this will make the rules better readable (once you have understood what default values are, there should be no need explaining it again and again). If we want to keep the information, though, we should add it everywhere.&lt;/p&gt;
&lt;p&gt;I can make an attempt if no one objects.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
