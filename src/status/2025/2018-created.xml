<item>
   <title>Issue #2018 created</title>
   <pubDate>2025-05-21T19:44:07Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/2018</link>
   <guid>https://qt4cg.org/@qt4cg/2025/#created-2018</guid>
   <description>&lt;div&gt;&lt;p&gt;Type-checking the result of xsl:apply-templates&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;Code that calls &lt;code&gt;xsl:apply-templates&lt;/code&gt; inevitably has expectations about the type of the result. For example someone doing&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;xsl:apply-templates select="@*"/&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;may have an expectation that the result will be a sequence of attribute nodes, and the code might fail untidily if it is anything else. There is currently no way of stating this expectation, or of triggering coercion on the result. We have added an attribute &lt;code&gt;xsl:mode/@as&lt;/code&gt; but different calls on apply-templates in the same mode may have different expectations. (I'm seeing this particularly with modes that process maps and arrays)&lt;/p&gt;
&lt;p&gt;We could add an &lt;code&gt;as&lt;/code&gt; attribute to xsl:apply-templates to make the expectation explicit.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
