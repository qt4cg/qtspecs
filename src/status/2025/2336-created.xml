<item>
   <title>Pull request #2336 created</title>
   <pubDate>2025-12-08T17:58:04Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/pull/2336</link>
   <guid>https://qt4cg.org/@qt4cg/2025/#created-2336</guid>
   <description>&lt;div&gt;&lt;p&gt;2334 Revise XSLT pattern syntax and semantics&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;Fix #2330
Fix #2334
Fix #2336&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Currently work-in-progress&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This PR changes the syntax and semantics of JNode types, tests, and patterns, bringing them closer into line with each other and with the corresponding constructs for XNodes. It also fixes problems of grammar ambiguity.&lt;/p&gt;
&lt;p&gt;JNode types are revised to take the form &lt;code&gt;jnode(selector-value, content-type)&lt;/code&gt;, mirroring the syntax of element and attribute types, and bringing them into line with JNode patterns. This also enables JNode patterns to be integrated with XNode patterns, using common syntax and semantics.&lt;/p&gt;
&lt;p&gt;Subtyping rules for JNode types are added.&lt;/p&gt;
&lt;p&gt;When types are used for selection in a JTree, the type must now be a JNode type, not the content type. For example, in place of &lt;code&gt;$array/map(*)&lt;/code&gt;, you need to write &lt;code&gt;$array/jnode(*, map(*))&lt;/code&gt;. While more verbose, this syntax is more consistent with selection in XTrees, and is more powerful. (It also offers potential extensibility to eliminate the &lt;code&gt;get(X)&lt;/code&gt; construct).&lt;/p&gt;
&lt;p&gt;In XSLT patterns, union/except/intersect now apply only to node patterns (reverting a 4.0 enhancement which caused parsing difficulties). The semantics of except and intersect have also reverted to the 3.0 semantics.&lt;/p&gt;
&lt;p&gt;XSLT type patterns are now uniformly written &lt;code&gt;~ItemType&lt;/code&gt;, rather than using the bare item type in some cases (such as record types), and the more verbose syntax &lt;code&gt;type(ItemType)&lt;/code&gt; in other cases.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
