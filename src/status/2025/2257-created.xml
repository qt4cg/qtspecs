<item>
   <title>Issue #2257 created</title>
   <pubDate>2025-10-20T08:10:22Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/2257</link>
   <guid>https://qt4cg.org/@qt4cg/2025/#created-2257</guid>
   <description>&lt;div&gt;&lt;p&gt;Record declarations without namespace&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;Thanks to #2200, user-defined functions can now be declared without namespaces:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-xquery"&gt;declare function yes() {};
yes()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We should extend this principle to record declarations:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-xquery"&gt;declare record coord(x, y);
coord(1, 3)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A simple adjustment might be to adapt the rules in &lt;a href="https://qt4cg.org/specifications/xquery-40/xquery-40.html#named-records-as-functions"&gt;5.20.2 Constructor Functions for Named Record Types&lt;/a&gt;, by changing…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The function name is the QName of the named record declaration, expanded using the &lt;a href="https://qt4cg.org/specifications/xquery-40/xquery-40.html#dt-default-type-namespace-rule"&gt;default type namespace rule&lt;/a&gt;. The resulting QName must be the same as the module namespace if the declaration appears in a library module, and in any event, it must be in some namespace.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;…to “using the &lt;a href="https://qt4cg.org/specifications/xquery-40/xquery-40.html#dt-default-function-namespace-rule"&gt;default function namespace rule&lt;/a&gt;”, and dropping the last sentence.&lt;/p&gt;
&lt;p&gt;Another solution would be include the default element namespace when searching for functions with unprefixed function names.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
