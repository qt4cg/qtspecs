<!DOCTYPE HTML><html xmlns="http://www.w3.org/1999/xhtml" lang="EN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>XML Path Language (XPath) 4.0 WG Review Draft</title><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link rel="stylesheet" type="text/css" href="css/w3c-base.css"><link rel="stylesheet" href="css/qtspecs.css"><link rel="stylesheet" href="css/xpath-40.css"><style type="text/css">
          body { margin-top: 50px }
          a.button { background: #DDD; border: 2px outset black; padding: 2px; margin: 2px; font-family: sans-serif; font-size: small;}
          a.button:hover { cursor:pointer; }
          a.button:active { border-style: inset; }
        </style><link rel="stylesheet" href="/css/autodiff.css"></head><body class="toc-inline"><div style="position:fixed; clear:both; top:0px" id="_autodiff_buttons"><p><a class="button" onclick="view('old')">
              View Old
            </a><a class="button" onclick="view('new')">
              View New
            </a><a class="button" onclick="view('both')">
              View Both
            </a><a class="button" onclick="view('only')">
              View Only
            </a><a class="button" onclick="scroll_to('prev')">
              Previous
            </a><a class="button" onclick="scroll_to('next')">
              Next
            </a><span id="__autodiff__"></span></p><p>This draft contains only sections that have differences from the version that it modified.</p></div><div class="head"><p><a href="https://www.w3.org/"><img src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" alt="W3C" height="48" width="72"></a></p><h1><a id="title"></a>XML Path Language (XPath) 4.0 WG Review Draft</h1><h2><a id="w3c-doctype"></a>W3C Editor's Draft <span class="deltaxml-old" style="background:#FF5555">30&nbsp;January</span><span class="deltaxml-new" style="background:#90EE90">2&nbsp;February</span>&nbsp;2026</h2><dl><dt>This version:</dt><dd><a href="https://qt4cg.org/specifications/xpath-40/">https://qt4cg.org/specifications/xpath-40/</a></dd><dt>Most recent version of XPath:</dt><dd><a href="https://qt4cg.org/specifications/xpath-40/">https://qt4cg.org/specifications/xpath-40/</a></dd><dt>Most recent Recommendation of XPath:</dt><dd><a href="https://www.w3.org/TR/2017/REC-xpath-31-20170321/">https://www.w3.org/TR/2017/REC-xpath-31-20170321/</a></dd><dt>Editor:</dt><dd>Michael Kay, Saxonica <a href="http://www.saxonica.com/">&lt;http://www.saxonica.com/&gt;</a></dd></dl><p>This document is also available in these non-normative formats: <a href="xpath-40.xml">XML</a>.</p><p class="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>&nbsp;©&nbsp;2000&nbsp;<a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p><hr></div><div><h2><a id="abstract"></a>Abstract</h2><p class="xpath"> XPath 4.0 is an expression language that allows the processing of values conforming to the data model defined in <a href="#xpath-datamodel-40">[XDM 4.0]</a>. The name of the language derives from its most distinctive feature, the path expression, which provides a means of hierarchic addressing of the nodes in an XML tree. As well as modeling the tree structure of XML, the data model also includes atomic items, function items, maps, arrays, and sequences. This version of XPath supports JSON as well as XML, and adds many new functions in <a href="#xpath-functions-40">[Functions and Operators 4.0]</a>.</p><p class="xpath">XPath 4.0 is a superset of XPath 3.1. A detailed list of changes made since XPath 3.1 can be found in <a href="#id-revision-log"><b>I Change Log</b></a>. </p></div><div><h2><a id="status"></a>Status of this Document</h2><p><em>This section describes the status of this document at the time of its publication. Other documents may supersede this document.</em></p><p>This document is a working draft developed and maintained by a W3C Community Group, the <a href="https://www.w3.org/community/xslt-40/">XQuery and XSLT Extensions Community Group</a> unofficially known as QT4CG (where "QT" denotes Query and Transformation). This draft is work in progress and should not be considered either stable or complete. Standard W3C copyright and patent conditions apply.</p><p>The community group welcomes comments on the specification. Comments are best submitted as issues on the group's <a href="https://github.com/qt4cg/qtspecs/issues">GitHub repository</a>.</p><p id="at-risk">As the Community Group moves towards publishing dated, stable drafts, some features that the group thinks may likely be removed or substantially changed are marked “at risk” in their changes section. In this draft:</p><ul><li><a href="#id-filter-maps-and-arrays">Filter Expressions for Maps and Arrays</a></li></ul><p>The community group maintains two extensive test suites, one oriented to XQuery and XPath, the other to XSLT. These can be found at <a href="https://github.com/qt4cg/qt4tests">qt4tests</a> and <a href="https://github.com/qt4cg/xslt40-test">xslt40-test</a> respectively. New tests, or suggestions for correcting existing tests, are welcome. The test suites include extensive metadata describing the conditions for applicability of each test case as well as the expected results. They do not include any test drivers for executing the tests: each implementation is expected to provide its own test driver.</p><div class="dedication" id="dedication"><h3>Dedication</h3><p class="xpath">The publications of this community group are dedicated to our co-chair, Michael Sperberg-McQueen&nbsp;(1954–2024).</p><p class="xpath">Michael was central to the development of XML and many related technologies. He brought a polymathic breadth of knowledge and experience to everything he did. This, combined with his indefatigable curiosity and appetite for learning, made him an invaluable contributor to our project, along with many others. We have lost a brilliant thinker, a patient teacher, and a loyal friend.</p></div></div><hr><div class="body"><div class="_diffs div1"><h2><a id="id-basics"></a>2 <a href="#id-basics" style="text-decoration: none">Basics</a></h2><div class="_diffs div2"><h3><a id="id-terminology"></a>2.1 <a href="#id-terminology" style="text-decoration: none">Terminology</a></h3><div class="changes"><p class="changesHeading"> Changes in 4.0 (<a href="#id-ebnf-introduction">next</a> | <a href="#id-introduction">previous</a>)</p><ol><li><p>The EBNF operators <code>++</code> and <code>**</code> have been introduced, for more concise representation of sequences using a character such as <code>","</code> as a separator. The notation is borrowed from Invisible XML.<i>&nbsp;&nbsp;[Issue <a href="https://github.com/qt4cg/qtspecs/issues/1366">1366</a>&nbsp;PR <a href="https://github.com/qt4cg/qtspecs/pull/1498">1498</a>]</i></p></li></ol></div><p>The basic building block of XPath 4.0 is the <b>expression</b>, which is a string of <a href="#Unicode">[Unicode]</a> characters; the version of Unicode to be used is <a title="implementation defined" class="termref" href="#dt-implementation-defined">implementation-defined</a>. The language provides several kinds of expressions which may be constructed from keywords, symbols, and operands. In general, the operands of an expression are other expressions. XPath 4.0 allows expressions to be nested with full generality. </p><div class="note"><p class="prefix"><b>Note:</b></p><p>This specification contains no assumptions or requirements regarding the character set encoding of strings of <a href="#Unicode">[Unicode]</a> characters.</p></div><p>Like XML, XPath 4.0 is a case-sensitive language. Keywords in XPath 4.0 use lower-case characters and are not reserved—that is, names in XPath 4.0 expressions are allowed to be the same as language keywords, except for certain unprefixed function-names listed in <a href="#id-reserved-fn-names"><b>A.4 Reserved Function Names</b></a>.</p><p>In this specification the phrases <span class="verb">must</span>, <span class="verb">must not</span>, <span class="verb">should</span>, <span class="verb">should not</span>, <span class="verb">may</span>, <span class="verb">required</span>, and <span class="verb">recommended</span>, when used in normative text and rendered in small capitals, are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p><p>Certain aspects of language processing are described in this specification as <b>implementation-defined</b> or <b>implementation-dependent</b>.</p><ul><li><p> [<a id="dt-implementation-defined" title="implementation defined">Definition</a>: <b>Implementation-defined</b> indicates an aspect that may differ between implementations, but must be specified by the implementer for each particular implementation.] </p></li><li><p> [<a id="dt-implementation-dependent" title="implementation   dependent">Definition</a>: <b>Implementation-dependent</b> indicates an aspect that may differ between implementations, is not specified by this or any W3C specification, and is not required to be specified by the implementer for any particular implementation.] </p></li></ul><p class="xpath">A language aspect described in this specification as <b>implementation-defined</b> or <b>implementation dependent</b> may be further constrained by the specifications of a host language in which XPath is embedded.</p><div class="_diffs div3"><h4><a id="id-values"></a>2.1.3 <a href="#id-values" style="text-decoration: none">Values</a></h4><div class="changes"><p class="changesHeading"> Changes in 4.0 (<a href="#id-namespaces-and-qnames">next</a> | <a href="#id-expression-names">previous</a>)</p><ol><li><p> The term <b>atomic value</b> has been replaced by <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a>. <i>&nbsp;&nbsp;[Issue <a href="https://github.com/qt4cg/qtspecs/issues/1337">1337</a>&nbsp;PR <a href="https://github.com/qt4cg/qtspecs/pull/1361">1361</a>&nbsp;2 August 2024]</i></p></li><li><p> The terms <b>XNode</b> and <code>JNode</code> are introduced; the existing term <b>node</b> remains in use as a synonym for <b>XNode</b> where the context does not specify otherwise. <i>&nbsp;&nbsp;[Issue <a href="https://github.com/qt4cg/qtspecs/issues/2025">2025</a>&nbsp;PR <a href="https://github.com/qt4cg/qtspecs/pull/2031">2031</a>&nbsp;13 June 2025]</i></p></li></ol></div><p> [<a id="dt-value" title="value">Definition</a>: In the <a title="data model" class="termref" href="#dt-datamodel">data model</a>, a <b>value</b> is always a <a title="sequence" class="termref" href="#dt-sequence">sequence</a>.] </p><p> [<a id="dt-sequence" title="sequence">Definition</a>: A <b>sequence</b> is an ordered collection of zero or more <a title="item" class="termref" href="#dt-item">items</a>.] </p><p> [<a id="dt-item" title="item">Definition</a>: An <b>item</b> is either an <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a>, a <a title="node" class="termref" href="#dt-node">node</a>, or a <a title="function item" class="termref" href="#dt-function-item">function item</a>.] </p><p> [<a id="dt-atomic-item" title="atomic item">Definition</a>: An <b>atomic item</b> is a value in the value space of an <b>atomic type</b>, as defined in <a href="#XMLSchema10">[XML Schema 1.0]</a> or <a href="#XMLSchema11">[XML Schema 1.1]</a>.] </p><p> [<a id="dt-XNode" title="XNode">Definition</a>: An <b>XNode</b> is an instance of one of the <b>node kinds</b> defined in <a href="#xpath-datamodel-40">[XDM 4.0]</a> section <a href="../xpath-datamodel-40/#nodes">7.1 XML Nodes</a>.] Each XNode has a unique <b>node identity</b>, a <b>typed value</b>, and a <b>string value</b>. In addition, some XNodes have a <b>name</b>. The <b>typed value</b> of an XNode is a sequence of zero or more atomic items. The <b>string value</b> of an XNode is a value of type <code>xs:string</code>. The <b>name</b> of an XNode is a value of type <code>xs:QName</code>.</p><p> [<a id="dt-node" title="node">Definition</a>: Except where the context indicates otherwise, the term <b>node</b> is used as a synonym for <a title="XNode" class="termref" href="#dt-XNode">XNode</a>.] </p><p> [<a id="dt-function-item" title="function item">Definition</a>: A <b>function item</b> is an item that can be called using a <a title="dynamic function call" class="termref" href="#dt-dynamic-function-call">dynamic function call</a>.] </p><p>Maps (see <a href="#id-maps"><b>4.14.1 Maps</b></a>) and arrays (see <a href="#id-arrays"><b>4.14.2 Arrays</b></a>) are specific kinds of <a title="function item" class="termref" href="#dt-function-item">function item</a>s.</p><p><span style="display: none;" class="delete_version"> [<a id="dt-singleton" title="singleton">Definition</a>: A sequence containing exactly one item is called a <b>singleton</b>.] An item is identical to a singleton sequence containing that item. Sequences are never nested—for example, combining the values 1, (2, 3), and ( ) into a single sequence results in the sequence (1, 2, 3). [<a id="dt-empty-sequence" title="empty sequence">Definition</a>: A sequence containing zero items is called an <b>empty sequence</b>.] </span><span style="display: none;" class="add_version"> [<a id="dt-singleton" title="singleton">Definition</a>: A sequence containing exactly one item is called a <b>singleton</b>.] An item is identical to a singleton sequence containing that item. Sequences are never nested—for example, combining the values 1, (2, 3), and ( ) into a single sequence results in the sequence (1, 2, 3). </span><span class="modify_version"> [<a id="dt-singleton" title="singleton">Definition</a>: A sequence containing exactly one item is called a <b>singleton</b>.] An item is identical to a singleton sequence containing that item. Sequences are never nested—for example, combining the values 1, (2, 3), and ( ) into a single sequence results in the sequence (1, 2, 3). <span class="deltaxml-old" style="background:#FF5555">[</span><a id="dt-empty-sequence" title="empty sequence"><span class="deltaxml-old" style="background:#FF5555">Definition</span></a><span class="deltaxml-old" style="background:#FF5555">: A sequence containing zero items is called an </span><span class="deltaxml-old" style="background:#FF5555">empty sequence</span><span class="deltaxml-old" style="background:#FF5555">.] </span></span></p><p><span class="deltaxml-new" style="background:#90EE90"> [</span><a id="dt-empty-sequence" title="empty sequence"><span class="deltaxml-new" style="background:#90EE90">Definition</span></a><span class="deltaxml-new" style="background:#90EE90">: A sequence containing zero items is called an </span><b><span class="deltaxml-new" style="background:#90EE90">empty sequence</span></b><span class="deltaxml-new" style="background:#90EE90">.] </span></p><p> [<a id="dt-data-model-instance" title="XDM instance">Definition</a>: The term <b>XDM instance</b> is used, synonymously with the term <a title="value" class="termref" href="#dt-value">value</a>, to denote an unconstrained <a title="sequence" class="termref" href="#dt-sequence">sequence</a> of <a title="item" class="termref" href="#dt-item">items</a>.] </p></div></div><div class="_diffs div2"><h3><a id="id-security-resources"></a>2.3 <a href="#id-security-resources" style="text-decoration: none">External Resources and Security</a></h3><div class="changes"><p class="changesHeading"> Changes in 4.0 (<a href="#id-processing-model">next</a> | <a href="#eval_context">previous</a>)</p><ol><li><p>This section (“External Resources and Security”) is new.<i>&nbsp;&nbsp;[Issue <a href="https://github.com/qt4cg/qtspecs/issues/2047">2047</a>&nbsp;PR <a href="https://github.com/qt4cg/qtspecs/pull/2213">2213</a>&nbsp;23 October 2025]</i></p></li></ol></div><p>The XPath, XQuery, and XSLT languages provide a number of capabilities to access external resources. These include:</p><ul><li><p>Functions such as <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-doc"><code>doc</code></a>, <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-doc-available"><code>doc-available</code></a>, <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-unparsed-text"><code>unparsed-text</code></a>, <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-unparsed-text-lines"><code>unparsed-text-lines</code></a>, <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-unparsed-text-available"><code>unparsed-text-available</code></a>, <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-collection"><code>collection</code></a><a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-uri-collection"><code>uri-collection</code></a>, and <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-unparsed-binary"><code>unparsed-binary</code></a>, and in XSLT, the <code>document</code> function and the <code>xsl:source-document</code> and <code>xsl:merge</code> instructions.</p></li><li><p>Static inclusion of code using <code>import module</code> in XQuery, or <code>xsl:include</code>, <code>xsl:import</code>, and <code>xsl:use-package</code> in XSLT.</p></li><li><p>Dynamic inclusion and execution of external code using the functions <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-transform"><code>transform</code></a> and <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-load-xquery-module"><code>load-xquery-module</code></a>, and in XSLT, the <code>xsl:evaluate</code> instruction.</p></li><li><p>The ability to write to external resources using the <code>xsl:result-document</code> instruction in XSLT, or the <code>put</code> function in the XQuery Update Facility.</p></li><li><p>The ability to invoke arbitrary user-defined external functions (called extension functions in XSLT).</p></li><li><p>The ability to invoke vendor-defined external/extension functions; a notable example being the EXPath File library.</p></li><li><p>Access to environment variables and system properties using functions such as <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-environment-variable"><code>environment-variable</code></a>, <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-available-environment-variables"><code>available-environment-variables</code></a>, and (in XSLT) <code>system-property</code>.</p></li><li><p>Static inclusion of XSD schemas and schema documents using <code>import schema</code>in XQuery or <code>xsl:import-schema</code> in XSLT, or indirectly using <code>xs:import</code>, <code>xs:include</code>, <code>xs:redefine</code>, or <code>xs:override</code> in XSD schema documents.</p></li><li><p>Dynamic loading of XSD schema documents (directly or indirectly) using the <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-xsd-validator"><code>xsd-validator</code></a> function.</p></li><li><p>The ability to parse XML or HTML documents that contain references to external entities, for example by using the <code>parse-xml</code> and <code>parse-html</code> functions.</p></li><li><p>The ability to parse XML documents in a way that causes other external resources to be fetched, for example by activating XInclude, or by performing XSD validation using <code>xsi:schema-location</code>.</p></li><li><p>Implicit access to third-party libraries supporting (for example) collations or localization.</p></li></ul><p> [<a id="dt-trusted" title="trusted">Definition</a>: The static context includes a boolean property called <b>trusted</b> that determines whether external resources are available.] This may take the following values:</p><ol class="enumar"><li><p><b>false</b>: No external resources are available other than resources explicitly made available by the caller through some trusted implementation-defined mechanism.</p><p><span style="display: none;" class="delete_version"> [<a id="dt-untrusted" title="untrusted">Definition</a>: ]Code executing with <a title="trusted" class="termref" href="#dt-trusted">trusted</a> set to <code>false</code> is said to be <b>untrusted</b>. </span><span style="display: none;" class="add_version"> [<a id="dt-untrusted" title="untrusted">Definition</a>: Code executing with <a title="trusted" class="termref" href="#dt-trusted">trusted</a> set to <code>false</code> is said to be <b>untrusted</b>.] </span><span class="modify_version"> [<a id="dt-untrusted" title="untrusted">Definition</a>: <span class="deltaxml-old" style="background:#FF5555">]</span>Code executing with <a title="trusted" class="termref" href="#dt-trusted">trusted</a> set to <code>false</code> is said to be <b>untrusted</b>.<span class="deltaxml-new" style="background:#90EE90">]</span> </span></p></li><li><p><b>true</b>: Trusted code has access to all the resources available to its immediate caller.</p></li></ol><p>The functions <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-transform"><code>transform</code></a> and <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-load-xquery-module"><code>load-xquery-module</code></a>, and the XSLT instruction <code>xsl:evaluate</code>, have an option allowing the trust level of the executed code to be set:</p><ol class="enumar"><li><p>If <code>trusted</code> is set to <code>true</code>, the invoked code executes with the same trust level as its caller.</p></li><li><p>If <code>trusted</code> is set to <code>false</code>, the invoked code is not able to access any external resources other than resources explicitly made available using an <a title="implementation defined" class="termref" href="#dt-implementation-defined">implementation defined</a> mechanism under the control of the caller.</p></li></ol><p>Some resources, such as XML documents, may themselves contain references to other resources. For example, an XML document may reference external entities (including an external DTD). External entity expansion is recognized as a known security risk. Functions that invoke XML parsing (such as <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-parse-xml"><code>parse-xml</code></a>, <code>doc</code>, or <code>collection</code>) therefore have a <code>trusted</code> option indicating whether the document being parsed is trusted to access external entities. Such access is allowed only if (a) the <code>trusted</code> option is set to <code>true</code>, or (b) access to the external entity in question is explicitly enabled by the caller.</p><div class="note"><p class="prefix"><b>Note:</b></p><p>The term <b>explicitly enabled</b> is not intended to mean that every resource to which access is permitted must be individually listed. The mechanism for enabling access might provide access to a class of resources (for example, all resources accessible using the HTTPS protocol, or all resources within the containing XML database having particular access permissions). The mechanism might also take account of other criteria, for example it might impose limits on the size or other characteristics of the resources accessed.</p></div><p>It is <span class="verb">recommended</span> that any external API used to invoke XPath, XQuery, or XSLT processing should similarly offer the ability to indicate whether the code being executed is <a title="trusted" class="termref" href="#dt-trusted">trusted</a>.</p><p>In the interests of security, the default for these options is <b>false</b>. However, for backwards compatibility reasons, processors <span class="verb">may</span> provide an option whereby a trusted user can change the default.</p><p>In general, when an application requests access to an external resource which is not available because the application is untrusted, the processor <span class="verb">should</span> behave in the same way as if the resource did not exist. However, the processor <span class="verb">may</span> choose to disclose in its diagnostics why the request was unsuccessful.</p><p>A processor <span class="verb">may</span> (but is not <span class="verb">required</span> to) limit an application’s consumption of resources such as CPU cycles and memory when the application is untrusted.</p><p> [<a id="dt-available-docs" title="available documents">Definition</a>: The term <b>available documents</b> refers (TODO: for the time being) to the set of XML documents that an application is able to access by URI.] </p></div></div></div><div class="back"><div class="_diffs div1"><h2><a id="id-glossary"></a>F <a href="#id-glossary" style="text-decoration: none">Glossary</a> (Non-Normative)</h2><dl><dt><a href="#dt-absolute-path-expression">absolute path expression</a></dt><dd><p> An <b>absolute path expression</b> is an instance of the production <a href="#prod-xpath40-AbsolutePathExpr">AbsolutePathExpr</a>: it consists of either (a) the operator <code>/</code> followed by zero or more operands separated by <code>/</code> or <code>//</code> operators, or (b) the operator <code>//</code> followed by one or more operands separated by <code>/</code> or <code>//</code> operators.</p></dd><dt><a href="#dt-and-expression">and expression</a></dt><dd><p>An <b>and expression</b> is a <a title="non-trivial" class="termref" href="#dt-non-trivial">non-trivial</a> instance of the production <a href="#prod-xpath40-AndExpr">AndExpr</a>.</p></dd><dt><a href="#dt-anonymous-function">anonymous function</a></dt><dd><p> An <b>anonymous function</b> is a <a title="function item" class="termref" href="#dt-function-item">function item</a> with no name. Anonymous functions may be created, for example, by evaluating an inline function expression or by partial function application.</p></dd><dt><a href="#dt-application-function">application function</a></dt><dd><p><b>Application functions</b> are function definitions written in a host language such as XQuery or XSLT whose syntax and semantics are defined in this family of specifications. Their behavior (including the rules determining the static and dynamic context) follows the rules for such functions in the relevant host language specification.</p></dd><dt><a href="#dt-arg-expr">argument expression</a></dt><dd><p>An argument to a function call is either an <b>argument expression</b> or an <a href="#prod-xpath40-ArgumentPlaceholder">ArgumentPlaceholder</a> (<code>?</code>); in both cases it may either be supplied positionally, or identified by a name (called a keyword).</p></dd><dt><a href="#dt-arity-range">arity range</a></dt><dd><p>A <a title="function definition" class="termref" href="#dt-function-definition">function definition</a> has an <b>arity range</b>, which is a range of consecutive non-negative integers. If the function definition has <var>M</var> required parameters and <var>N</var> optional parameters, then its arity range is from <var>M</var> to <var>M</var>+<var>N</var> inclusive.</p></dd><dt><a href="#dt-array">array</a></dt><dd><p>An <b>array</b> is a <a title="function item" class="termref" href="#dt-function-item">function item</a> that associates a set of positions, represented as positive integer keys, with values.</p></dd><dt><a href="#dt-associated-value">associated value</a></dt><dd><p>The value associated with a given key is called the <b>associated value</b> of the key.</p></dd><dt><a href="#dt-atomic-item">atomic item</a></dt><dd><p>An <b>atomic item</b> is a value in the value space of an <b>atomic type</b>, as defined in <a href="#XMLSchema10">[XML Schema 1.0]</a> or <a href="#XMLSchema11">[XML Schema 1.1]</a>.</p></dd><dt><a href="#dt-atomic-type">atomic type</a></dt><dd><p>An <b>atomic type</b> is a simple <a title="schema type" class="termref" href="#dt-schema-type">schema type</a> whose <a href="https://www.w3.org/TR/xmlschema11-1/#std-variety">{variety}<sup><small>XS11-1</small></sup></a> is <code>atomic</code>.</p></dd><dt><a href="#dt-atomization">atomization</a></dt><dd><p><b>Atomization</b> of a sequence is defined as the result of invoking the <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-data"><code>fn:data</code></a> function, as defined in <a href="#xpath-functions-40">[Functions and Operators 4.0]</a> section <a href="../xpath-functions-40/#func-data">12.1.6 fn:data</a>.</p></dd><dt><a href="#dt-available-docs">available documents</a></dt><dd><p>The term <b>available documents</b> refers (TODO: for the time being) to the set of XML documents that an application is able to access by URI.</p></dd><dt><a href="#dt-axis-step">axis step</a></dt><dd><p>An <b>axis step</b> is an instance of the production <a href="#doc-xpath40-AxisStep">AxisStep</a>: it is an expression that returns a sequence of GNodes that are reachable from a starting GNode via a specified axis. An axis step has three parts: an <b>axis</b>, which defines the direction of movement for the step, a <a title="node test" class="termref" href="#dt-node-test">node test</a>, which selects GNodes based on their properties, and zero or more predicates which are used to filter the results.</p></dd><dt><a href="#dt-binding-collection-xp">binding collection</a></dt><dd><p>The result of evaluating the <b>binding expression</b> in a <code>for</code> expression is called the <b>binding collection</b></p></dd><dt><a href="#dt-choice-item-type">choice item type</a></dt><dd><p>A <b>choice item type</b> defines an item type that is the union of a number of alternatives. For example the type <code>(xs:hexBinary | xs:base64Binary)</code> defines the union of these two primitive <a title="atomic type" class="termref" href="#dt-atomic-type">atomic types</a>, while the type <code>(map(*) | array(*))</code> matches any item that is either a map or an array.</p></dd><dt><a href="#dt-coercion-rules">coercion rules</a></dt><dd><p>The <b>coercion rules</b> are rules used to convert a supplied value to a required type, for example when converting an argument of a function call to the declared type of the function parameter. </p></dd><dt><a href="#dt-collation">collation</a></dt><dd><p>A <b>collation</b> is a specification of the manner in which strings and URIs are compared and, by extension, ordered. For a more complete definition of collation, see <a href="#xpath-functions-40">[Functions and Operators 4.0]</a> section <a href="../xpath-functions-40/#string-compare">5.3 Comparison of strings</a>.</p></dd><dt><a href="#dt-comma-operator">comma operator</a></dt><dd><p>A <b>comma operator</b> is a comma used specifically as the operator in a <a title="sequence expression" class="termref" href="#dt-sequence-expression">sequence expression</a>.</p></dd><dt><a href="#dt-complex-terminal">complex terminal</a></dt><dd><p>A <b>complex terminal</b> is a <a title="variable terminal" class="termref" href="#dt-variable-terminal">variable terminal</a> whose production rule references, directly or indirectly, an <a title="ordinary production rule" class="termref" href="#dt-ordinary-production-rule">ordinary production rule</a>.</p></dd><dt><a href="#dt-constructor-function">constructor function</a></dt><dd><p>The <b>constructor function</b> for a given simple type is used to convert instances of other simple types into the given type. The semantics of the constructor function call <code>T($arg)</code> are defined to be equivalent to the expression <code>$arg cast as T?</code>.</p></dd><dt><a href="#dt-content-expression">content expression</a></dt><dd><p>In an <a title="enclosed expression" class="termref" href="#dt-enclosed-expression">enclosed expression</a>, the optional expression enclosed in curly brackets is called the <b>content expression</b>.</p></dd><dt><a href="#dt-context-dependent">context dependent</a></dt><dd><p>A <a title="function definition" class="termref" href="#dt-function-definition">function definition</a> is said to be <b>context dependent</b> if its result depends on the static or dynamic context of its caller. A function definition may be context-dependent for some arities in its arity range, and context-independent for others: for example <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-name"><code>fn:name#0</code></a> is context-dependent while <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-name"><code>fn:name#1</code></a> is context-independent.</p></dd><dt><a href="#dt-context-node">context node</a></dt><dd><p>When the context value is a single item, it can also be referred to as the <b>context item</b>; when it is a single node, it can also be referred to as the <b>context node</b>.</p></dd><dt><a href="#dt-context-position">context position</a></dt><dd><p>The <b>context position</b> is the position of the context value within the series of values currently being processed.</p></dd><dt><a href="#dt-context-size">context size</a></dt><dd><p>The <b>context size</b> is the number of values in the series of values currently being processed.</p></dd><dt><a href="#dt-context-value">context value</a></dt><dd><p>The <b>context value</b> is the <a title="value" class="termref" href="#dt-value">value</a> currently being processed.</p></dd><dt><a href="#dt-date-time">current dateTime</a></dt><dd><p><b>Current dateTime.</b> This information represents an <a title="implementation   dependent" class="termref" href="#dt-implementation-dependent">implementation-dependent</a> point in time during the processing of <span class="xpath">an expression</span>, and includes an explicit timezone. It can be retrieved by the <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-current-dateTime"><code>fn:current-dateTime</code></a> function. If called multiple times during the execution of <span class="xpath">an expression</span>, this function always returns the same result.</p></dd><dt><a href="#dt-datamodel">data model</a></dt><dd><p>XPath 4.0 operates on the abstract, logical structure of an XML document or JSON object rather than its surface syntax. This logical structure, known as the <b>data model</b>, is defined in <a href="#xpath-datamodel-40">[XDM 4.0]</a>.</p></dd><dt><a href="#id-static-decimal-format-decimal-separator">decimal-separator</a></dt><dd><p><b>decimal-separator</b><em>(<var>M</var>, <var>R</var>)</em> is used to separate the integer part of the number from the fractional part. The default value for both the marker and the rendition is <span class="unicode-codepoint">U+002E</span> (<span class="unicode-name">FULL STOP, PERIOD</span>, <code>.</code>) .</p></dd><dt><a href="#dt-default-calendar">default calendar</a></dt><dd><p><b>Default calendar.</b> This is the calendar used when formatting dates in human-readable output (for example, by the functions <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-format-date"><code>fn:format-date</code></a> and <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-format-dateTime"><code>fn:format-dateTime</code></a>) if no other calendar is requested. The value is a string.</p></dd><dt><a href="#dt-def-collation">default collation</a></dt><dd><p><b>Default collation.</b> This identifies one of the collations in <a title="statically known collations" class="termref" href="#dt-static-collations">statically known collations</a> as the collation to be used by functions and operators for comparing and ordering values of type <code>xs:string</code> and <code>xs:anyURI</code> (and types derived from them) when no explicit collation is specified.</p></dd><dt><a href="#dt-default-collection">default collection</a></dt><dd><p><b>Default collection.</b> This is the sequence of items that would result from calling the <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-collection"><code>fn:collection</code></a> function with no arguments.</p></dd><dt><a href="#dt-default-element-namespace-rule">default element namespace rule</a></dt><dd><p>When an unprefixed lexical QName is expanded using the <b>default element namespace rule</b>, then it uses the <a title="default namespace for elements and types" class="termref" href="#dt-default-namespace-elements-and-types">default namespace for elements and types</a>. If this is absent, or if it takes the special value <code>##any</code>, then the <a title="no-namespace rule" class="termref" href="#dt-no-namespace-rule">no-namespace rule</a> is used.</p></dd><dt><a href="#dt-default-function-namespace">default function namespace</a></dt><dd><p><b>Default function namespace.</b> This determines how unprefixed lexical QNames appearing in a <a title="static function call" class="termref" href="#dt-static-function-call">static function call</a> or a <a title="named function reference" class="termref" href="#dt-named-function-ref">named function reference</a> are interpreted.</p></dd><dt><a href="#dt-default-function-namespace-rule">default function namespace rule</a></dt><dd><p>When an unprefixed lexical QName is expanded using the <b>default function namespace rule</b>, the processor searches for a matching function definition as follows: first, if the static context includes a no-namespace function definition with the required local name and arity, then that function definition is used; otherwise, the name is expanded using the <a title="default function namespace" class="termref" href="#dt-default-function-namespace">default function namespace</a> from the <a title="static context" class="termref" href="#dt-static-context">static context</a>.</p></dd><dt><a href="#dt-default-in-scope-namespace">default in-scope namespace</a></dt><dd><p>The <b>default in-scope namespace</b> of an element node</p></dd><dt><a href="#dt-default-language">default language</a></dt><dd><p><b>Default language.</b> This is the natural language used when creating human-readable output (for example, by the functions <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-format-date"><code>fn:format-date</code></a> and <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-format-integer"><code>fn:format-integer</code></a>) if no other language is requested. The value is a language code as defined by the type <code>xs:language</code>.</p></dd><dt><a href="#dt-default-namespace-elements-and-types">default namespace for elements and types</a></dt><dd><p><b>Default namespace for elements and types.</b> This is either a namespace URI, or the special value <code>"##any"</code>, or <a href="https://qt4cg.org/specifications/xpath-datamodel-40/#dt-absent">absent</a><sup><small>DM</small></sup>. This indicates how unprefixed QNames are interpreted when they appear in a position where an element name or type name is expected.</p></dd><dt><a href="#dt-default-place">default place</a></dt><dd><p><b>Default place.</b> This is a geographical location used to identify the place where events happened (or will happen) when processing dates and times using functions such as <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-format-date"><code>fn:format-date</code></a>, <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-format-dateTime"><code>fn:format-dateTime</code></a>, and <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-civil-timezone"><code>fn:civil-timezone</code></a>, if no other place is specified. It is used when translating timezone offsets to civil timezone names, and when using calendars where the translation from ISO dates/times to a local representation is dependent on geographical location. Possible representations of this information are an ISO country code or an Olson timezone name, but implementations are free to use other representations from which the above information can be derived. The only requirement is that it should uniquely identify a civil timezone, which means that country codes for countries with multiple timezones, such as the United States, are inadequate.</p></dd><dt><a href="#dt-default-type-namespace-rule">default type namespace rule</a></dt><dd><p>When an unprefixed lexical QName is expanded using the <b>default type namespace rule</b>, it uses the <a title="default namespace for elements and types" class="termref" href="#dt-default-namespace-elements-and-types">default namespace for elements and types</a>. If this is absent, the <a title="no-namespace rule" class="termref" href="#dt-no-namespace-rule">no-namespace rule</a> is used. If the <a title="default namespace for elements and types" class="termref" href="#dt-default-namespace-elements-and-types">default namespace for elements and types</a> has the special value <code>##any</code>, then the lexical QName refers to a name in the namespace <code>http://www.w3.org/2001/XMLSchema</code>.</p></dd><dt><a href="#dt-default-uri-collection">default URI collection</a></dt><dd><p><b>Default URI collection.</b> This is the sequence of URIs that would result from calling the <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-uri-collection"><code>fn:uri-collection</code></a> function with no arguments.</p></dd><dt><a href="#delimiting-token">delimiting terminal symbol</a></dt><dd><p>The <b>delimiting terminal symbols</b> are: <code>!</code><code>!=</code><code>#</code><code>$</code><code>(</code><code>)</code><code>*</code><code>*:</code><code>+</code><code>,</code><code>-</code><code>-&gt;</code><code>.</code><code>..</code><code>/</code><code>//</code><code>:</code><code>:*</code><code>::</code><code>:=</code><code>;</code><code>&lt;</code><code>&lt;&lt;</code><code>&lt;=</code><code>=</code><code>=!&gt;</code><code>=&gt;</code><code>=?&gt;</code><code>&gt;</code><code>&gt;=</code><code>&gt;&gt;</code><code>?</code><code>?[</code><code>@</code><code>[</code><code>]</code><code>`</code><code>``</code><code>{</code><code>{{</code><code>|</code><code>||</code><code>}</code><code>}}</code><code>×</code><code>÷</code><a href="#prod-xpath40-AposStringLiteral">AposStringLiteral</a><a href="#prod-xpath40-BracedURILiteral">BracedURILiteral</a><a href="#prod-xpath40-QuotStringLiteral">QuotStringLiteral</a><a href="#prod-xpath40-StringLiteral">StringLiteral</a><a href="#prod-xpath40-URIQualifiedName">URIQualifiedName</a></p></dd><dt><a href="#dt-derives-from">derives from</a></dt><dd><p>A <a title="schema type" class="termref" href="#dt-schema-type">schema type</a><var>S<sub>1</sub></var> is said to <b>derive from</b><a title="schema type" class="termref" href="#dt-schema-type">schema type</a><var>S<sub>2</sub></var> if any of the following conditions is true:</p><ul><li><p><var>S<sub>1</sub></var> is the same type as <var>S<sub>2</sub></var>.</p></li><li><p><var>S<sub>2</sub></var> is the base type of <var>S<sub>1</sub></var>.</p></li><li><p><var>S<sub>2</sub></var> is a <a title="pure union type" class="termref" href="#dt-pure-union-type">pure union type</a> of which <var>S<sub>1</sub></var> is a member type.</p></li><li><p>There is a <a title="schema type" class="termref" href="#dt-schema-type">schema type</a><var>M</var> such that <var>S<sub>1</sub></var><a title="derives from" class="termref" href="#dt-derives-from">derives from</a><var>M</var> and <var>M</var><a title="derives from" class="termref" href="#dt-derives-from">derives from</a><var>S<sub>2</sub></var>.</p></li></ul></dd><dt><a href="#id-static-decimal-format-digit">digit</a></dt><dd><p><b>digit</b><em>(<var>M</var>)</em> is a character used in the picture string to represent an optional digit; the default value is <span class="unicode-codepoint">U+0023</span> (<span class="unicode-name">NUMBER SIGN</span>, <code>#</code>) .</p></dd><dt><a href="#dt-document-order">document order</a></dt><dd><p>Informally, <b>document order</b> is the order in which nodes appear in the XML serialization of a document.</p></dd><dt><a href="#dt-dynamically-known-function-definitions">dynamically known function definitions</a></dt><dd><p><b>Dynamically known function definitions</b>. This is a set of <a title="function definition" class="termref" href="#dt-function-definition">function definitions</a>. It includes the <a title="statically known function definitions" class="termref" href="#dt-statically-known-function-definitions">statically known function definitions</a> as a subset, but may include other function definitions that are not known statically. </p></dd><dt><a href="#dt-dynamic-context">dynamic context</a></dt><dd><p>The <b>dynamic context</b> of an expression is defined as information that is needed for the dynamic evaluation of an expression, beyond any information that is needed from the <a title="static context" class="termref" href="#dt-static-context">static context</a>.</p></dd><dt><a href="#dt-dynamic-error">dynamic error</a></dt><dd><p>A <b>dynamic error</b> is an error that must be detected during the dynamic evaluation phase and may be detected during the static analysis phase.</p></dd><dt><a href="#dt-dynamic-evaluation">dynamic evaluation phase</a></dt><dd><p>The <b>dynamic evaluation phase</b> is the phase during which the value of an expression is computed.</p></dd><dt><a href="#dt-dynamic-function-call">dynamic function call</a></dt><dd><p>A <b>dynamic function call</b> is an instance of the construct <a href="#doc-xpath40-DynamicFunctionCall">DynamicFunctionCall</a>: that is, it is an expression in the form <code><var>E<sub>1</sub></var>(<var>E<sub>2</sub></var>, <var>E<sub>3</sub></var>, ...)</code> in which <var>E<sub>1</sub></var> identifies a <a title="function item" class="termref" href="#dt-function-item">function item</a> to be called, and the parenthesized argument list <code>(<var>E<sub>2</sub></var>, <var>E<sub>3</sub></var>, ...)</code>) identifies the arguments supplied to the function.</p></dd><dt><a href="#dt-dynamic-type">dynamic type</a></dt><dd><p> Every value matches one or more <a title="sequence type" class="termref" href="#dt-sequence-type">sequence types</a>. A value is said to have a <b>dynamic type</b><var>T</var> if it matches (or <b>is an instance of</b>) the sequence type <var>T</var>.</p></dd><dt><a href="#dt-ebv">effective boolean value</a></dt><dd><p>The <b>effective boolean value</b> of a value is defined as the result of applying the <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-boolean"><code>fn:boolean</code></a> function to the value.</p></dd><dt><a href="#dt-element-name-matching-rule">element name matching rule</a></dt><dd><p>When an unprefixed lexical QName is expanded using the <b>element name matching rule</b> rule, then it uses the <a title="default namespace for elements and types" class="termref" href="#dt-default-namespace-elements-and-types">default namespace for elements and types</a>. If this is absent, then it uses the <a title="no-namespace rule" class="termref" href="#dt-no-namespace-rule">no-namespace rule</a>. But if it takes the special value <code>##any</code>, then the name is taken as matching any <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a> with the corresponding local part, regardless of namespace: that is, the unprefixed name <code>local</code> is interpreted as <code>*:local</code>.</p></dd><dt><a href="#dt-empty-sequence">empty sequence</a></dt><dd><p>A sequence containing zero items is called an <b>empty sequence</b>.</p></dd><dt><a href="#dt-enclosed-expression">enclosed expression</a></dt><dd><p>An <b>enclosed expression</b> is an instance of the <a href="#doc-xpath40-EnclosedExpr">EnclosedExpr</a> production, which allows an optional expression within curly brackets.</p></dd><dt><a href="#dt-entry">entry</a></dt><dd><p>Each key / value pair in a map is called an <b>entry</b>.</p></dd><dt><a href="#dt-enumeration-type">enumeration type</a></dt><dd><p>An <b>EnumerationType</b> accepts a fixed set of string values.</p></dd><dt><a href="#dt-environment-variables">environment variables</a></dt><dd><p><b>Environment variables.</b> This is a mapping from names to values. Both the names and the values are strings. The names are compared using an <a title="implementation defined" class="termref" href="#dt-implementation-defined">implementation-defined</a> collation, and are unique under this collation. The set of environment variables is <a title="implementation defined" class="termref" href="#dt-implementation-defined">implementation-defined</a> and <span class="verb">may</span> be empty.</p></dd><dt><a href="#dt-error-value">error value</a></dt><dd><p>In addition to its identifying QName, a dynamic error may also carry a descriptive string and one or more additional values called <b>error values</b>.</p></dd><dt><a href="#dt-executable-base-uri">Executable Base URI</a></dt><dd><p><b>Executable Base URI.</b> This is an absolute URI used to resolve relative URIs during the evaluation of expressions; it is used, for example, to resolve a relative URI supplied to the <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-doc"><code>fn:doc</code></a> or <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-unparsed-text"><code>fn:unparsed-text</code></a> functions. </p></dd><dt><a href="#dt-expanded-qname">expanded QName</a></dt><dd><p>An <b>expanded QName</b> is a triple: its components are a prefix, a local name, and a namespace URI. In the case of a name in no namespace, the namespace URI and prefix are both absent. In the case of a name in the default namespace, the prefix is absent.</p></dd><dt><a href="#id-static-decimal-format-exponent-separator">exponent-separator</a></dt><dd><p><b>exponent-separator</b><em>(<var>M</var>, <var>R</var>)</em> is used to separate the mantissa from the exponent in scientific notation. The default value for both the marker and the rendition is <span class="unicode-codepoint">U+0065</span> (<span class="unicode-name">LATIN SMALL LETTER E</span>, <code>e</code>) .</p></dd><dt><a href="#dt-expression-context">expression context</a></dt><dd><p>The <b>expression context</b> for a given expression consists of all the information that can affect the result of the expression.</p></dd><dt><a href="#dt-external-function">external function</a></dt><dd><p><b>External functions</b> can be characterized as functions that are neither part of the processor implementation, nor written in a language whose semantics are under the control of this family of specifications. The semantics of external functions, including any context dependencies, are entirely implementation-defined. In XSLT, external functions are called <a href="https://www.w3.org/TR/xslt-30/#extension-functions"> 24.1 Extension Functions </a><sup><small>XT30</small></sup>. </p></dd><dt><a href="#dt-filter-expression">filter expression</a></dt><dd><p> A <b>filter expression</b> is an instance of the construct <a href="#doc-xpath40-FilterExpr">FilterExpr</a>: that is, it is an expression in the form <code><var>E<sub>1</sub></var>[<var>E<sub>2</sub></var>]</code>. Its effect is to return those items from the value of <var>E<sub>1</sub></var> that satisfy the predicate in <var>E<sub>2</sub></var>.</p></dd><dt><a href="#dt-filter-expression-ma">filter expression for maps and arrays</a></dt><dd><p> A <b>filter expression for maps and arrays</b> is an instance of the construct <a href="#doc-xpath40-FilterExprAM">FilterExprAM</a>: that is, it is an expression in the form <code><var>E<sub>1</sub></var>?[<var>E<sub>2</sub></var>]</code>. Its effect is to evaluate <var>E<sub>1</sub></var> to return an array or map, and to select members of the array, or entries from the map, that satisfy the predicate in <var>E<sub>2</sub></var>.</p></dd><dt><a href="#dt-fixed-focus">fixed focus</a></dt><dd><p>A <b>fixed focus</b> is a focus for an expression that is evaluated once, rather than being applied to a series of values; in a fixed focus, the context value is set to one specific value, the context position is 1, and the context size is 1.</p></dd><dt><a href="#dt-focus">focus</a></dt><dd><p>The first three components of the <a title="dynamic context" class="termref" href="#dt-dynamic-context">dynamic context</a> (context value, context position, and context size) are called the <b>focus</b> of the expression. </p></dd><dt><a href="#dt-focus-function">focus function</a></dt><dd><p>A <b>focus function</b> is an inline function expression in which the function signature is implicit: the function takes a single argument of type <code>item()*</code> (that is, any value), and binds this to the context value when evaluating the function body, which returns a result of type <code>item()*</code>.</p></dd><dt><a href="#dt-function-coercion">function coercion</a></dt><dd><p><b>Function coercion</b> wraps a <a title="function item" class="termref" href="#dt-function-item">function item</a> in a new function whose signature is the same as the expected type. This effectively delays the checking of the argument and return types until the function is called.</p></dd><dt><a href="#dt-function-definition">function definition</a></dt><dd><p>A <b>function definition</b> contains information used to evaluate a static function call, including the name, parameters, and return type of the function.</p></dd><dt><a href="#dt-function-item">function item</a></dt><dd><p>A <b>function item</b> is an item that can be called using a <a title="dynamic function call" class="termref" href="#dt-dynamic-function-call">dynamic function call</a>.</p></dd><dt><a href="#dt-generalized-atomic-type">generalized atomic type</a></dt><dd><p>A <b>generalized atomic type</b> is an <a title="item type" class="termref" href="#dt-item-type">item type</a> whose instances are all atomic items. Generalized atomic types include (a) <a title="atomic type" class="termref" href="#dt-atomic-type">atomic types</a>, either built-in (for example <code>xs:integer</code>) or imported from a schema, (b) <a title="pure union type" class="termref" href="#dt-pure-union-type">pure union types</a>, either built-in (<code>xs:numeric</code> and <code>xs:error</code>) or imported from a schema, (c) <a title="choice item type" class="termref" href="#dt-choice-item-type">choice item types</a> if their alternatives are all generalized atomic types, and (d) <a title="enumeration type" class="termref" href="#dt-enumeration-type">enumeration types</a>. </p></dd><dt><a href="#dt-GNode">GNode</a></dt><dd><p>The term <b>generic node</b> or <b>GNode</b> is a collective term for <a title="XNode" class="termref" href="#dt-XNode">XNodes</a> (more commonly called simply <a title="node" class="termref" href="#dt-node">nodes</a>) representing the parts of an XML document, and <a title="JNode" class="termref" href="#dt-JNode">JNodes</a>, often used to represent the parts of a JSON document.</p></dd><dt><a href="#id-static-decimal-format-grouping-separator">grouping-separator</a></dt><dd><p><b>grouping-separator</b><em>(<var>M</var>, <var>R</var>)</em> is used to separate groups of digits (for example as a thousands separator). The default value for both the marker and the rendition is <span class="unicode-codepoint">U+002C</span> (<span class="unicode-name">COMMA</span>, <code>,</code>) .</p></dd><dt><a href="#dt-GTree">GTree</a></dt><dd><p>The term <b>GTree</b> means <a title="JTree" class="termref" href="#dt-JTree">JTree</a> or <a title="XTree" class="termref" href="#dt-XTree">XTree</a>.</p></dd><dt><a href="#dt-guarded">guarded</a></dt><dd><p>An expression <var>E</var> is said to be <b>guarded</b> by some governing condition <var>C</var> if evaluation of <var>E</var> is not allowed to fail with a <a title="dynamic error" class="termref" href="#dt-dynamic-error">dynamic error</a> except when <var>C</var> applies.</p></dd><dt><a href="#dt-host-language">host language</a></dt><dd><p> A <b>host language</b> for XPath is any environment that provides capabilities for XPath expressions to be defined and evaluated, and that supplies a static and dynamic context for their evaluation. </p></dd><dt><a href="#IgnorableWhitespace">ignorable whitespace</a></dt><dd><p><b>Ignorable whitespace</b> consists of any <a title="whitespace" class="termref" href="#Whitespace">whitespace</a> characters that may occur between <a title="terminal" class="termref" href="#terminal">terminals</a>, unless these characters occur in the context of a production marked with a <a href="#ExplicitWhitespaceHandling"> ws:explicit</a> annotation, in which case they can occur only where explicitly specified (see <a href="#ExplicitWhitespaceHandling"><b>A.3.4.2 Explicit Whitespace Handling</b></a>).</p></dd><dt><a href="#dt-implausible">implausible</a></dt><dd><p>Certain expressions, while not erroneous, are classified as being <b>implausible</b>, because they achieve no useful effect.</p></dd><dt><a href="#dt-implementation-defined">implementation defined</a></dt><dd><p><b>Implementation-defined</b> indicates an aspect that may differ between implementations, but must be specified by the implementer for each particular implementation.</p></dd><dt><a href="#dt-implementation-dependent">implementation dependent</a></dt><dd><p><b>Implementation-dependent</b> indicates an aspect that may differ between implementations, is not specified by this or any W3C specification, and is not required to be specified by the implementer for any particular implementation.</p></dd><dt><a href="#dt-timezone">implicit timezone</a></dt><dd><p><b>Implicit timezone.</b> This is the timezone to be used when a date, time, or dateTime value that does not have a timezone is used in a comparison or arithmetic operation. The implicit timezone is an <a title="implementation defined" class="termref" href="#dt-implementation-defined">implementation-defined</a> value of type <code>xs:dayTimeDuration</code>. See <a href="https://www.w3.org/TR/xmlschema-2/#dateTime-timezones"> 3.2.7.3 Timezones </a><sup><small>XS1-2</small></sup> or <a href="https://www.w3.org/TR/xmlschema11-2/#dateTime"> 3.3.7 dateTime </a><sup><small>XS11-2</small></sup> for the range of valid values of a timezone.</p></dd><dt><a href="#id-static-decimal-format-infinity">infinity</a></dt><dd><p><b>infinity</b><em>(<var>R</var>)</em> is the string used to represent the double value infinity (<code>INF</code>); the default value is the string <code>"Infinity"</code></p></dd><dt><a href="#dt-inline-func">inline function expression</a></dt><dd><p>An <b>inline function expression</b> is an instance of the construct <a href="#doc-xpath40-InlineFunctionExpr">InlineFunctionExpr</a>. When evaluated, an inline function expression creates an <a title="anonymous function" class="termref" href="#dt-anonymous-function">anonymous function</a> whose properties are defined directly in the inline function expression.</p></dd><dt><a href="#dt-is-attrs">in-scope attribute declarations</a></dt><dd><p><b>In-scope attribute declarations.</b> Each attribute declaration is identified either by an <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a> (for a top-level attribute declaration) or by an <a title="implementation   dependent" class="termref" href="#dt-implementation-dependent">implementation-dependent</a> attribute identifier (for a local attribute declaration). </p></dd><dt><a href="#dt-is-elems">in-scope element declarations</a></dt><dd><p><b>In-scope element declarations.</b> Each element declaration is identified either by an <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a> (for a top-level element declaration) or by an <a title="implementation   dependent" class="termref" href="#dt-implementation-dependent">implementation-dependent</a> element identifier (for a local element declaration). </p></dd><dt><a href="#dt-in-scope-named-item-types">in-scope named item types</a></dt><dd><p><b>In-scope named item types.</b> This is a mapping from <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QNames</a> to <a title="named item type" class="termref" href="#dt-named-item-type">named item types</a>.</p></dd><dt><a href="#dt-in-scope-namespaces">in-scope namespaces</a></dt><dd><p>The <b>in-scope namespaces</b> property of an element node is a set of <a title="namespace binding" class="termref" href="#dt-namespace-binding">namespace bindings</a>, each of which associates a namespace prefix with a URI.</p></dd><dt><a href="#dt-issd">in-scope schema definitions</a></dt><dd><p><b>In-scope schema definitions</b> is a generic term for all the element declarations, attribute declarations, and schema type definitions that are in scope during static analysis of an expression.</p></dd><dt><a href="#dt-is-types">in-scope schema type</a></dt><dd><p><b>In-scope schema types.</b> Each schema type definition is identified either by an <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a> (for a <b>named type</b>) or by an <a title="implementation   dependent" class="termref" href="#dt-implementation-dependent">implementation-dependent</a> type identifier (for an <b>anonymous type</b>). The in-scope schema types include the predefined schema types described in <a href="#id-predefined-types"><b>3.5 Schema Types</b></a>. </p></dd><dt><a href="#dt-in-scope-variables">in-scope variables</a></dt><dd><p><b>In-scope variables.</b> This is a mapping from <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QNames</a> to sequence types. It defines the set of variables that are available for reference within an expression. The <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a> is the name of the variable, and the type is the <a title="static type" class="termref" href="#dt-static-type">static type</a> of the variable.</p></dd><dt><a href="#dt-item">item</a></dt><dd><p> An <b>item</b> is either an <a title="atomic item" class="termref" href="#dt-atomic-item">atomic item</a>, a <a title="node" class="termref" href="#dt-node">node</a>, or a <a title="function item" class="termref" href="#dt-function-item">function item</a>.</p></dd><dt><a href="#dt-item-type">item type</a></dt><dd><p>An <b>item type</b> is a type that can be expressed using the <a href="#doc-xpath40-ItemType">ItemType</a> syntax, which forms part of the <a href="#doc-xpath40-SequenceType">SequenceType</a> syntax. Item types match individual <a title="item" class="termref" href="#dt-item">items</a>.</p></dd><dt><a href="#dt-item-type-designator">item type designator</a></dt><dd><p>An <b>item type designator</b> is a syntactic construct conforming to the grammar rule <a href="#doc-xpath40-ItemType">ItemType</a>. An item type designator is said to <b>designate</b> an <a title="item type" class="termref" href="#dt-item-type">item type</a>.</p></dd><dt><a href="#dt-JNode">JNode</a></dt><dd><p>A <b>JNode</b> is a kind of <a title="item" class="termref" href="#dt-item">item</a> used to represent a value within the context of a tree of <a title="map" class="termref" href="#dt-map">maps</a> and <a title="array" class="termref" href="#dt-array">arrays</a>. A root <b>JNode</b> represents a map or array; a non-root <b>JNode</b> represents a <a title="member" class="termref" href="#dt-member">member</a> of an array or an <a title="entry" class="termref" href="#dt-entry">entry</a> in a map.</p></dd><dt><a href="#dt-JTree">JTree</a></dt><dd><p>A tree that is rooted at a parentless <a title="JNode" class="termref" href="#dt-JNode">JNode</a> is referred to as a <b>JTree</b>.</p></dd><dt><a href="#dt-qname">lexical QName</a></dt><dd><p>A <b>lexical QName</b> is a name that conforms to the syntax of the <a href="#prod-xpath40-QName">QName</a> production</p></dd><dt><a href="#dt-literal">literal</a></dt><dd><p>A <b>literal</b> is a direct syntactic representation of an atomic item.</p></dd><dt><a href="#dt-literal-terminal">literal terminal</a></dt><dd><p>A <b>literal terminal</b> is a token appearing as a string in quotation marks on the right-hand side of an <a title="ordinary production rule" class="termref" href="#dt-ordinary-production-rule">ordinary production rule</a>.</p></dd><dt><a href="#dt-logical-expression">logical expression</a></dt><dd><p> A <b>logical expression</b> is either an <a title="and expression" class="termref" href="#dt-and-expression">and expression</a> or an <a title="or expression" class="termref" href="#dt-or-expression">or expression</a>. If a logical expression does not raise an error, its value is always one of the boolean values <code>true</code> or <code>false</code>.</p></dd><dt><a href="#dt-lookup-expression">lookup expression</a></dt><dd><p> A <b>lookup expression</b> is an instance of the production <a href="#doc-xpath40-LookupExpr">LookupExpr</a>: that is, an expression in the form <code><var>E<sub>1</sub></var>?<var>KS</var></code>, where <var>E<sub>1</sub></var> is an expression returning a sequence of maps or arrays, and <var>KS</var> is a key specifier, which indicates which entries in a map, or members in an array, should be selected.</p></dd><dt><a href="#dt-map">map</a></dt><dd><p>A <b>map</b> is a function that associates a set of keys with values, resulting in a collection of key / value pairs.</p></dd><dt><a href="#dt-mapping-arrow-operator">mapping arrow operator</a></dt><dd><p> The <b>mapping arrow operator</b><code>=!&gt;</code> applies a function to each item in a sequence.</p></dd><dt><a href="#may">may</a></dt><dd><p><b>MAY</b> means that an item is truly optional.</p></dd><dt><a href="#dt-member">member</a></dt><dd><p>The values of an array are called its <b>members</b>.</p></dd><dt><a href="#id-static-decimal-format-minus-sign">minus-sign</a></dt><dd><p><b>minus-sign</b><em>(<var>R</var>)</em> is the string used to mark negative numbers; the default value is <span class="unicode-codepoint">U+002D</span> (<span class="unicode-name">HYPHEN-MINUS</span>, <code>-</code>) .</p></dd><dt><a href="#must">must</a></dt><dd><p><b>MUST</b> means that the item is an absolute requirement of the specification.</p></dd><dt><a href="#mustnot">must not</a></dt><dd><p><b>MUST NOT</b> means that the item is an absolute prohibition of the specification.</p></dd><dt><a href="#dt-named-function-ref">named function reference</a></dt><dd><p> A <b>named function reference</b> is an instance of the production <a href="#doc-xpath40-NamedFunctionRef">NamedFunctionRef</a>: it is an expression (written <code>name#arity</code>) which evaluates to a <a title="function item" class="termref" href="#dt-function-item">function item</a>, the details of the function item being based on the properties of a <a title="function definition" class="termref" href="#dt-function-definition">function definition</a> in the <a title="static context" class="termref" href="#dt-static-context">static context</a>.</p></dd><dt><a href="#dt-named-item-type">named item type</a></dt><dd><p>A <b>named item type</b> is an <code>ItemType</code> identified by an <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a>.</p></dd><dt><a href="#dt-namespace-binding">namespace binding</a></dt><dd><p>A <b>namespace binding</b> is a pair comprising a namespace prefix (which is either an <code>xs:NCName</code> or empty), and a namespace URI.</p></dd><dt><a href="#dt-namespace-sensitive">namespace-sensitive</a></dt><dd><p>The <b>namespace-sensitive</b> types are <code>xs:QName</code>, <code>xs:NOTATION</code>, types derived by restriction from <code>xs:QName</code> or <code>xs:NOTATION</code>, list types that have a namespace-sensitive item type, and union types with a namespace-sensitive type in their transitive membership.</p></dd><dt><a href="#dt-name-test">name test</a></dt><dd><p>A node test that consists only of an EQName or a Wildcard is called a <b>name test</b>.</p></dd><dt><a href="#id-static-decimal-format-NaN">NaN</a></dt><dd><p><b>NaN</b><em>(<var>R</var>)</em> is the string used to represent the double value <code>NaN</code> (not a number); the default value is the string <code>"NaN"</code></p></dd><dt><a href="#dt-node">node</a></dt><dd><p>Except where the context indicates otherwise, the term <b>node</b> is used as a synonym for <a title="XNode" class="termref" href="#dt-XNode">XNode</a>.</p></dd><dt><a href="#dt-node-test">node test</a></dt><dd><p>A <b>node test</b> is a condition on the properties of a <a title="GNode" class="termref" href="#dt-GNode">GNode</a>. A node test determines which GNodes returned by an axis are selected by a <a title="step" class="termref" href="#dt-step">step</a>.</p></dd><dt><a href="#dt-no-namespace-rule">no-namespace rule</a></dt><dd><p>When an unprefixed lexical QName is expanded using the <b>no-namespace rule</b>, it is interpreted as having an absent namespace URI.</p></dd><dt><a href="#non-delimiting-token">non-delimiting terminal symbol</a></dt><dd><p>The <b>non-delimiting terminal symbols</b> are: <code>ancestor</code><code>ancestor-or-self</code><code>and</code><code>array</code><code>as</code><code>at</code><code>attribute</code><code>cast</code><code>castable</code><code>child</code><code>comment</code><code>declare</code><code>default</code><code>descendant</code><code>descendant-or-self</code><code>div</code><code>document-node</code><code>element</code><code>else</code><code>empty-sequence</code><code>enum</code><code>eq</code><code>every</code><code>except</code><code>false</code><code>fn</code><code>following</code><code>following-or-self</code><code>following-sibling</code><code>following-sibling-or-self</code><code>follows</code><code>follows-or-is</code><code>for</code><code>function</code><code>ge</code><code>get</code><code>gnode</code><code>gt</code><code>idiv</code><code>if</code><code>in</code><code>instance</code><code>intersect</code><code>is</code><code>is-not</code><code>item</code><code>jnode</code><code>key</code><code>le</code><code>let</code><code>lt</code><code>map</code><code>member</code><code>mod</code><code>namespace</code><code>namespace-node</code><code>ne</code><code>node</code><code>of</code><code>or</code><code>otherwise</code><code>parent</code><code>precedes</code><code>precedes-or-is</code><code>preceding</code><code>preceding-or-self</code><code>preceding-sibling</code><code>preceding-sibling-or-self</code><code>processing-instruction</code><code>record</code><code>return</code><code>satisfies</code><code>schema-attribute</code><code>schema-element</code><code>self</code><code>some</code><code>text</code><code>then</code><code>to</code><code>treat</code><code>true</code><code>union</code><code>value</code><a href="#prod-xpath40-BinaryIntegerLiteral">BinaryIntegerLiteral</a><a href="#prod-xpath40-DecimalLiteral">DecimalLiteral</a><a href="#prod-xpath40-DoubleLiteral">DoubleLiteral</a><a href="#prod-xpath40-HexIntegerLiteral">HexIntegerLiteral</a><a href="#prod-xpath40-IntegerLiteral">IntegerLiteral</a><a href="#prod-xpath40-NCName">NCName</a><a href="#prod-xpath40-QName">QName</a></p></dd><dt><a href="#dt-non-trivial">non-trivial</a></dt><dd><p>A construct is said to be a <b>non-trivial</b> instance of a grammatical production if it is not also an instance of one of its sub-productions.</p></dd><dt><a href="#dt-numeric">numeric</a></dt><dd><p>The type <code>xs:numeric</code> is defined as a union type with member types <code>xs:double</code>, <code>xs:float</code>, and <code>xs:decimal</code>. An item that is an instance of any of these types is referred to as a <b>numeric value</b>, and a type that is a subtype of <code>xs:numeric</code> is referred to as a <b>numeric type</b>.</p></dd><dt><a href="#dt-ordinary-production-rule">ordinary production rule</a></dt><dd><p>An <b>ordinary production rule</b> is a production rule in <a href="#id-grammar"><b>A.1 EBNF</b></a> that is not annotated <code>ws:explicit</code>.</p></dd><dt><a href="#dt-or-expression">or expression</a></dt><dd><p>An <b>or expression</b> is a <a title="non-trivial" class="termref" href="#dt-non-trivial">non-trivial</a> instance of the production <a href="#doc-xpath40-OrExpr">OrExpr</a>.</p></dd><dt><a href="#dt-partial-function-application">partial function application</a></dt><dd><p> A <a title="static function call" class="termref" href="#dt-static-function-call">static</a> or <a title="dynamic function call" class="termref" href="#dt-dynamic-function-call">dynamic</a> function call is a <b>partial function application</b> if one or more arguments is an <a href="#prod-xpath40-ArgumentPlaceholder">ArgumentPlaceholder</a>.</p></dd><dt><a href="#dt-partially-applied-function">partially applied function</a></dt><dd><p>A <b>partially applied function</b> is a function created by <a title="partial function application" class="termref" href="#dt-partial-function-application">partial function application</a>.</p></dd><dt><a href="#dt-path-expression">path expression</a></dt><dd><p>A <b>path expression</b> is either an <a title="absolute path expression" class="termref" href="#dt-absolute-path-expression">absolute path expression</a> or a <a title="relative path expression" class="termref" href="#dt-relative-path-expression">relative path expression</a></p></dd><dt><a href="#id-static-decimal-format-pattern-separator">pattern-separator</a></dt><dd><p><b>pattern-separator</b><em>(<var>M</var>)</em> is a character used to separate positive and negative sub-pictures in a picture string; the default value is <span class="unicode-codepoint">U+003B</span> (<span class="unicode-name">SEMICOLON</span>, <code>;</code>) .</p></dd><dt><a href="#id-static-decimal-format-percent">percent</a></dt><dd><p><b>percent</b><em>(<var>M</var>, <var>R</var>)</em> is used to indicate that the number is written as a per-hundred fraction; the default value for both the marker and the rendition is <span class="unicode-codepoint">U+0025</span> (<span class="unicode-name">PERCENT SIGN</span>, <code>%</code>) .</p></dd><dt><a href="#id-static-decimal-format-per-mille">per-mille</a></dt><dd><p><b>per-mille</b><em>(<var>M</var>, <var>R</var>)</em> is used to indicate that the number is written as a per-thousand fraction; the default value for both the marker and the rendition is <span class="unicode-codepoint">U+2030</span> (<span class="unicode-name">PER MILLE SIGN</span>, <code>‰</code>) .</p></dd><dt><a href="#dt-pipeline-operator">pipeline operator</a></dt><dd><p> The <b>pipeline operator</b><code>-&gt;</code> evaluates an expression and binds the result to the context value before evaluating another expression.</p></dd><dt><a href="#dt-predicate-truth-value">predicate truth value</a></dt><dd><p>The <b>predicate truth value</b> of a value <code>$V</code> is the result of the expression <code>if ($V instance of xs:numeric+) then ($V = position()) else fn:boolean($V)</code>.</p></dd><dt><a href="#dt-primary-expression">primary expression</a></dt><dd><p> A <b>primary expression</b> is an instance of the production <a href="#doc-xpath40-PrimaryExpr">PrimaryExpr</a>. Primary expressions are the basic primitives of the language. They include literals, variable references, context value references, and function calls. A primary expression may also be created by enclosing any expression in parentheses, which is sometimes helpful in controlling the precedence of operators.</p></dd><dt><a href="#dt-principal-node-kind">principal node kind</a></dt><dd><p>Every axis has a <b>principal node kind</b>. If an axis can contain elements, then the principal node kind is element; otherwise, it is the kind of nodes that the axis can contain.</p></dd><dt><a href="#dt-pure-union-type">pure union type</a></dt><dd><p>A <b>pure union type</b> is a <span><b>simple type</b></span> that satisfies the following constraints: (a) <a href="https://www.w3.org/TR/xmlschema11-1/#std-variety">{variety}<sup><small>XS11-1</small></sup></a> is <code>union</code>, (b) the <a href="https://www.w3.org/TR/xmlschema11-1/#std-facets">{facets}<sup><small>XS11-1</small></sup></a> property is empty, (c) no type in the transitive membership of the union type has <a href="https://www.w3.org/TR/xmlschema11-1/#std-variety">{variety}<sup><small>XS11-1</small></sup></a><code>list</code>, and (d) no type in the transitive membership of the union type is a type with <a href="https://www.w3.org/TR/xmlschema11-1/#std-variety">{variety}<sup><small>XS11-1</small></sup></a><code>union</code> having a non-empty <a href="https://www.w3.org/TR/xmlschema11-1/#std-facets">{facets}<sup><small>XS11-1</small></sup></a> property</p></dd><dt><a href="#dt-range-expression">range expression</a></dt><dd><p>A <b>range expression</b> is a <a title="non-trivial" class="termref" href="#dt-non-trivial">non-trivial</a> instance of the production <a href="#doc-xpath40-RangeExpr">RangeExpr</a>. A range expression is used to construct a sequence of integers.</p></dd><dt><a href="#dt-relative-path-expression">relative path expression</a></dt><dd><p> A <b>relative path expression</b> is a <a title="non-trivial" class="termref" href="#dt-non-trivial">non-trivial</a> instance of the production <a href="#doc-xpath40-RelativePathExpr">RelativePathExpr</a>: it consists of two or more operand expressions separated by <code>/</code> or <code>//</code> operators.</p></dd><dt><a href="#dt-resolve-relative-uri">resolve</a></dt><dd><p>To <b>resolve a relative URI</b><code>$rel</code> against a base URI <code>$base</code> is to expand it to an absolute URI, as if by calling the function <code>fn:resolve-uri($rel, $base)</code>.</p></dd><dt><a href="#dt-reverse-document-order">reverse document order</a></dt><dd><p>The node ordering that is the reverse of document order is called <b>reverse document order</b>.</p></dd><dt><a href="#dt-same-key">same key</a></dt><dd><p>Two atomic items <var>K<sub>1</sub></var> and <var>K<sub>2</sub></var> have the <b>same key value</b> if <code>fn:atomic-equal(<var>K<sub>1</sub></var>, <var>K<sub>2</sub></var>)</code> returns <code>true</code>, as specified in <a href="#xpath-functions-40">[Functions and Operators 4.0]</a> section <a href="../xpath-functions-40/#func-atomic-equal">2.2.1 fn:atomic-equal</a></p></dd><dt><a href="#dt-schema-type">schema type</a></dt><dd><p>A <b>schema type</b> is a complex type or simple type as defined in the <a href="#XMLSchema10">[XML Schema 1.0]</a> or <a href="#XMLSchema11">[XML Schema 1.1]</a> specifications, including built-in types as well as user-defined types.</p></dd><dt><a href="#dt-sequence">sequence</a></dt><dd><p>A <b>sequence</b> is an ordered collection of zero or more <a title="item" class="termref" href="#dt-item">items</a>.</p></dd><dt><a href="#dt-sequence-arrow-operator">sequence arrow operator</a></dt><dd><p> The <b>sequence arrow operator</b><code>=&gt;</code> applies a function to a supplied sequence.</p></dd><dt><a href="#dt-sequence-concatenation">sequence concatenation</a></dt><dd><p>The <b>sequence concatenation</b> of a number of sequences <var>S<sub>1</sub></var>, <var>S<sub>2</sub></var>, ... <var>S<sub>n</sub></var> is defined to be the sequence formed from the items of <var>S<sub>1</sub></var>, followed by the items from <var>S<sub>2</sub></var>, and so on, retaining order.</p></dd><dt><a href="#dt-sequence-expression">sequence expression</a></dt><dd><p>A <b>sequence expression</b> is a <a title="non-trivial" class="termref" href="#dt-non-trivial">non-trivial</a> instance of the production rule <a href="#doc-xpath40-Expr">Expr</a>, that is, an expression containing two or more instances of the production <a href="#doc-xpath40-ExprSingle">ExprSingle</a> separated by the comma operator.</p></dd><dt><a href="#dt-sequence-type">sequence type</a></dt><dd><p>A <b>sequence type</b> is a type that can be expressed using the <a href="#doc-xpath40-SequenceType">SequenceType</a> syntax. Sequence types are used whenever it is necessary to refer to a type in an XPath 4.0 expression. Since all values are sequences, every value matches one or more <b>sequence types</b>.</p></dd><dt><a href="#dt-sequence-type-designator">sequence type designator</a></dt><dd><p>A <b>sequence type designator</b> is a syntactic construct conforming to the grammar rule <a href="#doc-xpath40-SequenceType">SequenceType</a>. A sequence type designator is said to <b>designate</b> a <a title="sequence type" class="termref" href="#dt-sequence-type">sequence type</a>.</p></dd><dt><a href="#dt-sequencetype-matching">SequenceType matching</a></dt><dd><p><b>SequenceType matching</b> compares a value with an expected <a title="sequence type" class="termref" href="#dt-sequence-type">sequence type</a>. </p></dd><dt><a href="#dt-serialization">serialization</a></dt><dd><p><b>Serialization</b> is the process of converting an <a title="XDM instance" class="termref" href="#dt-data-model-instance">XDM instance</a> to a sequence of octets (step DM4 in Figure 1.), as described in <a href="#xslt-xquery-serialization-40">[Serialization 4.0]</a>.</p></dd><dt><a href="#dt-singleton">singleton</a></dt><dd><p>A sequence containing exactly one item is called a <b>singleton</b>.</p></dd><dt><a href="#dt-singleton-enumeration-type">singleton enumeration type</a></dt><dd><p>An enumeration type with a single enumerated value <var>E</var> (such as <code>enum("red")</code>) matches an item <var>S</var> if and only if (a) <var>S</var> is an instance of <code>xs:string</code>, and (b) <var>S</var> is equal to <var>E</var> when compared using Unicode codepoint collation. This is referred to as a <b>singleton enumeration type</b>.</p></dd><dt><a href="#dt-singleton-focus">singleton focus</a></dt><dd><p>A <b>singleton focus</b> is a <a title="fixed focus" class="termref" href="#dt-fixed-focus">fixed focus</a> in which the <a title="context value" class="termref" href="#dt-context-value">context value</a> is a <a title="singleton" class="termref" href="#dt-singleton">singleton</a> item.</p></dd><dt><a href="#stable">stable</a></dt><dd><p>Document order is <b>stable</b>, which means that the relative order of two nodes will not change during the processing of a given <span class="xpath">expression</span>, even if this order is <a title="implementation   dependent" class="termref" href="#dt-implementation-dependent">implementation-dependent</a>.</p></dd><dt><a href="#dt-static-collations">statically known collations</a></dt><dd><p><b>Statically known collations.</b> This is an <a title="implementation defined" class="termref" href="#dt-implementation-defined">implementation-defined</a> mapping from URI to collation. It defines the names of the collations that are available for use in processing expressions.</p></dd><dt><a href="#dt-static-decimal-formats">statically known decimal formats</a></dt><dd><p><b>Statically known decimal formats.</b> This is a mapping from QNames to decimal formats, with one default format that has no visible name, referred to as the unnamed decimal format. Each format is available for use when formatting numbers using the <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-format-number"><code>fn:format-number</code></a> function.</p></dd><dt><a href="#dt-statically-known-function-definitions">statically known function definitions</a></dt><dd><p><b>Statically known function definitions.</b> This is a set of <a title="function definition" class="termref" href="#dt-function-definition">function definitions</a>.</p></dd><dt><a href="#dt-static-namespaces">statically known namespaces</a></dt><dd><p><b>Statically known namespaces.</b> This is a mapping from prefix to namespace URI that defines all the namespaces that are known during static processing of a given expression.</p></dd><dt><a href="#dt-static-analysis">static analysis phase</a></dt><dd><p>The <b>static analysis phase</b> depends on the expression itself and on the <a title="static context" class="termref" href="#dt-static-context">static context</a>. The <b>static analysis phase</b> does not depend on input data (other than schemas).</p></dd><dt><a href="#dt-static-base-uri">Static Base URI</a></dt><dd><p><b>Static Base URI.</b> This is an absolute URI, used to resolve relative URIs during static analysis. </p></dd><dt><a href="#dt-static-context">static context</a></dt><dd><p>The <b>static context</b> of an expression is the information that is available during static analysis of the expression, prior to its evaluation.</p></dd><dt><a href="#dt-static-error">static error</a></dt><dd><p> An error that can be detected during the static analysis phase, and is not a type error, is a <b>static error</b>.</p></dd><dt><a href="#dt-static-function-call">static function call</a></dt><dd><p>A <b>static function call</b> is an instance of the production <a href="#doc-xpath40-FunctionCall">FunctionCall</a>: it consists of an EQName followed by a parenthesized list of zero or more arguments.</p></dd><dt><a href="#dt-static-type">static type</a></dt><dd><p>The <b>static type</b> of an expression is the best inference that the processor is able to make statically about the type of the result of the expression.</p></dd><dt><a href="#dt-step">step</a></dt><dd><p>The operands of a path expression are conventionally referred to as <b>steps</b>.</p></dd><dt><a href="#dt-string-value">string value</a></dt><dd><p>The <b>string value</b> of a node is a string and can be extracted by applying the <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-string"><code>string</code></a> function to the node.</p></dd><dt><a href="#dt-substantively-disjoint">substantively disjoint</a></dt><dd><p>Two <a title="sequence type" class="termref" href="#dt-sequence-type">sequence types</a> are deemed to be <b>substantively disjoint</b> if (a) neither is a subtype of the other (see <a href="#id-seqtype-subtype"><b>3.3.1 Subtypes of Sequence Types</b></a>) and (b) the only values that are instances of both types are one or more of the following:</p><ul><li><p>The empty sequence, <code>()</code>.</p></li><li><p>The <a href="https://qt4cg.org/specifications/xpath-datamodel-40/#dt-empty-map">empty map</a><sup><small>DM</small></sup>, <code>{}</code>.</p></li><li><p>The <a href="https://qt4cg.org/specifications/xpath-datamodel-40/#dt-empty-array">empty array</a><sup><small>DM</small></sup>, <code>[]</code>.</p></li></ul></dd><dt><a href="#dt-substitution-group">substitution group</a></dt><dd><p><b>Substitution groups</b> are defined in <a href="https://www.w3.org/TR/xmlschema-1/#Element_Equivalence_Class"> 2.2.2.2 Element Substitution Group </a><sup><small>XS1-1</small></sup> and <a href="https://www.w3.org/TR/xmlschema11-1/#Element_Equivalence_Class"> 2.2.2.2 Element Substitution Group </a><sup><small>XS11-1</small></sup>. Informally, the substitution group headed by a given element (called the <b>head element</b>) consists of the set of elements that can be substituted for the head element without affecting the outcome of schema validation.</p></dd><dt><a href="#dt-subtype">subtype</a></dt><dd><p>Given two <a title="sequence type" class="termref" href="#dt-sequence-type">sequence types</a> or <a title="item type" class="termref" href="#dt-item-type">item types</a>, the rules in this section determine if one is a <b>subtype</b> of the other. If a type <var>A</var> is a subtype of type <var>B</var>, it follows that every value matched by <var>A</var> is also matched by <var>B</var>.</p></dd><dt><a href="#dt-subtype-substitution">subtype substitution</a></dt><dd><p>The use of a value that has a <a title="dynamic type" class="termref" href="#dt-dynamic-type">dynamic type</a> that is a <a title="subtype" class="termref" href="#dt-subtype">subtype</a> of the expected type is known as <b>subtype substitution</b>.</p></dd><dt><a href="#symbol">symbol</a></dt><dd><p>Each rule in the grammar defines one <b>symbol</b>, using the following format: </p><div class="exampleInner"><pre xml:space="preserve">symbol ::= expression</pre></div></dd><dt><a href="#symbolseparators">symbol separators</a></dt><dd><p><a title="whitespace" class="termref" href="#Whitespace">Whitespace</a> and <a href="#doc-xpath40-Comment">Comments</a> function as <b>symbol separators</b>. For the most part, they are not mentioned in the grammar, and may occur between any two terminal symbols mentioned in the grammar, except where that is forbidden by the <a href="#ws-explicit">/* ws: explicit */</a> annotation in the EBNF, or by the <a href="#parse-note-xml-version">/* xgc: xml-version */</a> annotation.</p></dd><dt><a href="#dt-system-function">system function</a></dt><dd><p><b>System functions</b> include the functions defined in <a href="#xpath-functions-40">[Functions and Operators 4.0]</a>, functions defined by the specifications of a host language, <a title="constructor function" class="termref" href="#dt-constructor-function">constructor functions</a> for atomic types, and any additional functions provided by the implementation. System functions are sometimes called built-in functions.</p></dd><dt><a href="#terminal">terminal</a></dt><dd><p>A <b>terminal</b> is a symbol or string or pattern that can appear in the right-hand side of a rule, but never appears on the left-hand side in the main grammar, although it may appear on the left-hand side of a rule in the grammar for terminals.</p></dd><dt><a href="#dt-trusted">trusted</a></dt><dd><p>The static context includes a boolean property called <b>trusted</b> that determines whether external resources are available.</p></dd><dt><a href="#dt-type-annotation">type annotation</a></dt><dd><p>Each element node and attribute node in an <a title="XDM instance" class="termref" href="#dt-data-model-instance">XDM instance</a> has a <b>type annotation</b> (described in <a href="#xpath-datamodel-40">[XDM 4.0]</a> section <a href="../xpath-datamodel-40/#types">4.1 Schema Information</a>). The type annotation of a node is a reference to a <a title="schema type" class="termref" href="#dt-schema-type">schema type</a>. </p></dd><dt><a href="#dt-typed-value">typed value</a></dt><dd><p>The <b>typed value</b> of a node is a sequence of atomic items and can be extracted by applying the <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-data"><code>data</code></a> function to the node.</p></dd><dt><a href="#dt-type-error">type error</a></dt><dd><p>A <b>type error</b> may be raised during the static analysis phase or the dynamic evaluation phase. During the static analysis phase, a <a title="type error" class="termref" href="#dt-type-error">type error</a> occurs when the <a title="static type" class="termref" href="#dt-static-type">static type</a> of an expression does not match the expected type of the context in which the expression occurs. During the dynamic evaluation phase, a <a title="type error" class="termref" href="#dt-type-error">type error</a> occurs when the <a title="dynamic type" class="termref" href="#dt-dynamic-type">dynamic type</a> of a value does not match the expected type of the context in which the value occurs.</p></dd><dt><a href="#dt-untrusted">untrusted</a></dt><dd><p><span class="deltaxml-new" style="background:#90EE90">Code executing with </span><a title="trusted" class="termref" href="#dt-trusted"><span class="deltaxml-new" style="background:#90EE90">trusted</span></a><span class="deltaxml-new" style="background:#90EE90"> set to </span><code><span class="deltaxml-new" style="background:#90EE90">false</span></code><span class="deltaxml-new" style="background:#90EE90"> is said to be </span><b><span class="deltaxml-new" style="background:#90EE90">untrusted</span></b><span class="deltaxml-new" style="background:#90EE90">.</span></p></dd><dt><a href="#dt-URI">URI</a></dt><dd><p>Within this specification, the term <b>URI</b> refers to a Universal Resource Identifier as defined in <a href="#RFC3986">[RFC3986]</a> and extended in <a href="#RFC3987">[RFC3987]</a> with the new name <b>IRI</b>.</p></dd><dt><a href="#dt-value">value</a></dt><dd><p>In the <a title="data model" class="termref" href="#dt-datamodel">data model</a>, a <b>value</b> is always a <a title="sequence" class="termref" href="#dt-sequence">sequence</a>.</p></dd><dt><a href="#dt-variable-reference">variable reference</a></dt><dd><p>A <b>variable reference</b> is an EQName preceded by a $-sign.</p></dd><dt><a href="#dt-variable-terminal">variable terminal</a></dt><dd><p>A <b>variable terminal</b> is an instance of a production rule that is not itself an <a title="ordinary production rule" class="termref" href="#dt-ordinary-production-rule">ordinary production rule</a> but that is named (directly) on the right-hand side of an <a title="ordinary production rule" class="termref" href="#dt-ordinary-production-rule">ordinary production rule</a>.</p></dd><dt><a href="#dt-variable-values">variable values</a></dt><dd><p><b>Variable values</b>. This is a mapping from <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QNames</a> to values. It contains the same <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QNames</a> as the <a title="in-scope variables" class="termref" href="#dt-in-scope-variables">in-scope variables</a> in the <a title="static context" class="termref" href="#dt-static-context">static context</a> for the expression. The <a title="expanded QName" class="termref" href="#dt-expanded-qname">expanded QName</a> is the name of the variable and the value is the dynamic value of the variable, which includes its <a title="dynamic type" class="termref" href="#dt-dynamic-type">dynamic type</a>.</p></dd><dt><a href="#dt-warning">warning</a></dt><dd><p>In addition to <a title="static error" class="termref" href="#dt-static-error">static errors</a>, <a title="dynamic error" class="termref" href="#dt-dynamic-error">dynamic errors</a>, and <a title="type error" class="termref" href="#dt-type-error">type errors</a>, an XPath 4.0 implementation may raise <b>warnings</b>, either during the <a title="static analysis phase" class="termref" href="#dt-static-analysis">static analysis phase</a> or the <a title="dynamic evaluation phase" class="termref" href="#dt-dynamic-evaluation">dynamic evaluation phase</a>. The circumstances in which warnings are raised, and the ways in which warnings are handled, are <a title="implementation defined" class="termref" href="#dt-implementation-defined">implementation-defined</a>.</p></dd><dt><a href="#Whitespace">whitespace</a></dt><dd><p>A <b>whitespace</b> character is any of the characters defined by <a href="http://www.w3.org/TR/REC-xml/#NT-S"> [http://www.w3.org/TR/REC-xml/#NT-S]</a>.</p></dd><dt><a href="#dt-wildcard-matches">wildcard-matches</a></dt><dd><p>In these rules, if <var>MU</var> and <var>NU</var> are <a href="#prod-xpath40-NameTestUnion">NameTestUnions</a>, then <var>MU</var><b>wildcard-matches</b><var>NU</var> is true if every name that matches <var>MU</var> also matches <var>NU</var>.</p></dd><dt><a href="#dt-data-model-instance">XDM instance</a></dt><dd><p>The term <b>XDM instance</b> is used, synonymously with the term <a title="value" class="termref" href="#dt-value">value</a>, to denote an unconstrained <a title="sequence" class="termref" href="#dt-sequence">sequence</a> of <a title="item" class="termref" href="#dt-item">items</a>.</p></dd><dt><a href="#dt-XNode">XNode</a></dt><dd><p>An <b>XNode</b> is an instance of one of the <b>node kinds</b> defined in <a href="#xpath-datamodel-40">[XDM 4.0]</a> section <a href="../xpath-datamodel-40/#nodes">7.1 XML Nodes</a>.</p></dd><dt><a href="#dt-xpath-compat-mode">XPath 1.0 compatibility mode</a></dt><dd><p><b>XPath 1.0 compatibility mode.</b><span class="xpath">This value is <code>true</code> if rules for backward compatibility with XPath Version 1.0 are in effect; otherwise it is <code>false</code>.</span></p></dd><dt><a href="#dt-anyAtomicType">xs:anyAtomicType</a></dt><dd><p><code>xs:anyAtomicType</code> is an <a title="atomic type" class="termref" href="#dt-atomic-type">atomic type</a> that includes all atomic items (and no values that are not atomic). Its base type is <code>xs:anySimpleType</code> from which all simple types, including atomic, list, and union types, are derived. All primitive atomic types, such as <code>xs:decimal</code> and <code>xs:string</code>, have <code>xs:anyAtomicType</code> as their base type.</p></dd><dt><a href="#dt-dayTimeDuration">xs:dayTimeDuration</a></dt><dd><p><code>xs:dayTimeDuration</code> is derived by restriction from <code>xs:duration</code>. The lexical representation of <code>xs:dayTimeDuration</code> is restricted to contain only day, hour, minute, and second components.</p></dd><dt><a href="#dt-xs-error">xs:error</a></dt><dd><p><code>xs:error</code> is a simple type with no value space. It is defined in <a href="https://www.w3.org/TR/xmlschema11-1/#xsd-error"> 3.16.7.3 xs:error </a><sup><small>XS11-1</small></sup> and can be used in the <a href="#id-sequencetype-syntax"><b>3.1 Sequence Types</b></a> to raise errors.</p></dd><dt><a href="#dt-untyped">xs:untyped</a></dt><dd><p><code>xs:untyped</code> is used as the <a title="type annotation" class="termref" href="#dt-type-annotation">type annotation</a> of an element node that has not been validated, or has been validated in <code>skip</code> mode.</p></dd><dt><a href="#dt-untypedAtomic">xs:untypedAtomic</a></dt><dd><p><code>xs:untypedAtomic</code> is an <a title="atomic type" class="termref" href="#dt-atomic-type">atomic type</a> that is used to denote untyped atomic data, such as text that has not been assigned a more specific type.</p></dd><dt><a href="#dt-yearMonthDuration">xs:yearMonthDuration</a></dt><dd><p><code>xs:yearMonthDuration</code> is derived by restriction from <code>xs:duration</code>. The lexical representation of <code>xs:yearMonthDuration</code> is restricted to contain only year and month components.</p></dd><dt><a href="#dt-XTree">XTree</a></dt><dd><p>A tree that is rooted at a parentless <a title="XNode" class="termref" href="#dt-XNode">XNode</a> is referred to as an <b>XTree</b>.</p></dd><dt><a href="#id-static-decimal-format-zero-digit">zero-digit</a></dt><dd><p><b>zero-digit</b><em>(<var>M</var>)</em> is the character used in the picture string to represent the digit zero; the default value is <span class="unicode-codepoint">U+0030</span> (<span class="unicode-name">DIGIT ZERO</span>, <code>0</code>) . This character must be a digit (category Nd in the Unicode property database), and it must have the numeric value zero. This property implicitly defines the ten Unicode characters that are used to represent the values 0 to 9 in the function output: Unicode is organized so that each set of decimal digits forms a contiguous block of characters in numerical sequence. Within the picture string any of these ten character can be used (interchangeably) as a place-holder for a mandatory digit. Within the final result string, these ten characters are used to represent the digits zero to nine.</p></dd></dl></div></div><script src="js/toc.js"></script><script src="/js/scroll.js"></script></body></html>